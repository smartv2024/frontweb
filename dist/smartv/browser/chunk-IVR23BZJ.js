import{$ as pe,A as Pn,Aa as J,B as a,Ba as jt,C as r,Ca as qi,D as w,Da as $i,E as Dt,Ea as ie,F as Vt,Fa as oe,G as I,Ga as re,H as C,Ha as Yi,I as h,Ia as ae,J as Ui,Ja as Hi,K as Me,Ka as Qi,L as l,La as Gi,M as E,Ma as Zi,N as P,Na as z,O as _e,Oa as Ki,P as O,Q as k,Qa as Xi,R as A,Ra as Ji,S as Lt,Sa as eo,T as ct,Ta as to,U as Z,Ua as no,V as te,Va as io,W as Sn,Wa as oo,X as Ni,Y as Ue,Z as $,_ as B,a as se,aa as ji,b as tt,ba as Fi,c as Ra,ca as Bi,d as za,e as We,f as xn,g as Cn,ga as Ri,h as yn,i as Mn,j as Ti,k as Et,l as Di,la as Ne,m as _,ma as zi,n as x,na as R,o as Vi,oa as Ut,p as Li,pa as Wi,q as Le,qa as mt,r as m,s as S,sa as xe,t as N,ta as Nt,u as Tt,ua as Y,v as M,va as $e,w as dt,wa as H,x as f,xa as K,y as qe,ya as ne,z as be,za as X}from"./chunk-QCLMKNWM.js";var ro=Ra((Ae,On)=>{"use strict";(function(d,i){typeof Ae=="object"&&typeof On<"u"?On.exports=i():typeof define=="function"&&define.amd?define(i):(d=typeof globalThis<"u"?globalThis:d||self,d.Sweetalert2=i())})(Ae,function(){"use strict";function d(e,t,o){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:o;throw new TypeError("Private element is not present on this object")}function i(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(e,t){return e.get(d(e,t))}function s(e,t,o){i(e,t),t.set(e,o)}function c(e,t,o){return e.set(d(e,t),o),o}let p=100,g={},j=()=>{g.previousActiveElement instanceof HTMLElement?(g.previousActiveElement.focus(),g.previousActiveElement=null):document.body&&document.body.focus()},W=e=>new Promise(t=>{if(!e)return t();let o=window.scrollX,u=window.scrollY;g.restoreFocusTimeout=setTimeout(()=>{j(),t()},p),window.scrollTo(o,u)}),U="swal2-",v=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((e,t)=>(e[t]=U+t,e),{}),ft=["success","warning","info","question","error"].reduce((e,t)=>(e[t]=U+t,e),{}),An="SweetAlert2:",Jt=e=>e.charAt(0).toUpperCase()+e.slice(1),ce=e=>{console.warn(`${An} ${typeof e=="object"?e.join(" "):e}`)},je=e=>{console.error(`${An} ${e}`)},In=[],co=e=>{In.includes(e)||(In.push(e),ce(e))},En=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;co(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},ht=e=>typeof e=="function"?e():e,en=e=>e&&typeof e.toPromise=="function",it=e=>en(e)?e.toPromise():Promise.resolve(e),tn=e=>e&&Promise.resolve(e)===e,me=()=>document.body.querySelector(`.${v.container}`),ot=e=>{let t=me();return t?t.querySelector(e):null},ge=e=>ot(`.${e}`),V=()=>ge(v.popup),Ye=()=>ge(v.icon),mo=()=>ge(v["icon-content"]),Tn=()=>ge(v.title),nn=()=>ge(v["html-container"]),Dn=()=>ge(v.image),on=()=>ge(v["progress-steps"]),bt=()=>ge(v["validation-message"]),Oe=()=>ot(`.${v.actions} .${v.confirm}`),He=()=>ot(`.${v.actions} .${v.cancel}`),Fe=()=>ot(`.${v.actions} .${v.deny}`),uo=()=>ge(v["input-label"]),Qe=()=>ot(`.${v.loader}`),rt=()=>ge(v.actions),Vn=()=>ge(v.footer),vt=()=>ge(v["timer-progress-bar"]),rn=()=>ge(v.close),po=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,an=()=>{let e=V();if(!e)return[];let t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),o=Array.from(t).sort((y,T)=>{let D=parseInt(y.getAttribute("tabindex")||"0"),q=parseInt(T.getAttribute("tabindex")||"0");return D>q?1:D<q?-1:0}),u=e.querySelectorAll(po),b=Array.from(u).filter(y=>y.getAttribute("tabindex")!=="-1");return[...new Set(o.concat(b))].filter(y=>ue(y))},sn=()=>Ee(document.body,v.shown)&&!Ee(document.body,v["toast-shown"])&&!Ee(document.body,v["no-backdrop"]),wt=()=>{let e=V();return e?Ee(e,v.toast):!1},go=()=>{let e=V();return e?e.hasAttribute("data-loading"):!1},fe=(e,t)=>{if(e.textContent="",t){let u=new DOMParser().parseFromString(t,"text/html"),b=u.querySelector("head");b&&Array.from(b.childNodes).forEach(T=>{e.appendChild(T)});let y=u.querySelector("body");y&&Array.from(y.childNodes).forEach(T=>{T instanceof HTMLVideoElement||T instanceof HTMLAudioElement?e.appendChild(T.cloneNode(!0)):e.appendChild(T)})}},Ee=(e,t)=>{if(!t)return!1;let o=t.split(/\s+/);for(let u=0;u<o.length;u++)if(!e.classList.contains(o[u]))return!1;return!0},fo=(e,t)=>{Array.from(e.classList).forEach(o=>{!Object.values(v).includes(o)&&!Object.values(ft).includes(o)&&!Object.values(t.showClass||{}).includes(o)&&e.classList.remove(o)})},he=(e,t,o)=>{if(fo(e,t),!t.customClass)return;let u=t.customClass[o];if(u){if(typeof u!="string"&&!u.forEach){ce(`Invalid type of customClass.${o}! Expected string or iterable object, got "${typeof u}"`);return}L(e,u)}},_t=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${v.popup} > .${v[t]}`);case"checkbox":return e.querySelector(`.${v.popup} > .${v.checkbox} input`);case"radio":return e.querySelector(`.${v.popup} > .${v.radio} input:checked`)||e.querySelector(`.${v.popup} > .${v.radio} input:first-child`);case"range":return e.querySelector(`.${v.popup} > .${v.range} input`);default:return e.querySelector(`.${v.popup} > .${v.input}`)}},Ln=e=>{if(e.focus(),e.type!=="file"){let t=e.value;e.value="",e.value=t}},Un=(e,t,o)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(u=>{Array.isArray(e)?e.forEach(b=>{o?b.classList.add(u):b.classList.remove(u)}):o?e.classList.add(u):e.classList.remove(u)}))},L=(e,t)=>{Un(e,t,!0)},we=(e,t)=>{Un(e,t,!1)},De=(e,t)=>{let o=Array.from(e.children);for(let u=0;u<o.length;u++){let b=o[u];if(b instanceof HTMLElement&&Ee(b,t))return b}},Be=(e,t,o)=>{o===`${parseInt(o)}`&&(o=parseInt(o)),o||parseInt(o)===0?e.style.setProperty(t,typeof o=="number"?`${o}px`:o):e.style.removeProperty(t)},ee=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";e&&(e.style.display=t)},le=e=>{e&&(e.style.display="none")},ln=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";e&&new MutationObserver(()=>{at(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},Nn=(e,t,o,u)=>{let b=e.querySelector(t);b&&b.style.setProperty(o,u)},at=function(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";t?ee(e,o):le(e)},ue=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),ho=()=>!ue(Oe())&&!ue(Fe())&&!ue(He()),jn=e=>e.scrollHeight>e.clientHeight,Fn=e=>{let t=window.getComputedStyle(e),o=parseFloat(t.getPropertyValue("animation-duration")||"0"),u=parseFloat(t.getPropertyValue("transition-duration")||"0");return o>0||u>0},dn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=vt();o&&ue(o)&&(t&&(o.style.transition="none",o.style.width="100%"),setTimeout(()=>{o.style.transition=`width ${e/1e3}s linear`,o.style.width="0%"},10))},bo=()=>{let e=vt();if(!e)return;let t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";let o=parseInt(window.getComputedStyle(e).width),u=t/o*100;e.style.width=`${u}%`},vo=()=>typeof window>"u"||typeof document>"u",wo=`
 <div aria-labelledby="${v.title}" aria-describedby="${v["html-container"]}" class="${v.popup}" tabindex="-1">
   <button type="button" class="${v.close}"></button>
   <ul class="${v["progress-steps"]}"></ul>
   <div class="${v.icon}"></div>
   <img class="${v.image}" />
   <h2 class="${v.title}" id="${v.title}"></h2>
   <div class="${v["html-container"]}" id="${v["html-container"]}"></div>
   <input class="${v.input}" id="${v.input}" />
   <input type="file" class="${v.file}" />
   <div class="${v.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${v.select}" id="${v.select}"></select>
   <div class="${v.radio}"></div>
   <label class="${v.checkbox}">
     <input type="checkbox" id="${v.checkbox}" />
     <span class="${v.label}"></span>
   </label>
   <textarea class="${v.textarea}" id="${v.textarea}"></textarea>
   <div class="${v["validation-message"]}" id="${v["validation-message"]}"></div>
   <div class="${v.actions}">
     <div class="${v.loader}"></div>
     <button type="button" class="${v.confirm}"></button>
     <button type="button" class="${v.deny}"></button>
     <button type="button" class="${v.cancel}"></button>
   </div>
   <div class="${v.footer}"></div>
   <div class="${v["timer-progress-bar-container"]}">
     <div class="${v["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),_o=()=>{let e=me();return e?(e.remove(),we([document.documentElement,document.body],[v["no-backdrop"],v["toast-shown"],v["has-column"]]),!0):!1},Re=()=>{g.currentInstance.resetValidationMessage()},xo=()=>{let e=V(),t=De(e,v.input),o=De(e,v.file),u=e.querySelector(`.${v.range} input`),b=e.querySelector(`.${v.range} output`),y=De(e,v.select),T=e.querySelector(`.${v.checkbox} input`),D=De(e,v.textarea);t.oninput=Re,o.onchange=Re,y.onchange=Re,T.onchange=Re,D.oninput=Re,u.oninput=()=>{Re(),b.value=u.value},u.onchange=()=>{Re(),b.value=u.value}},Co=e=>typeof e=="string"?document.querySelector(e):e,yo=e=>{let t=V();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Mo=e=>{window.getComputedStyle(e).direction==="rtl"&&L(me(),v.rtl)},Po=e=>{let t=_o();if(vo()){je("SweetAlert2 requires document to initialize");return}let o=document.createElement("div");o.className=v.container,t&&L(o,v["no-transition"]),fe(o,wo),o.dataset.swal2Theme=e.theme;let u=Co(e.target);u.appendChild(o),yo(e),Mo(u),xo()},cn=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?So(e,t):e&&fe(t,e)},So=(e,t)=>{e.jquery?Oo(t,e):fe(t,e.toString())},Oo=(e,t)=>{if(e.textContent="",0 in t)for(let o=0;o in t;o++)e.appendChild(t[o].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},ko=(e,t)=>{let o=rt(),u=Qe();!o||!u||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?le(o):ee(o),he(o,t,"actions"),Ao(o,u,t),fe(u,t.loaderHtml||""),he(u,t,"loader"))};function Ao(e,t,o){let u=Oe(),b=Fe(),y=He();!u||!b||!y||(un(u,"confirm",o),un(b,"deny",o),un(y,"cancel",o),Io(u,b,y,o),o.reverseButtons&&(o.toast?(e.insertBefore(y,u),e.insertBefore(b,u)):(e.insertBefore(y,t),e.insertBefore(b,t),e.insertBefore(u,t))))}function Io(e,t,o,u){if(!u.buttonsStyling){we([e,t,o],v.styled);return}L([e,t,o],v.styled),u.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",u.confirmButtonColor),u.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",u.denyButtonColor),u.cancelButtonColor&&o.style.setProperty("--swal2-cancel-button-background-color",u.cancelButtonColor),mn(e),mn(t),mn(o)}function mn(e){let t=window.getComputedStyle(e),o=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-outline",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${o}`))}function un(e,t,o){let u=Jt(t);at(e,o[`show${u}Button`],"inline-block"),fe(e,o[`${t}ButtonText`]||""),e.setAttribute("aria-label",o[`${t}ButtonAriaLabel`]||""),e.className=v[t],he(e,o,`${t}Button`)}let Eo=(e,t)=>{let o=rn();o&&(fe(o,t.closeButtonHtml||""),he(o,t,"closeButton"),at(o,t.showCloseButton),o.setAttribute("aria-label",t.closeButtonAriaLabel||""))},To=(e,t)=>{let o=me();o&&(Do(o,t.backdrop),Vo(o,t.position),Lo(o,t.grow),he(o,t,"container"))};function Do(e,t){typeof t=="string"?e.style.background=t:t||L([document.documentElement,document.body],v["no-backdrop"])}function Vo(e,t){t&&(t in v?L(e,v[t]):(ce('The "position" parameter is not valid, defaulting to "center"'),L(e,v.center)))}function Lo(e,t){t&&L(e,v[`grow-${t}`])}var F={innerParams:new WeakMap,domCache:new WeakMap};let Uo=["input","file","range","select","radio","checkbox","textarea"],No=(e,t)=>{let o=V();if(!o)return;let u=F.innerParams.get(e),b=!u||t.input!==u.input;Uo.forEach(y=>{let T=De(o,v[y]);T&&(Bo(y,t.inputAttributes),T.className=v[y],b&&le(T))}),t.input&&(b&&jo(t),Ro(t))},jo=e=>{if(!e.input)return;if(!Q[e.input]){je(`Unexpected type of input! Expected ${Object.keys(Q).join(" | ")}, got "${e.input}"`);return}let t=Bn(e.input);if(!t)return;let o=Q[e.input](t,e);ee(t),e.inputAutoFocus&&setTimeout(()=>{Ln(o)})},Fo=e=>{for(let t=0;t<e.attributes.length;t++){let o=e.attributes[t].name;["id","type","value","style"].includes(o)||e.removeAttribute(o)}},Bo=(e,t)=>{let o=V();if(!o)return;let u=_t(o,e);if(u){Fo(u);for(let b in t)u.setAttribute(b,t[b])}},Ro=e=>{if(!e.input)return;let t=Bn(e.input);t&&he(t,e,"input")},pn=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},st=(e,t,o)=>{if(o.inputLabel){let u=document.createElement("label"),b=v["input-label"];u.setAttribute("for",e.id),u.className=b,typeof o.customClass=="object"&&L(u,o.customClass.inputLabel),u.innerText=o.inputLabel,t.insertAdjacentElement("beforebegin",u)}},Bn=e=>{let t=V();if(t)return De(t,v[e]||v.input)},xt=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:tn(t)||ce(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Q={};Q.text=Q.email=Q.password=Q.number=Q.tel=Q.url=Q.search=Q.date=Q["datetime-local"]=Q.time=Q.week=Q.month=(e,t)=>(xt(e,t.inputValue),st(e,e,t),pn(e,t),e.type=t.input,e),Q.file=(e,t)=>(st(e,e,t),pn(e,t),e),Q.range=(e,t)=>{let o=e.querySelector("input"),u=e.querySelector("output");return xt(o,t.inputValue),o.type=t.input,xt(u,t.inputValue),st(o,e,t),e},Q.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){let o=document.createElement("option");fe(o,t.inputPlaceholder),o.value="",o.disabled=!0,o.selected=!0,e.appendChild(o)}return st(e,e,t),e},Q.radio=e=>(e.textContent="",e),Q.checkbox=(e,t)=>{let o=_t(V(),"checkbox");o.value="1",o.checked=!!t.inputValue;let u=e.querySelector("span");return fe(u,t.inputPlaceholder||t.inputLabel),o},Q.textarea=(e,t)=>{xt(e,t.inputValue),pn(e,t),st(e,e,t);let o=u=>parseInt(window.getComputedStyle(u).marginLeft)+parseInt(window.getComputedStyle(u).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let u=parseInt(window.getComputedStyle(V()).width),b=()=>{if(!document.body.contains(e))return;let y=e.offsetWidth+o(e);y>u?V().style.width=`${y}px`:Be(V(),"width",t.width)};new MutationObserver(b).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};let zo=(e,t)=>{let o=nn();o&&(ln(o),he(o,t,"htmlContainer"),t.html?(cn(t.html,o),ee(o,"block")):t.text?(o.textContent=t.text,ee(o,"block")):le(o),No(e,t))},Wo=(e,t)=>{let o=Vn();o&&(ln(o),at(o,t.footer,"block"),t.footer&&cn(t.footer,o),he(o,t,"footer"))},qo=(e,t)=>{let o=F.innerParams.get(e),u=Ye();if(!u)return;if(o&&t.icon===o.icon){Wn(u,t),Rn(u,t);return}if(!t.icon&&!t.iconHtml){le(u);return}if(t.icon&&Object.keys(ft).indexOf(t.icon)===-1){je(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),le(u);return}ee(u),Wn(u,t),Rn(u,t),L(u,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",zn)},Rn=(e,t)=>{for(let[o,u]of Object.entries(ft))t.icon!==o&&we(e,u);L(e,t.icon&&ft[t.icon]),Ho(e,t),zn(),he(e,t,"icon")},zn=()=>{let e=V();if(!e)return;let t=window.getComputedStyle(e).getPropertyValue("background-color"),o=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let u=0;u<o.length;u++)o[u].style.backgroundColor=t},$o=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Yo=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Wn=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let o=e.innerHTML,u="";t.iconHtml?u=qn(t.iconHtml):t.icon==="success"?(u=$o,o=o.replace(/ style=".*?"/g,"")):t.icon==="error"?u=Yo:t.icon&&(u=qn({question:"?",warning:"!",info:"i"}[t.icon])),o.trim()!==u.trim()&&fe(e,u)},Ho=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(let o of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Nn(e,o,"background-color",t.iconColor);Nn(e,".swal2-success-ring","border-color",t.iconColor)}},qn=e=>`<div class="${v["icon-content"]}">${e}</div>`,Qo=(e,t)=>{let o=Dn();if(o){if(!t.imageUrl){le(o);return}ee(o,""),o.setAttribute("src",t.imageUrl),o.setAttribute("alt",t.imageAlt||""),Be(o,"width",t.imageWidth),Be(o,"height",t.imageHeight),o.className=v.image,he(o,t,"image")}},gn=!1,$n=0,Yn=0,Hn=0,Qn=0,Go=e=>{e.addEventListener("mousedown",Ct),document.body.addEventListener("mousemove",yt),e.addEventListener("mouseup",Mt),e.addEventListener("touchstart",Ct),document.body.addEventListener("touchmove",yt),e.addEventListener("touchend",Mt)},Zo=e=>{e.removeEventListener("mousedown",Ct),document.body.removeEventListener("mousemove",yt),e.removeEventListener("mouseup",Mt),e.removeEventListener("touchstart",Ct),document.body.removeEventListener("touchmove",yt),e.removeEventListener("touchend",Mt)},Ct=e=>{let t=V();if(e.target===t||Ye().contains(e.target)){gn=!0;let o=Gn(e);$n=o.clientX,Yn=o.clientY,Hn=parseInt(t.style.insetInlineStart)||0,Qn=parseInt(t.style.insetBlockStart)||0,L(t,"swal2-dragging")}},yt=e=>{let t=V();if(gn){let{clientX:o,clientY:u}=Gn(e);t.style.insetInlineStart=`${Hn+(o-$n)}px`,t.style.insetBlockStart=`${Qn+(u-Yn)}px`}},Mt=()=>{let e=V();gn=!1,we(e,"swal2-dragging")},Gn=e=>{let t=0,o=0;return e.type.startsWith("mouse")?(t=e.clientX,o=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,o=e.touches[0].clientY),{clientX:t,clientY:o}},Ko=(e,t)=>{let o=me(),u=V();if(!(!o||!u)){if(t.toast){Be(o,"width",t.width),u.style.width="100%";let b=Qe();b&&u.insertBefore(b,Ye())}else Be(u,"width",t.width);Be(u,"padding",t.padding),t.color&&(u.style.color=t.color),t.background&&(u.style.background=t.background),le(bt()),Xo(u,t),t.draggable&&!t.toast?(L(u,v.draggable),Go(u)):(we(u,v.draggable),Zo(u))}},Xo=(e,t)=>{let o=t.showClass||{};e.className=`${v.popup} ${ue(e)?o.popup:""}`,t.toast?(L([document.documentElement,document.body],v["toast-shown"]),L(e,v.toast)):L(e,v.modal),he(e,t,"popup"),typeof t.customClass=="string"&&L(e,t.customClass),t.icon&&L(e,v[`icon-${t.icon}`])},Jo=(e,t)=>{let o=on();if(!o)return;let{progressSteps:u,currentProgressStep:b}=t;if(!u||u.length===0||b===void 0){le(o);return}ee(o),o.textContent="",b>=u.length&&ce("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),u.forEach((y,T)=>{let D=er(y);if(o.appendChild(D),T===b&&L(D,v["active-progress-step"]),T!==u.length-1){let q=tr(t);o.appendChild(q)}})},er=e=>{let t=document.createElement("li");return L(t,v["progress-step"]),fe(t,e),t},tr=e=>{let t=document.createElement("li");return L(t,v["progress-step-line"]),e.progressStepsDistance&&Be(t,"width",e.progressStepsDistance),t},nr=(e,t)=>{let o=Tn();o&&(ln(o),at(o,t.title||t.titleText,"block"),t.title&&cn(t.title,o),t.titleText&&(o.innerText=t.titleText),he(o,t,"title"))},Zn=(e,t)=>{Ko(e,t),To(e,t),Jo(e,t),qo(e,t),Qo(e,t),nr(e,t),Eo(e,t),zo(e,t),ko(e,t),Wo(e,t);let o=V();typeof t.didRender=="function"&&o&&t.didRender(o),g.eventEmitter.emit("didRender",o)},ir=()=>ue(V()),Kn=()=>{var e;return(e=Oe())===null||e===void 0?void 0:e.click()},or=()=>{var e;return(e=Fe())===null||e===void 0?void 0:e.click()},rr=()=>{var e;return(e=He())===null||e===void 0?void 0:e.click()},Ge=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Xn=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},ar=(e,t,o)=>{Xn(e),t.toast||(e.keydownHandler=u=>lr(t,u,o),e.keydownTarget=t.keydownListenerCapture?window:V(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},fn=(e,t)=>{var o;let u=an();if(u.length){e=e+t,e===-2&&(e=u.length-1),e===u.length?e=0:e===-1&&(e=u.length-1),u[e].focus();return}(o=V())===null||o===void 0||o.focus()},Jn=["ArrowRight","ArrowDown"],sr=["ArrowLeft","ArrowUp"],lr=(e,t,o)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?dr(t,e):t.key==="Tab"?cr(t):[...Jn,...sr].includes(t.key)?mr(t.key):t.key==="Escape"&&ur(t,e,o)))},dr=(e,t)=>{if(!ht(t.allowEnterKey))return;let o=_t(V(),t.input);if(e.target&&o&&e.target instanceof HTMLElement&&e.target.outerHTML===o.outerHTML){if(["textarea","file"].includes(t.input))return;Kn(),e.preventDefault()}},cr=e=>{let t=e.target,o=an(),u=-1;for(let b=0;b<o.length;b++)if(t===o[b]){u=b;break}e.shiftKey?fn(u,-1):fn(u,1),e.stopPropagation(),e.preventDefault()},mr=e=>{let t=rt(),o=Oe(),u=Fe(),b=He();if(!t||!o||!u||!b)return;let y=[o,u,b];if(document.activeElement instanceof HTMLElement&&!y.includes(document.activeElement))return;let T=Jn.includes(e)?"nextElementSibling":"previousElementSibling",D=document.activeElement;if(D){for(let q=0;q<t.children.length;q++){if(D=D[T],!D)return;if(D instanceof HTMLButtonElement&&ue(D))break}D instanceof HTMLButtonElement&&D.focus()}},ur=(e,t,o)=>{ht(t.allowEscapeKey)&&(e.preventDefault(),o(Ge.esc))};var Ze={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let pr=()=>{let e=me();Array.from(document.body.children).forEach(o=>{o.contains(e)||(o.hasAttribute("aria-hidden")&&o.setAttribute("data-previous-aria-hidden",o.getAttribute("aria-hidden")||""),o.setAttribute("aria-hidden","true"))})},ei=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},ti=typeof window<"u"&&!!window.GestureEvent,gr=()=>{if(ti&&!Ee(document.body,v.iosfix)){let e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,L(document.body,v.iosfix),fr()}},fr=()=>{let e=me();if(!e)return;let t;e.ontouchstart=o=>{t=hr(o)},e.ontouchmove=o=>{t&&(o.preventDefault(),o.stopPropagation())}},hr=e=>{let t=e.target,o=me(),u=nn();return!o||!u||br(e)||vr(e)?!1:t===o||!jn(o)&&t instanceof HTMLElement&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(jn(u)&&u.contains(t))},br=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",vr=e=>e.touches&&e.touches.length>1,wr=()=>{if(Ee(document.body,v.iosfix)){let e=parseInt(document.body.style.top,10);we(document.body,v.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},_r=()=>{let e=document.createElement("div");e.className=v["scrollbar-measure"],document.body.appendChild(e);let t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},Ke=null,xr=e=>{Ke===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(Ke=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ke+_r()}px`)},Cr=()=>{Ke!==null&&(document.body.style.paddingRight=`${Ke}px`,Ke=null)};function ni(e,t,o,u){wt()?oi(e,u):(W(o).then(()=>oi(e,u)),Xn(g)),ti?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),sn()&&(Cr(),wr(),ei()),yr()}function yr(){we([document.documentElement,document.body],[v.shown,v["height-auto"],v["no-backdrop"],v["toast-shown"]])}function Ve(e){e=Pr(e);let t=Ze.swalPromiseResolve.get(this),o=Mr(this);this.isAwaitingPromise?e.isDismissed||(lt(this),t(e)):o&&t(e)}let Mr=e=>{let t=V();if(!t)return!1;let o=F.innerParams.get(e);if(!o||Ee(t,o.hideClass.popup))return!1;we(t,o.showClass.popup),L(t,o.hideClass.popup);let u=me();return we(u,o.showClass.backdrop),L(u,o.hideClass.backdrop),Sr(e,t,o),!0};function ii(e){let t=Ze.swalPromiseReject.get(this);lt(this),t&&t(e)}let lt=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,F.innerParams.get(e)||e._destroy())},Pr=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Sr=(e,t,o)=>{var u;let b=me(),y=Fn(t);typeof o.willClose=="function"&&o.willClose(t),(u=g.eventEmitter)===null||u===void 0||u.emit("willClose",t),y?Or(e,t,b,o.returnFocus,o.didClose):ni(e,b,o.returnFocus,o.didClose)},Or=(e,t,o,u,b)=>{g.swalCloseEventFinishedCallback=ni.bind(null,e,o,u,b);let y=function(T){if(T.target===t){var D;(D=g.swalCloseEventFinishedCallback)===null||D===void 0||D.call(g),delete g.swalCloseEventFinishedCallback,t.removeEventListener("animationend",y),t.removeEventListener("transitionend",y)}};t.addEventListener("animationend",y),t.addEventListener("transitionend",y)},oi=(e,t)=>{setTimeout(()=>{var o;typeof t=="function"&&t.bind(e.params)(),(o=g.eventEmitter)===null||o===void 0||o.emit("didClose"),e._destroy&&e._destroy()})},Xe=e=>{let t=V();if(t||new It,t=V(),!t)return;let o=Qe();wt()?le(Ye()):kr(t,e),ee(o),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},kr=(e,t)=>{let o=rt(),u=Qe();!o||!u||(!t&&ue(Oe())&&(t=Oe()),ee(o),t&&(le(t),u.setAttribute("data-button-to-replace",t.className),o.insertBefore(u,t)),L([e,o],v.loading))},Ar=(e,t)=>{t.input==="select"||t.input==="radio"?Vr(e,t):["text","email","number","tel","textarea"].some(o=>o===t.input)&&(en(t.inputValue)||tn(t.inputValue))&&(Xe(Oe()),Lr(e,t))},Ir=(e,t)=>{let o=e.getInput();if(!o)return null;switch(t.input){case"checkbox":return Er(o);case"radio":return Tr(o);case"file":return Dr(o);default:return t.inputAutoTrim?o.value.trim():o.value}},Er=e=>e.checked?1:0,Tr=e=>e.checked?e.value:null,Dr=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,Vr=(e,t)=>{let o=V();if(!o)return;let u=b=>{t.input==="select"?Ur(o,Pt(b),t):t.input==="radio"&&Nr(o,Pt(b),t)};en(t.inputOptions)||tn(t.inputOptions)?(Xe(Oe()),it(t.inputOptions).then(b=>{e.hideLoading(),u(b)})):typeof t.inputOptions=="object"?u(t.inputOptions):je(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},Lr=(e,t)=>{let o=e.getInput();o&&(le(o),it(t.inputValue).then(u=>{o.value=t.input==="number"?`${parseFloat(u)||0}`:`${u}`,ee(o),o.focus(),e.hideLoading()}).catch(u=>{je(`Error in inputValue promise: ${u}`),o.value="",ee(o),o.focus(),e.hideLoading()}))};function Ur(e,t,o){let u=De(e,v.select);if(!u)return;let b=(y,T,D)=>{let q=document.createElement("option");q.value=D,fe(q,T),q.selected=ri(D,o.inputValue),y.appendChild(q)};t.forEach(y=>{let T=y[0],D=y[1];if(Array.isArray(D)){let q=document.createElement("optgroup");q.label=T,q.disabled=!1,u.appendChild(q),D.forEach(et=>b(q,et[1],et[0]))}else b(u,D,T)}),u.focus()}function Nr(e,t,o){let u=De(e,v.radio);if(!u)return;t.forEach(y=>{let T=y[0],D=y[1],q=document.createElement("input"),et=document.createElement("label");q.type="radio",q.name=v.radio,q.value=T,ri(T,o.inputValue)&&(q.checked=!0);let _n=document.createElement("span");fe(_n,D),_n.className=v.label,et.appendChild(q),et.appendChild(_n),u.appendChild(et)});let b=u.querySelectorAll("input");b.length&&b[0].focus()}let Pt=e=>{let t=[];return e instanceof Map?e.forEach((o,u)=>{let b=o;typeof b=="object"&&(b=Pt(b)),t.push([u,b])}):Object.keys(e).forEach(o=>{let u=e[o];typeof u=="object"&&(u=Pt(u)),t.push([o,u])}),t},ri=(e,t)=>!!t&&t.toString()===e.toString(),jr=e=>{let t=F.innerParams.get(e);e.disableButtons(),t.input?ai(e,"confirm"):bn(e,!0)},Fr=e=>{let t=F.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?ai(e,"deny"):hn(e,!1)},Br=(e,t)=>{e.disableButtons(),t(Ge.cancel)},ai=(e,t)=>{let o=F.innerParams.get(e);if(!o.input){je(`The "input" parameter is needed to be set when using returnInputValueOn${Jt(t)}`);return}let u=e.getInput(),b=Ir(e,o);o.inputValidator?Rr(e,b,t):u&&!u.checkValidity()?(e.enableButtons(),e.showValidationMessage(o.validationMessage||u.validationMessage)):t==="deny"?hn(e,b):bn(e,b)},Rr=(e,t,o)=>{let u=F.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>it(u.inputValidator(t,u.validationMessage))).then(y=>{e.enableButtons(),e.enableInput(),y?e.showValidationMessage(y):o==="deny"?hn(e,t):bn(e,t)})},hn=(e,t)=>{let o=F.innerParams.get(e||void 0);o.showLoaderOnDeny&&Xe(Fe()),o.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>it(o.preDeny(t,o.validationMessage))).then(b=>{b===!1?(e.hideLoading(),lt(e)):e.close({isDenied:!0,value:typeof b>"u"?t:b})}).catch(b=>li(e||void 0,b))):e.close({isDenied:!0,value:t})},si=(e,t)=>{e.close({isConfirmed:!0,value:t})},li=(e,t)=>{e.rejectPromise(t)},bn=(e,t)=>{let o=F.innerParams.get(e||void 0);o.showLoaderOnConfirm&&Xe(),o.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>it(o.preConfirm(t,o.validationMessage))).then(b=>{ue(bt())||b===!1?(e.hideLoading(),lt(e)):si(e,typeof b>"u"?t:b)}).catch(b=>li(e||void 0,b))):si(e,t)};function St(){let e=F.innerParams.get(this);if(!e)return;let t=F.domCache.get(this);le(t.loader),wt()?e.icon&&ee(Ye()):zr(t),we([t.popup,t.actions],v.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}let zr=e=>{let t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ee(t[0],"inline-block"):ho()&&le(e.actions)};function di(){let e=F.innerParams.get(this),t=F.domCache.get(this);return t?_t(t.popup,e.input):null}function ci(e,t,o){let u=F.domCache.get(e);t.forEach(b=>{u[b].disabled=o})}function mi(e,t){let o=V();if(!(!o||!e))if(e.type==="radio"){let u=o.querySelectorAll(`[name="${v.radio}"]`);for(let b=0;b<u.length;b++)u[b].disabled=t}else e.disabled=t}function ui(){ci(this,["confirmButton","denyButton","cancelButton"],!1)}function pi(){ci(this,["confirmButton","denyButton","cancelButton"],!0)}function gi(){mi(this.getInput(),!1)}function fi(){mi(this.getInput(),!0)}function hi(e){let t=F.domCache.get(this),o=F.innerParams.get(this);fe(t.validationMessage,e),t.validationMessage.className=v["validation-message"],o.customClass&&o.customClass.validationMessage&&L(t.validationMessage,o.customClass.validationMessage),ee(t.validationMessage);let u=this.getInput();u&&(u.setAttribute("aria-invalid","true"),u.setAttribute("aria-describedby",v["validation-message"]),Ln(u),L(u,v.inputerror))}function bi(){let e=F.domCache.get(this);e.validationMessage&&le(e.validationMessage);let t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),we(t,v.inputerror))}let Je={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Wr=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],qr={allowEnterKey:void 0},$r=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],vi=e=>Object.prototype.hasOwnProperty.call(Je,e),wi=e=>Wr.indexOf(e)!==-1,_i=e=>qr[e],Yr=e=>{vi(e)||ce(`Unknown parameter "${e}"`)},Hr=e=>{$r.includes(e)&&ce(`The parameter "${e}" is incompatible with toasts`)},Qr=e=>{let t=_i(e);t&&En(e,t)},xi=e=>{e.backdrop===!1&&e.allowOutsideClick&&ce('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","borderless","embed-iframe"].includes(e.theme)&&ce(`Invalid theme "${e.theme}". Expected "light", "dark", "auto", "borderless", or "embed-iframe"`);for(let t in e)Yr(t),e.toast&&Hr(t),Qr(t)};function Ci(e){let t=me(),o=V(),u=F.innerParams.get(this);if(!o||Ee(o,u.hideClass.popup)){ce("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let b=Gr(e),y=Object.assign({},u,b);xi(y),t.dataset.swal2Theme=y.theme,Zn(this,y),F.innerParams.set(this,y),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}let Gr=e=>{let t={};return Object.keys(e).forEach(o=>{wi(o)?t[o]=e[o]:ce(`Invalid parameter to update: ${o}`)}),t};function yi(){let e=F.domCache.get(this),t=F.innerParams.get(this);if(!t){Mi(this);return}e.popup&&g.swalCloseEventFinishedCallback&&(g.swalCloseEventFinishedCallback(),delete g.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),g.eventEmitter.emit("didDestroy"),Zr(this)}let Zr=e=>{Mi(e),delete e.params,delete g.keydownHandler,delete g.keydownTarget,delete g.currentInstance},Mi=e=>{e.isAwaitingPromise?(vn(F,e),e.isAwaitingPromise=!0):(vn(Ze,e),vn(F,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},vn=(e,t)=>{for(let o in e)e[o].delete(t)};var Kr=Object.freeze({__proto__:null,_destroy:yi,close:Ve,closeModal:Ve,closePopup:Ve,closeToast:Ve,disableButtons:pi,disableInput:fi,disableLoading:St,enableButtons:ui,enableInput:gi,getInput:di,handleAwaitingPromise:lt,hideLoading:St,rejectPromise:ii,resetValidationMessage:bi,showValidationMessage:hi,update:Ci});let Xr=(e,t,o)=>{e.toast?Jr(e,t,o):(ta(t),na(t),ia(e,t,o))},Jr=(e,t,o)=>{t.popup.onclick=()=>{e&&(ea(e)||e.timer||e.input)||o(Ge.close)}},ea=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton),Ot=!1,ta=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(Ot=!0)}}},na=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(o){e.popup.onmouseup=()=>{},(o.target===e.popup||o.target instanceof HTMLElement&&e.popup.contains(o.target))&&(Ot=!0)}}},ia=(e,t,o)=>{t.container.onclick=u=>{if(Ot){Ot=!1;return}u.target===t.container&&ht(e.allowOutsideClick)&&o(Ge.backdrop)}},oa=e=>typeof e=="object"&&e.jquery,Pi=e=>e instanceof Element||oa(e),ra=e=>{let t={};return typeof e[0]=="object"&&!Pi(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((o,u)=>{let b=e[u];typeof b=="string"||Pi(b)?t[o]=b:b!==void 0&&je(`Unexpected type of ${o}! Expected "string" or "Element", got ${typeof b}`)}),t};function aa(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return new this(...t)}function sa(e){class t extends this{_main(u,b){return super._main(u,Object.assign({},e,b))}}return t}let la=()=>g.timeout&&g.timeout.getTimerLeft(),Si=()=>{if(g.timeout)return bo(),g.timeout.stop()},Oi=()=>{if(g.timeout){let e=g.timeout.start();return dn(e),e}},da=()=>{let e=g.timeout;return e&&(e.running?Si():Oi())},ca=e=>{if(g.timeout){let t=g.timeout.increase(e);return dn(t,!0),t}},ma=()=>!!(g.timeout&&g.timeout.isRunning()),ki=!1,wn={};function ua(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";wn[e]=this,ki||(document.body.addEventListener("click",pa),ki=!0)}let pa=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(let o in wn){let u=t.getAttribute(o);if(u){wn[o].fire({template:u});return}}};class ga{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,o){let u=this._getHandlersByEventName(t);u.includes(o)||u.push(o)}once(t,o){var u=this;let b=function(){u.removeListener(t,b);for(var y=arguments.length,T=new Array(y),D=0;D<y;D++)T[D]=arguments[D];o.apply(u,T)};this.on(t,b)}emit(t){for(var o=arguments.length,u=new Array(o>1?o-1:0),b=1;b<o;b++)u[b-1]=arguments[b];this._getHandlersByEventName(t).forEach(y=>{try{y.apply(this,u)}catch(T){console.error(T)}})}removeListener(t,o){let u=this._getHandlersByEventName(t),b=u.indexOf(o);b>-1&&u.splice(b,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}g.eventEmitter=new ga;var fa=Object.freeze({__proto__:null,argsToParams:ra,bindClickHandler:ua,clickCancel:rr,clickConfirm:Kn,clickDeny:or,enableLoading:Xe,fire:aa,getActions:rt,getCancelButton:He,getCloseButton:rn,getConfirmButton:Oe,getContainer:me,getDenyButton:Fe,getFocusableElements:an,getFooter:Vn,getHtmlContainer:nn,getIcon:Ye,getIconContent:mo,getImage:Dn,getInputLabel:uo,getLoader:Qe,getPopup:V,getProgressSteps:on,getTimerLeft:la,getTimerProgressBar:vt,getTitle:Tn,getValidationMessage:bt,increaseTimer:ca,isDeprecatedParameter:_i,isLoading:go,isTimerRunning:ma,isUpdatableParameter:wi,isValidParameter:vi,isVisible:ir,mixin:sa,off:(e,t)=>{if(!e){g.eventEmitter.reset();return}t?g.eventEmitter.removeListener(e,t):g.eventEmitter.removeAllListeners(e)},on:(e,t)=>{g.eventEmitter.on(e,t)},once:(e,t)=>{g.eventEmitter.once(e,t)},resumeTimer:Oi,showLoading:Xe,stopTimer:Si,toggleTimer:da});class ha{constructor(t,o){this.callback=t,this.remaining=o,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){let o=this.running;return o&&this.stop(),this.remaining+=t,o&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let Ai=["swal-title","swal-html","swal-footer"],ba=e=>{let t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};let o=t.content;return Pa(o),Object.assign(va(o),wa(o),_a(o),xa(o),Ca(o),ya(o),Ma(o,Ai))},va=e=>{let t={};return Array.from(e.querySelectorAll("swal-param")).forEach(u=>{ze(u,["name","value"]);let b=u.getAttribute("name"),y=u.getAttribute("value");!b||!y||(typeof Je[b]=="boolean"?t[b]=y!=="false":typeof Je[b]=="object"?t[b]=JSON.parse(y):t[b]=y)}),t},wa=e=>{let t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(u=>{let b=u.getAttribute("name"),y=u.getAttribute("value");!b||!y||(t[b]=new Function(`return ${y}`)())}),t},_a=e=>{let t={};return Array.from(e.querySelectorAll("swal-button")).forEach(u=>{ze(u,["type","color","aria-label"]);let b=u.getAttribute("type");!b||!["confirm","cancel","deny"].includes(b)||(t[`${b}ButtonText`]=u.innerHTML,t[`show${Jt(b)}Button`]=!0,u.hasAttribute("color")&&(t[`${b}ButtonColor`]=u.getAttribute("color")),u.hasAttribute("aria-label")&&(t[`${b}ButtonAriaLabel`]=u.getAttribute("aria-label")))}),t},xa=e=>{let t={},o=e.querySelector("swal-image");return o&&(ze(o,["src","width","height","alt"]),o.hasAttribute("src")&&(t.imageUrl=o.getAttribute("src")||void 0),o.hasAttribute("width")&&(t.imageWidth=o.getAttribute("width")||void 0),o.hasAttribute("height")&&(t.imageHeight=o.getAttribute("height")||void 0),o.hasAttribute("alt")&&(t.imageAlt=o.getAttribute("alt")||void 0)),t},Ca=e=>{let t={},o=e.querySelector("swal-icon");return o&&(ze(o,["type","color"]),o.hasAttribute("type")&&(t.icon=o.getAttribute("type")),o.hasAttribute("color")&&(t.iconColor=o.getAttribute("color")),t.iconHtml=o.innerHTML),t},ya=e=>{let t={},o=e.querySelector("swal-input");o&&(ze(o,["type","label","placeholder","value"]),t.input=o.getAttribute("type")||"text",o.hasAttribute("label")&&(t.inputLabel=o.getAttribute("label")),o.hasAttribute("placeholder")&&(t.inputPlaceholder=o.getAttribute("placeholder")),o.hasAttribute("value")&&(t.inputValue=o.getAttribute("value")));let u=Array.from(e.querySelectorAll("swal-input-option"));return u.length&&(t.inputOptions={},u.forEach(b=>{ze(b,["value"]);let y=b.getAttribute("value");if(!y)return;let T=b.innerHTML;t.inputOptions[y]=T})),t},Ma=(e,t)=>{let o={};for(let u in t){let b=t[u],y=e.querySelector(b);y&&(ze(y,[]),o[b.replace(/^swal-/,"")]=y.innerHTML.trim())}return o},Pa=e=>{let t=Ai.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(o=>{let u=o.tagName.toLowerCase();t.includes(u)||ce(`Unrecognized element <${u}>`)})},ze=(e,t)=>{Array.from(e.attributes).forEach(o=>{t.indexOf(o.name)===-1&&ce([`Unrecognized attribute "${o.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},Ii=10,Sa=e=>{let t=me(),o=V();typeof e.willOpen=="function"&&e.willOpen(o),g.eventEmitter.emit("willOpen",o);let b=window.getComputedStyle(document.body).overflowY;Aa(t,o,e),setTimeout(()=>{Oa(t,o)},Ii),sn()&&(ka(t,e.scrollbarPadding,b),pr()),!wt()&&!g.previousActiveElement&&(g.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(o)),g.eventEmitter.emit("didOpen",o),we(t,v["no-transition"])},kt=e=>{let t=V();if(e.target!==t)return;let o=me();t.removeEventListener("animationend",kt),t.removeEventListener("transitionend",kt),o.style.overflowY="auto"},Oa=(e,t)=>{Fn(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",kt),t.addEventListener("transitionend",kt)):e.style.overflowY="auto"},ka=(e,t,o)=>{gr(),t&&o!=="hidden"&&xr(o),setTimeout(()=>{e.scrollTop=0})},Aa=(e,t,o)=>{L(e,o.showClass.backdrop),o.animation?(t.style.setProperty("opacity","0","important"),ee(t,"grid"),setTimeout(()=>{L(t,o.showClass.popup),t.style.removeProperty("opacity")},Ii)):ee(t,"grid"),L([document.documentElement,document.body],v.shown),o.heightAuto&&o.backdrop&&!o.toast&&L([document.documentElement,document.body],v["height-auto"])};var Ei={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Ia(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=Ei.email),e.input==="url"&&(e.inputValidator=Ei.url))}function Ea(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(ce('Target parameter is not valid, defaulting to "body"'),e.target="body")}function Ta(e){Ia(e),e.showLoaderOnConfirm&&!e.preConfirm&&ce(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Ea(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),Po(e)}let ke;var At=new WeakMap;class G{constructor(){if(s(this,At,void 0),typeof window>"u")return;ke=this;for(var t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];let b=Object.freeze(this.constructor.argsToParams(o));this.params=b,this.isAwaitingPromise=!1,c(At,this,this._main(ke.params))}_main(t){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(xi(Object.assign({},o,t)),g.currentInstance){let y=Ze.swalPromiseResolve.get(g.currentInstance),{isAwaitingPromise:T}=g.currentInstance;g.currentInstance._destroy(),T||y({isDismissed:!0}),sn()&&ei()}g.currentInstance=ke;let u=Va(t,o);Ta(u),Object.freeze(u),g.timeout&&(g.timeout.stop(),delete g.timeout),clearTimeout(g.restoreFocusTimeout);let b=La(ke);return Zn(ke,u),F.innerParams.set(ke,u),Da(ke,b,u)}then(t){return n(At,this).then(t)}finally(t){return n(At,this).finally(t)}}let Da=(e,t,o)=>new Promise((u,b)=>{let y=T=>{e.close({isDismissed:!0,dismiss:T})};Ze.swalPromiseResolve.set(e,u),Ze.swalPromiseReject.set(e,b),t.confirmButton.onclick=()=>{jr(e)},t.denyButton.onclick=()=>{Fr(e)},t.cancelButton.onclick=()=>{Br(e,y)},t.closeButton.onclick=()=>{y(Ge.close)},Xr(o,t,y),ar(g,o,y),Ar(e,o),Sa(o),Ua(g,o,y),Na(t,o),setTimeout(()=>{t.container.scrollTop=0})}),Va=(e,t)=>{let o=ba(e),u=Object.assign({},Je,t,o,e);return u.showClass=Object.assign({},Je.showClass,u.showClass),u.hideClass=Object.assign({},Je.hideClass,u.hideClass),u.animation===!1&&(u.showClass={backdrop:"swal2-noanimation"},u.hideClass={}),u},La=e=>{let t={popup:V(),container:me(),actions:rt(),confirmButton:Oe(),denyButton:Fe(),cancelButton:He(),loader:Qe(),closeButton:rn(),validationMessage:bt(),progressSteps:on()};return F.domCache.set(e,t),t},Ua=(e,t,o)=>{let u=vt();le(u),t.timer&&(e.timeout=new ha(()=>{o("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(ee(u),he(u,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&dn(t.timer)})))},Na=(e,t)=>{if(!t.toast){if(!ht(t.allowEnterKey)){En("allowEnterKey"),Ba();return}ja(e)||Fa(e,t)||fn(-1,1)}},ja=e=>{let t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(let o of t)if(o instanceof HTMLElement&&ue(o))return o.focus(),!0;return!1},Fa=(e,t)=>t.focusDeny&&ue(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&ue(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&ue(e.confirmButton)?(e.confirmButton.focus(),!0):!1,Ba=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let o=document.createElement("audio");o.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",o.loop=!0,document.body.appendChild(o),setTimeout(()=>{o.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${e}`)}G.prototype.disableButtons=pi,G.prototype.enableButtons=ui,G.prototype.getInput=di,G.prototype.disableInput=fi,G.prototype.enableInput=gi,G.prototype.hideLoading=St,G.prototype.disableLoading=St,G.prototype.showValidationMessage=hi,G.prototype.resetValidationMessage=bi,G.prototype.close=Ve,G.prototype.closePopup=Ve,G.prototype.closeModal=Ve,G.prototype.closeToast=Ve,G.prototype.rejectPromise=ii,G.prototype.update=Ci,G.prototype._destroy=yi,Object.assign(G,fa),Object.keys(Kr).forEach(e=>{G[e]=function(){return ke&&ke[e]?ke[e](...arguments):null}}),G.DismissReason=Ge,G.version="11.19.1";let It=G;return It.default=It,It});typeof Ae<"u"&&Ae.Sweetalert2&&(Ae.swal=Ae.sweetAlert=Ae.Swal=Ae.SweetAlert=Ae.Sweetalert2);typeof document<"u"&&function(d,i){var n=d.createElement("style");if(d.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=i);else try{n.innerHTML=i}catch{n.innerText=i}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.1s, box-shadow 0.1s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-confirm-button-background-color: #7066e0;--swal2-deny-button-background-color: #dc3741;--swal2-cancel-button-background-color: #6e7881}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:var(--swal2-confirm-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:var(--swal2-deny-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:var(--swal2-cancel-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-outline)}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});var Wa=()=>["/admin/profile"];function qa(d,i){d&1&&(a(0,"li",12)(1,"a",35),w(2,"i",36),l(3," Users "),r(),a(4,"ul",37)(5,"li")(6,"a",38),w(7,"i",17),l(8," Users List "),r()(),a(9,"li")(10,"a",39),w(11,"i",40),l(12," Add User "),r()()()())}var Ft=class d{constructor(i,n){this.route=i;this.authService=n}logout(){sessionStorage.clear(),localStorage.clear(),this.route.navigate(["/login"])}static \u0275fac=function(n){return new(n||d)(S(R),S(xe))};static \u0275cmp=N({type:d,selectors:[["app-navbar"]],standalone:!1,decls:60,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","shadow-lg","sticky-top"],[1,"container"],["routerLink","/",1,"navbar-brand"],["src","https://iili.io/2gvDOlt.th.png","width","60","height","60",1,"d-inline-block","align-text-top","brand-logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["routerLink","/admin","routerLinkActive","active-link",1,"nav-link"],[1,"fas","fa-home","me-2"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropdown"],["href","#","id","advertisementDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-bullhorn","me-2"],["aria-labelledby","advertisementDropdown",1,"dropdown-menu","shadow-lg"],["routerLink","/admin/ads","routerLinkActive","active-link",1,"dropdown-item"],[1,"fas","fa-list","me-2"],["routerLink","/admin/newAds","routerLinkActive","active-link",1,"dropdown-item"],[1,"fas","fa-plus-circle","me-2"],["routerLink","/admin/archivedAds","routerLinkActive","active-link",1,"dropdown-item"],[1,"fas","fa-archive","me-2"],["href","#","id","devicesDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-tablet-alt","me-2"],["aria-labelledby","devicesDropdown",1,"dropdown-menu","shadow-lg"],["routerLink","/admin/Devices","routerLinkActive","active-link",1,"dropdown-item"],["routerLink","/admin/addDevices","routerLinkActive","active-link",1,"dropdown-item"],["routerLink","/admin/archivedDevices","routerLinkActive","active-link",1,"dropdown-item"],["href","#","id","profileDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-user-circle","me-2"],["aria-labelledby","profileDropdown",1,"dropdown-menu","shadow-lg"],["routerLinkActive","active-link",1,"dropdown-item",3,"routerLink"],[1,"fas","fa-id-card","me-2"],[1,"btn","btn-glow","ms-3",3,"click"],[1,"fas","fa-sign-out-alt","me-2"],["href","#","id","usersDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-users","me-2"],["aria-labelledby","usersDropdown",1,"dropdown-menu","shadow-lg"],["routerLink","/admin/users","routerLinkActive","active-link",1,"dropdown-item"],["routerLink","/admin/addUser","routerLinkActive","active-link",1,"dropdown-item"],[1,"fas","fa-user-plus","me-2"]],template:function(n,s){n&1&&(a(0,"nav",0)(1,"div",1)(2,"a",2),w(3,"img",3),r(),a(4,"button",4),w(5,"span",5),r(),a(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),w(10,"i",10),l(11," Accueil "),r()(),M(12,qa,13,0,"li",11),a(13,"li",12)(14,"a",13),w(15,"i",14),l(16," Advertisement "),r(),a(17,"ul",15)(18,"li")(19,"a",16),w(20,"i",17),l(21," Advertisement List "),r()(),a(22,"li")(23,"a",18),w(24,"i",19),l(25," Add Advertisement "),r()(),a(26,"li")(27,"a",20),w(28,"i",21),l(29," View Archived "),r()()()(),a(30,"li",12)(31,"a",22),w(32,"i",23),l(33," Devices "),r(),a(34,"ul",24)(35,"li")(36,"a",25),w(37,"i",17),l(38," Device List "),r()(),a(39,"li")(40,"a",26),w(41,"i",19),l(42," Add Device "),r()(),a(43,"li")(44,"a",27),w(45,"i",21),l(46," View Archived "),r()()()(),a(47,"li",12)(48,"a",28),w(49,"i",29),l(50," Profile "),r(),a(51,"ul",30)(52,"li")(53,"a",31),w(54,"i",32),l(55," View Profile "),r()()()(),a(56,"li",8)(57,"a",33),C("click",function(){return s.logout()}),w(58,"i",34),l(59," Logout "),r()()()()()()),n&2&&(m(12),f("ngIf",s.authService.isAdmin),m(41),f("routerLink",Lt(2,Wa)))},dependencies:[B,Ut,Wi],styles:['.navbar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1c1e,#2d3436);box-shadow:0 4px 20px #0003;padding:1rem 0;border-bottom:1px solid rgba(255,255,255,.1)}.navbar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;font-size:1.6rem;font-weight:700;color:#fff;text-transform:uppercase;letter-spacing:1px;transition:all .3s ease}.navbar-brand[_ngcontent-%COMP%]:hover{color:#00e5ff;transform:translateY(-1px)}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500;color:#ffffffe6;padding:.5rem 1rem;margin:0 .2rem;border-radius:6px;transition:all .3s ease}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;margin-right:.5rem;color:#00e5ff;transition:all .3s ease}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#00e5ff;background:#00e5ff1a}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translateY(-2px)}.dropdown-menu[_ngcontent-%COMP%]{background:#2d3436;border:1px solid rgba(255,255,255,.1);border-radius:8px;margin-top:.5rem;box-shadow:0 4px 20px #0000004d;padding:.5rem}.dropdown-item[_ngcontent-%COMP%]{color:#ffffffe6;padding:.7rem 1rem;border-radius:6px;transition:all .3s ease}.dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00e5ff;margin-right:.5rem}.dropdown-item[_ngcontent-%COMP%]:hover{background:#00e5ff1a;color:#00e5ff}.active-link[_ngcontent-%COMP%]{color:#00e5ff!important;background:#00e5ff1a;position:relative}.active-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:30%;height:2px;background:#00e5ff;border-radius:2px}.btn-glow[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff4757,#ff6b81);color:#fff;border:none;padding:.7rem 1.5rem;border-radius:50px;font-weight:600;letter-spacing:.5px;box-shadow:0 4px 15px #ff47574d;transition:all .3s ease}.btn-glow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;transition:all .3s ease}.btn-glow[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff6b81,#ff4757);transform:translateY(-2px);box-shadow:0 6px 20px #ff475766}.btn-glow[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:rotate(180deg)}@media (max-width: 991px){.navbar-nav[_ngcontent-%COMP%]{padding:1rem 0}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.8rem 1rem;margin:.2rem 0}.btn-glow[_ngcontent-%COMP%]{margin-top:1rem;width:100%;text-align:center}.dropdown-menu[_ngcontent-%COMP%]{background:#2d3436f2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}}']})};var Bt=class d{constructor(i){this.router=i}ngOnInit(){this.checkAuthentication()}checkAuthentication(){sessionStorage.getItem("authToken")||this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||d)(S(R))};static \u0275cmp=N({type:d,selectors:[["app-admin"]],standalone:!1,decls:2,vars:0,template:function(n,s){n&1&&w(0,"app-navbar")(1,"router-outlet")},dependencies:[zi,Ft],encapsulation:2})};var Rt=za(ro());function Ya(d,i){if(d&1){let n=I();a(0,"div",22)(1,"button",23),C("click",function(){_(n);let c=h();return x(c.switchTab("all"))}),w(2,"i",24),a(3,"span"),l(4,"All Advertisements"),r()(),a(5,"button",23),C("click",function(){_(n);let c=h();return x(c.switchTab("my"))}),w(6,"i",25),a(7,"span"),l(8,"My Advertisements"),r()()()}if(d&2){let n=h();m(),be("active",n.activeTab==="all"),m(4),be("active",n.activeTab==="my")}}function Ha(d,i){if(d&1){let n=I();a(0,"button",44),C("click",function(){_(n);let c=h().$implicit,p=h();return x(p.confirmArchive(c._id))}),w(1,"i",45),r()}}function Qa(d,i){if(d&1&&(a(0,"div",39)(1,"label"),l(2,"Created By"),r(),a(3,"p"),l(4),r(),a(5,"span",46),l(6),r()()),d&2){let n=h().$implicit;m(4),E((n.userId==null?null:n.userId.username)||"N/A"),m(2),E((n.userId==null?null:n.userId.email)||"N/A")}}function Ga(d,i){if(d&1){let n=I();a(0,"div",26)(1,"div",27)(2,"span",28),l(3),r(),a(4,"div",29)(5,"button",30),C("click",function(){let c=_(n).$implicit,p=h();return x(p.openEditModal(c))}),w(6,"i",31),r(),M(7,Ha,2,0,"button",32),a(8,"button",33),C("click",function(){let c=_(n).$implicit,p=h();return x(p.deleteAdvertisement(c._id))}),w(9,"i",34),r()()(),a(10,"div",35)(11,"h3",36),l(12),r(),a(13,"div",37),M(14,Qa,7,2,"div",38),a(15,"div",39)(16,"label"),l(17,"Description"),r(),a(18,"p"),l(19),r()(),a(20,"div",40)(21,"div",39)(22,"label"),l(23,"Orientation"),r(),a(24,"span",41),l(25),Z(26,"titlecase"),r()(),a(27,"div",39)(28,"label"),l(29,"Video"),r(),a(30,"button",42),C("click",function(){let c=_(n).$implicit,p=h();return x(p.openModal(c.videoUrl))}),w(31,"i",43),a(32,"span"),l(33,"Preview"),r()()()()()()()}if(d&2){let n=i.$implicit,s=i.index,c=h();m(3),P("#",s+1,""),m(4),f("ngIf",!n.archived),m(5),E(n.name),m(2),f("ngIf",(c.userRole==="admin"||c.userRole==="SUPERADMIN")&&c.activeTab==="all"),m(5),E(n.description),m(6),E(te(26,6,n.orientation))}}function Za(d,i){if(d&1&&w(0,"video",55),d&2){let n=h(2);f("src",n.selectedVideoUrl,Le)}}function Ka(d,i){if(d&1){let n=I();a(0,"div",47)(1,"div",48),C("click",function(){_(n);let c=h();return x(c.closeModal())}),r(),a(2,"div",49)(3,"button",50),C("click",function(){_(n);let c=h();return x(c.closeModal())}),w(4,"i",51),r(),a(5,"h5",52),l(6,"Advertisement Preview"),r(),a(7,"div",53),M(8,Za,1,1,"video",54),r()()()}if(d&2){let n=h();m(8),f("ngIf",n.selectedVideoUrl)}}function Xa(d,i){if(d&1&&(a(0,"div",81)(1,"span",82),l(2),r()()),d&2){let n=h(3);m(2),P("Selected file: ",n.selectedFile.name,"")}}function Ja(d,i){if(d&1){let n=I();a(0,"div",57)(1,"label",76),w(2,"i",77),l(3,"Choose Video File "),r(),a(4,"input",78,1),C("change",function(c){_(n);let p=h(2);return x(p.onFileSelected(c))}),r(),a(6,"small",79),l(7,"Maximum file size: 100MB"),r(),M(8,Xa,3,1,"div",80),r()}if(d&2){let n=h(2);m(8),f("ngIf",n.selectedFile)}}function es(d,i){if(d&1){let n=I();a(0,"div",57)(1,"label",83),l(2,"YouTube URL"),r(),a(3,"div",84)(4,"input",85),A("ngModelChange",function(c){_(n);let p=h(2);return k(p.youtubeUrl,c)||(p.youtubeUrl=c),x(c)}),r()()()}if(d&2){let n=h(2);m(4),O("ngModel",n.youtubeUrl)}}function ts(d,i){if(d&1&&(a(0,"option",86),l(1),Z(2,"titlecase"),r()),d&2){let n=i.$implicit;f("value",n),m(),P(" ",te(2,2,n)," ")}}function ns(d,i){if(d&1&&(a(0,"div",87),l(1),r()),d&2){let n=h(2);m(),E(n.errorMessage)}}function is(d,i){if(d&1&&(a(0,"div",88),l(1),r()),d&2){let n=h(2);m(),E(n.successMessage)}}function os(d,i){if(d&1&&(a(0,"div",89)(1,"div",90)(2,"div",91),l(3),r()(),a(4,"small",92),l(5),r()()),d&2){let n=h(2);m(2),qe("width",n.uploadProgress,"%"),dt("aria-valuenow",n.uploadProgress),m(),P(" ",n.uploadProgress,"% "),m(2),P(" ",n.uploadProgress<100?"Updating content...":"Processing..."," ")}}function rs(d,i){if(d&1){let n=I();a(0,"button",93),C("click",function(){_(n);let c=h(2);return x(c.updateAdvertisement())}),w(1,"i",94),l(2),r()}if(d&2){let n=h(2);f("disabled",n.isUploading),m(2),P(" ",n.isUploading?"Updating...":"Update with New Video"," ")}}function as(d,i){if(d&1){let n=I();a(0,"button",95),C("click",function(){_(n);let c=h(2);return x(c.updateAdvertisement())}),w(1,"i",96),l(2),r()}if(d&2){let n=h(2);f("disabled",n.isUploading),m(2),P(" ",n.isUploading?"Updating...":"Update Details"," ")}}function ss(d,i){if(d&1){let n=I();a(0,"div",47)(1,"div",48),C("click",function(){_(n);let c=h();return x(c.closeEditModal())}),r(),a(2,"div",49)(3,"button",50),C("click",function(){_(n);let c=h();return x(c.closeEditModal())}),w(4,"i",51),r(),a(5,"h2",52),l(6,"Edit Advertisement"),r(),a(7,"form",56,0),C("ngSubmit",function(){_(n);let c=h();return x(c.updateAdvertisement())}),a(9,"div",57)(10,"label",58),l(11,"Name"),r(),a(12,"input",59),A("ngModelChange",function(c){_(n);let p=h();return k(p.editAdvertisementObject.name,c)||(p.editAdvertisementObject.name=c),x(c)}),r()(),a(13,"div",57)(14,"label",60),l(15,"Description"),r(),a(16,"textarea",61),A("ngModelChange",function(c){_(n);let p=h();return k(p.editAdvertisementObject.description,c)||(p.editAdvertisementObject.description=c),x(c)}),r()(),a(17,"div",57)(18,"label",62),l(19,"Video Source"),r(),a(20,"select",63),A("ngModelChange",function(c){_(n);let p=h();return k(p.selectedVideoSource,c)||(p.selectedVideoSource=c),x(c)}),a(21,"option",64),l(22,"Upload from Computer"),r(),a(23,"option",65),l(24,"YouTube Video"),r()()(),M(25,Ja,9,1,"div",66)(26,es,5,1,"div",66),a(27,"div",57)(28,"label",67),l(29,"Orientation"),r(),a(30,"select",68),A("ngModelChange",function(c){_(n);let p=h();return k(p.editAdvertisementObject.orientation,c)||(p.editAdvertisementObject.orientation=c),x(c)}),M(31,ts,3,4,"option",69),r()(),M(32,ns,2,1,"div",70)(33,is,2,1,"div",71)(34,os,6,5,"div",72),a(35,"div",73),M(36,rs,3,2,"button",74)(37,as,3,2,"button",75),r()()()()}if(d&2){let n=h();m(12),O("ngModel",n.editAdvertisementObject.name),m(4),O("ngModel",n.editAdvertisementObject.description),m(4),O("ngModel",n.selectedVideoSource),m(5),f("ngIf",n.selectedVideoSource==="local"),m(),f("ngIf",n.selectedVideoSource==="youtube"),m(4),O("ngModel",n.editAdvertisementObject.orientation),m(),f("ngForOf",n.orientations),m(),f("ngIf",n.errorMessage),m(),f("ngIf",n.successMessage),m(),f("ngIf",n.isUploading),m(2),f("ngIf",n.selectedVideoSource==="local"&&n.selectedFile||n.selectedVideoSource==="youtube"&&n.youtubeUrl),m(),f("ngIf",!(n.selectedVideoSource==="local"&&n.selectedFile)&&!(n.selectedVideoSource==="youtube"&&n.youtubeUrl))}}function ls(d,i){if(d&1){let n=I();a(0,"div",47)(1,"div",48),C("click",function(){_(n);let c=h();return x(c.closeConfirmDialog())}),r(),a(2,"div",49)(3,"h5",52),l(4,"Confirm Archive"),r(),a(5,"p"),l(6,"Are you sure you want to archive this advertisement?"),r(),a(7,"div",97)(8,"button",98),C("click",function(){_(n);let c=h();return x(c.archiveAd(c.archivingAdId))}),l(9,"Yes"),r(),a(10,"button",99),C("click",function(){_(n);let c=h();return x(c.closeConfirmDialog())}),l(11,"No"),r()()()()}}var zt=class d{constructor(i,n,s){this.adminService=i;this.router=n;this.authService=s;this.userRole=this.authService.userRole||"user",this.userId=this.authService.userId||"",this.userRole!=="admin"&&this.userRole!=="SUPERADMIN"&&(this.activeTab="my")}advertisements=[];successMessage="";searchTerm="";errorMessage="";selectedVideoUrl="";isModalOpen=!1;isEditModalOpen=!1;isConfirmDialogOpen=!1;archivingAdId="";editAdvertisementObject={};orientations=["portrait","landscape"];currentPage=1;itemsPerPage=5;filteredAds=[];userRole;userId;selectedVideoSource="local";videoSources=["local","youtube"];selectedFile=null;youtubeUrl="";isUploading=!1;uploadProgress=0;videoResolutionError="";activeTab="all";allAdvertisements=[];myAdvertisements=[];ngOnInit(){this.loadAdvertisements()}switchTab(i){this.activeTab=i,this.currentPage=1,this.searchTerm="",this.filterAdvertisements()}loadAdvertisements(){this.userRole==="admin"||this.userRole==="SUPERADMIN"?this.adminService.getAds().subscribe(i=>{this.allAdvertisements=(i.data||[]).filter(n=>!n.isDeleted),this.adminService.getAdvertisementsByUserId(this.userId).subscribe(n=>{this.myAdvertisements=(n.data||[]).filter(s=>!s.isDeleted),this.filterAdvertisements()},n=>{this.errorMessage=n.error?.message||"Failed to load user advertisements."})},i=>{this.errorMessage=i.error?.message||"Failed to load advertisements."}):this.adminService.getAdvertisementsByUserId(this.userId).subscribe(i=>{this.myAdvertisements=(i.data||[]).filter(n=>!n.isDeleted),this.filterAdvertisements()},i=>{this.errorMessage=i.error?.message||"Failed to load advertisements."})}filterAdvertisements(){let i=this.activeTab==="all"?this.allAdvertisements:this.myAdvertisements;if(!this.searchTerm){this.filteredAds=[...i];return}let n=this.searchTerm.toLowerCase();this.filteredAds=i.filter(s=>s.name.toLowerCase().includes(n)||s.description.toLowerCase().includes(n)||s.userId?.username&&s.userId.username.toLowerCase().includes(n)||s.userId?.email&&s.userId.email.toLowerCase().includes(n))}filteredAdvertisements(){this.filterAdvertisements();let i=(this.currentPage-1)*this.itemsPerPage,n=i+this.itemsPerPage;return this.filteredAds.slice(i,n)}paginatedAdvertisements(){let i=(this.currentPage-1)*this.itemsPerPage,n=i+this.itemsPerPage;return this.filteredAds.slice(i,n)}get totalPages(){return Math.ceil(this.filteredAds.length/this.itemsPerPage)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}previousPage(){this.currentPage>1&&this.currentPage--}openModal(i){this.selectedVideoUrl=i,this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}openEditModal(i){this.editAdvertisementObject=se({},i),this.selectedVideoSource="local",this.selectedFile=null,this.youtubeUrl="",this.uploadProgress=0,this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1}onFileSelected(i){let n=i.target.files[0];if(n){if(!n.type.startsWith("video/")){this.errorMessage="Please select a valid video file.";return}if(n.size>100*1024*1024){this.errorMessage="File size should not exceed 100MB.";return}this.selectedFile=n,this.errorMessage=""}}processYoutubeUrl(){return We(this,null,function*(){if(!this.youtubeUrl){this.errorMessage="Please enter a YouTube URL";return}if(!this.validateYoutubeUrl(this.youtubeUrl)){this.errorMessage="Please enter a valid YouTube URL";return}try{this.isUploading=!0,this.errorMessage="",this.isUploading=!1}catch{this.errorMessage="Failed to process YouTube URL",this.isUploading=!1}})}updateAdvertisement(){return We(this,null,function*(){try{if(this.isUploading=!0,this.errorMessage="",this.successMessage="",this.selectedVideoSource==="local"&&this.selectedFile||this.selectedVideoSource==="youtube"&&this.youtubeUrl){let n=new FormData;n.append("name",this.editAdvertisementObject.name),n.append("description",this.editAdvertisementObject.description),n.append("orientation",this.editAdvertisementObject.orientation),this.selectedVideoSource==="local"&&this.selectedFile?n.append("video",this.selectedFile):this.selectedVideoSource==="youtube"&&this.youtubeUrl&&n.append("youtubeUrl",this.youtubeUrl),yield this.adminService.updateAdComplex(this.editAdvertisementObject._id,n).toPromise()}else{let n={name:this.editAdvertisementObject.name,description:this.editAdvertisementObject.description,orientation:this.editAdvertisementObject.orientation};yield this.adminService.updateAdSimple(this.editAdvertisementObject._id,n).toPromise()}this.successMessage="Advertisement updated successfully!",this.isEditModalOpen=!1,this.loadAdvertisements()}catch(i){console.error("Error updating advertisement:",i),this.errorMessage=i.message||"Failed to update advertisement."}finally{this.isUploading=!1}})}confirmArchive(i){this.archivingAdId=i,this.isConfirmDialogOpen=!0}archiveAd(i){this.adminService.archiveAds(i).subscribe(()=>{this.successMessage="Advertisement archived successfully!",this.loadAdvertisements(),this.closeConfirmDialog()},n=>{console.error("Error archiving advertisement:",n),this.errorMessage=n.error?.message||"Failed to archive advertisement."})}closeConfirmDialog(){this.isConfirmDialogOpen=!1,this.archivingAdId=""}navigateToAddAdvertisement(){this.router.navigate(["/admin/newAds"])}checkVideoResolution(i){let n={width:1920,height:1080},s=this.getVideoResolution(i);return s.width<=n.width&&s.height<=n.height}getVideoResolution(i){return{width:1280,height:720}}deleteAdvertisement(i){Rt.default.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(n=>{n.isConfirmed&&this.adminService.deleteAdById(i).subscribe(()=>{Rt.default.fire("Deleted!","Advertisement has been deleted.","success"),this.loadAdvertisements()},s=>{Rt.default.fire("Error!",s.error?.message||"Failed to delete advertisement.","error")})})}updateUploadProgress(i){i.lengthComputable&&(this.uploadProgress=Math.round(i.loaded/i.total*100))}validateYoutubeUrl(i){return/^(https?\:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/.test(i)}static \u0275fac=function(n){return new(n||d)(S(z),S(R),S(xe))};static \u0275cmp=N({type:d,selectors:[["app-advertisement"]],standalone:!1,decls:29,vars:10,consts:[["editForm","ngForm"],["fileInput",""],[1,"page-wrapper"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"header-actions"],[1,"btn-add",3,"click"],[1,"fas","fa-plus-circle"],[1,"search-box"],[1,"fas","fa-search","search-icon"],["type","text","placeholder","Search advertisements...",3,"ngModelChange","ngModel"],["class","tabs-container",4,"ngIf"],[1,"content-wrapper"],[1,"ads-grid"],["class","ad-card",4,"ngFor","ngForOf"],[1,"pagination"],[1,"pagination-btn",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"pagination-info"],[1,"fas","fa-chevron-right"],["class","custom-modal",4,"ngIf"],[1,"tabs-container"],[1,"tab-btn",3,"click"],[1,"fas","fa-list"],[1,"fas","fa-user-circle"],[1,"ad-card"],[1,"ad-card-header"],[1,"ad-number"],[1,"ad-actions"],[1,"action-btn","edit",3,"click"],[1,"fas","fa-edit"],["class","action-btn archive",3,"click",4,"ngIf"],[1,"action-btn","delete",3,"click"],[1,"fas","fa-trash-alt"],[1,"ad-card-content"],[1,"ad-name"],[1,"ad-info"],["class","info-group",4,"ngIf"],[1,"info-group"],[1,"info-row"],[1,"orientation-badge"],[1,"video-preview-btn",3,"click"],[1,"fas","fa-play-circle"],[1,"action-btn","archive",3,"click"],[1,"fas","fa-archive"],[1,"user-email"],[1,"custom-modal"],[1,"modal-overlay",3,"click"],[1,"modal-content"],[1,"modal-close",3,"click"],[1,"fas","fa-times"],[1,"modal-title"],[1,"video-container"],["controls","","class","modal-video","autoplay","",3,"src",4,"ngIf"],["controls","","autoplay","",1,"modal-video",3,"src"],[3,"ngSubmit"],[1,"form-group"],["for","name"],["id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","videoSource"],["id","videoSource","name","videoSource","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","local"],["value","youtube"],["class","form-group",4,"ngIf"],["for","orientation"],["id","orientation","name","orientation","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","upload-status",4,"ngIf"],[1,"mt-3"],["type","button","class","btn btn-primary me-2",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-secondary",3,"disabled","click",4,"ngIf"],["for","videoFile",1,"file-upload-label"],[1,"fas","fa-cloud-upload-alt","me-2"],["type","file","id","videoFile","accept","video/*",1,"d-none",3,"change"],[1,"text-muted","d-block"],["class","mt-2",4,"ngIf"],[1,"mt-2"],[1,"text-success"],["for","youtubeUrl"],[1,"input-group"],["type","text","id","youtubeUrl","name","youtubeUrl","placeholder","Enter YouTube URL",1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"upload-status"],[1,"progress","mt-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"],[1,"text-muted"],["type","button",1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"fas","fa-sync-alt","me-2"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"fas","fa-save","me-2"],[1,"dialog-actions"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(n,s){n&1&&(a(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1",5),l(4,"Advertisement Management"),r(),a(5,"div",6)(6,"button",7),C("click",function(){return s.navigateToAddAdvertisement()}),w(7,"i",8),a(8,"span"),l(9,"New Advertisement"),r()(),a(10,"div",9),w(11,"i",10),a(12,"input",11),A("ngModelChange",function(p){return k(s.searchTerm,p)||(s.searchTerm=p),p}),r()()()(),M(13,Ya,9,4,"div",12),r(),a(14,"div",13)(15,"div",14),M(16,Ga,34,8,"div",15),r(),a(17,"div",16)(18,"button",17),C("click",function(){return s.previousPage()}),w(19,"i",18),l(20," Previous "),r(),a(21,"span",19),l(22),r(),a(23,"button",17),C("click",function(){return s.nextPage()}),l(24," Next "),w(25,"i",20),r()()(),M(26,Ka,9,1,"div",21)(27,ss,38,12,"div",21)(28,ls,12,0,"div",21),r()),n&2&&(m(12),O("ngModel",s.searchTerm),m(),f("ngIf",s.userRole==="admin"||s.userRole==="SUPERADMIN"),m(3),f("ngForOf",s.filteredAdvertisements()),m(2),f("disabled",s.currentPage===1),m(4),_e("Page ",s.currentPage," of ",s.totalPages,""),m(),f("disabled",s.currentPage===s.totalPages),m(3),f("ngIf",s.isModalOpen),m(),f("ngIf",s.isEditModalOpen),m(),f("ngIf",s.isConfirmDialogOpen))},dependencies:[$,B,J,oe,re,Y,ie,H,K,ae,X,ne,pe],styles:[".page-wrapper[_ngcontent-%COMP%]{min-height:100vh;background:#f8fafc;padding:2rem}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1e293b;margin:0}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.btn-add[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none;border-radius:8px;font-weight:500;cursor:pointer;transition:all .3s ease}.btn-add[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #2563eb33}.search-box[_ngcontent-%COMP%]{position:relative;width:300px}.search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#64748b}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.5rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;transition:all .3s ease}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.tabs-container[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.tab-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:#fff;border:1px solid #e2e8f0;border-radius:8px;color:#64748b;font-weight:500;cursor:pointer;transition:all .2s ease}.tab-btn.active[_ngcontent-%COMP%]{background:#f1f5f9;color:#1e293b;border-color:#cbd5e1}.ads-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem;margin-bottom:2rem}.ad-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;overflow:hidden;transition:all .3s ease}.ad-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 20px #0000001a}.ad-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#f8fafc;border-bottom:1px solid #e2e8f0}.ad-number[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b}.ad-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-btn[_ngcontent-%COMP%]{padding:.5rem;border:none;border-radius:6px;cursor:pointer;transition:all .2s ease}.action-btn.edit[_ngcontent-%COMP%]{background:#e0f2fe;color:#0284c7}.action-btn.archive[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.action-btn.delete[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.ad-card-content[_ngcontent-%COMP%]{padding:1.5rem}.ad-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1e293b;margin:0 0 1rem}.ad-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.info-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.info-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;color:#64748b;letter-spacing:.5px}.info-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#334155;line-height:1.5}.user-email[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem}.orientation-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;background:#f1f5f9;color:#475569;border-radius:20px;font-size:.875rem}.video-preview-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#eff6ff;color:#3b82f6;border:none;border-radius:6px;cursor:pointer;transition:all .2s ease}.video-preview-btn[_ngcontent-%COMP%]:hover{background:#dbeafe}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;margin-top:2rem}.pagination-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:#fff;border:1px solid #e2e8f0;border-radius:8px;color:#64748b;font-weight:500;cursor:pointer;transition:all .2s ease}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f1f5f9;color:#1e293b}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.custom-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000bf;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:2rem;border-radius:16px;width:90%;max-width:800px;z-index:1001;box-shadow:0 4px 20px #0003}.modal-close[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background:none;border:none;color:#64748b;cursor:pointer;font-size:1.5rem;padding:.5rem;transition:all .2s ease}.modal-close[_ngcontent-%COMP%]:hover{color:#1e293b}.modal-title[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#1e293b}.video-container[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:56.25%;margin-bottom:1rem}.modal-video[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:8px}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.file-upload-label[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;background:#e2e8f0;border-radius:6px;cursor:pointer;transition:background .2s ease}.file-upload-label[_ngcontent-%COMP%]:hover{background:#cbd5e1}@media (max-width: 768px){.page-wrapper[_ngcontent-%COMP%]{padding:1rem}.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.header-actions[_ngcontent-%COMP%]{flex-direction:column}.search-box[_ngcontent-%COMP%]{width:100%}.tabs-container[_ngcontent-%COMP%]{overflow-x:auto;padding-bottom:.5rem}.tab-btn[_ngcontent-%COMP%]{white-space:nowrap}.ads-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.info-row[_ngcontent-%COMP%]{flex-direction:column}.pagination[_ngcontent-%COMP%]{flex-wrap:wrap}.modal-container[_ngcontent-%COMP%]{width:95%;padding:1rem}}@media (max-width: 480px){.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.ad-card-header[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.ad-actions[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}"]})};function ds(d,i){if(d&1&&(a(0,"div",40)(1,"span",41),l(2),r()()),d&2){let n=h(2);m(2),P("Selected file: ",n.selectedFile.name,"")}}function cs(d,i){if(d&1){let n=I();a(0,"div",8)(1,"label",35),w(2,"i",36),l(3,"Choose Video File "),r(),a(4,"input",37,1),C("change",function(c){_(n);let p=h();return x(p.onFileSelected(c))}),r(),a(6,"small",38),l(7,"Maximum file size: 100MB"),r(),M(8,ds,3,1,"div",39),r()}if(d&2){let n=h();m(8),f("ngIf",n.selectedFile)}}function ms(d,i){if(d&1&&(a(0,"option",49),l(1),r()),d&2){let n=i.$implicit;f("value",n.quality),m(),P(" ",n.quality,"p ")}}function us(d,i){if(d&1){let n=I();a(0,"div",14)(1,"label",47),l(2,"Select Video Quality:"),r(),a(3,"select",48),A("ngModelChange",function(c){_(n);let p=h(2);return k(p.selectedQuality,c)||(p.selectedQuality=c),x(c)}),C("ngModelChange",function(){_(n);let c=h(2);return x(c.onQualitySelected())}),a(4,"option",31),l(5,"Choose quality"),r(),M(6,ms,2,2,"option",32),r()()}if(d&2){let n=h(2);m(3),O("ngModel",n.selectedQuality),m(3),f("ngForOf",n.availableQualities)}}function ps(d,i){if(d&1){let n=I();a(0,"div",8)(1,"label",42),w(2,"i",43),l(3,"YouTube Video URL "),r(),a(4,"div",44)(5,"input",45),A("ngModelChange",function(c){_(n);let p=h();return k(p.youtubeUrl,c)||(p.youtubeUrl=c),x(c)}),r()(),M(6,us,7,2,"div",46),r()}if(d&2){let n=h();m(5),O("ngModel",n.youtubeUrl),m(),f("ngIf",n.showQualitySelector&&n.availableQualities.length>0)}}function gs(d,i){if(d&1&&(a(0,"div",50)(1,"div",51),l(2),r()()),d&2){let n=h();m(),qe("width",n.uploadProgress,"%"),dt("aria-valuenow",n.uploadProgress),m(),P(" ",n.uploadProgress,"% ")}}function fs(d,i){if(d&1){let n=I();a(0,"div",52),w(1,"i",53),l(2),a(3,"button",54),C("click",function(){_(n);let c=h();return x(c.successMessage="")}),r()()}if(d&2){let n=h();m(2),P("",n.successMessage," ")}}function hs(d,i){if(d&1){let n=I();a(0,"div",55),w(1,"i",56),l(2),a(3,"button",54),C("click",function(){_(n);let c=h();return x(c.errorMessage="")}),r()()}if(d&2){let n=h();m(2),P("",n.errorMessage," ")}}function bs(d,i){if(d&1&&(a(0,"div",57)(1,"div",58),l(2),r()()),d&2){let n=h();m(),qe("width",n.uploadProgress,"%"),dt("aria-valuenow",n.uploadProgress),m(),P(" ",n.uploadProgress,"% ")}}function vs(d,i){if(d&1&&(a(0,"option",49),l(1),r()),d&2){let n=i.$implicit;f("value",n),m(),P(" ",n," ")}}var Wt=class d{constructor(i,n,s){this.adminService=i;this.videoDownloadService=n;this.router=s}advertisementObject={name:"",description:"",videoUrl:"",orientation:""};orientations=["portrait","landscape"];videoSources=["local","youtube"];selectedVideoSource="local";selectedFile=null;isSubmitting=!1;successMessage="";errorMessage="";videoResolutionError="";youtubeUrl="";availableQualities=[];showQualitySelector=!1;selectedQuality=null;videoInfo=null;uploadProgress=0;isUploading=!1;isVideoProcessed=!1;uploadedVideoUrl=null;advertisementId=null;onFileSelected(i){let n=i.target.files[0];if(n){if(!n.type.startsWith("video/")){this.errorMessage="Please select a valid video file.";return}if(n.size>100*1024*1024){this.errorMessage="File size should not exceed 100MB.";return}this.selectedFile=n,this.errorMessage=""}}processYoutubeUrl(){return We(this,null,function*(){if(!this.youtubeUrl){this.errorMessage="Please enter a YouTube URL";return}if(!this.videoDownloadService.isValidYoutubeUrl(this.youtubeUrl)){this.errorMessage="Please enter a valid YouTube URL";return}try{this.isSubmitting=!0,this.successMessage="Processing YouTube video...",this.errorMessage="",this.showQualitySelector=!1,this.availableQualities=[];let i=yield this.videoDownloadService.downloadYoutubeVideo(this.youtubeUrl).toPromise();if(i&&Array.isArray(i)&&i.length>0)if(this.videoInfo=i[0],this.videoInfo.urls&&Array.isArray(this.videoInfo.urls))if(this.availableQualities=this.videoInfo.urls.filter(n=>n.extension==="mp4").sort((n,s)=>{let c=parseInt(n.quality)||0;return(parseInt(s.quality)||0)-c}),this.availableQualities.length>0)this.showQualitySelector=!0,this.successMessage=`${this.videoInfo.meta.title} - Select a video quality`;else throw new Error("No MP4 formats available for this video");else throw new Error("Invalid video URLs in response");else throw new Error("Invalid response from YouTube API")}catch(i){console.error("Error processing YouTube URL:",i),this.errorMessage=i.message||"Failed to process YouTube video. Please try again.",this.successMessage=""}finally{this.isSubmitting=!1}})}onQualitySelected(){if(this.selectedQuality){let i=this.availableQualities.find(n=>n.quality===this.selectedQuality);i&&(this.advertisementObject.videoUrl=i.url,this.successMessage=`Selected quality: ${i.quality}p - Ready to submit`)}}downloadVideo(){if(this.selectedQuality){let i=this.availableQualities.find(n=>n.quality===this.selectedQuality);if(i&&i.url){let n=document.createElement("a");n.href=i.url,n.target="_blank",n.download=`video_${this.selectedQuality}p.mp4`,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}}uploadVideo(){return We(this,null,function*(){if(!this.selectedFile&&!this.youtubeUrl){this.errorMessage="Please select a file or enter YouTube URL";return}this.isUploading=!0,this.uploadProgress=0,this.successMessage="",this.errorMessage="";let i=new FormData;this.selectedFile?i.append("video",this.selectedFile):this.youtubeUrl&&i.append("youtubeUrl",this.youtubeUrl);try{this.adminService.uploadVideo(i).subscribe({next:n=>{n.progress!==void 0?this.uploadProgress=n.progress:n.success&&(this.uploadedVideoUrl=n.data.fileInfo.url,this.advertisementId=n.data.advertisementId,this.isVideoProcessed=!0,this.successMessage=n.message||"Video uploaded successfully!",this.isUploading=!1)},error:n=>{console.error("Upload error:",n),this.errorMessage=n.error?.message||"Failed to process video. Please try again.",this.isUploading=!1,this.uploadProgress=0},complete:()=>{this.isUploading=!1}})}catch(n){this.errorMessage="Failed to process video. Please try again.",console.error("Upload error:",n),this.isUploading=!1,this.uploadProgress=0}})}addAdvertisement(){return We(this,null,function*(){if(!this.isVideoProcessed||!this.advertisementId){this.errorMessage="Please process the video first";return}this.isSubmitting=!0,this.successMessage="",this.errorMessage="";try{this.advertisementObject.videoUrl=this.uploadedVideoUrl;let i=yield this.adminService.completeAdvertisement(this.advertisementId,this.advertisementObject).toPromise();console.log("Advertisement added:",i),this.successMessage="Advertisement added successfully!",this.resetForm()}catch(i){console.error("Error adding advertisement:",i),this.errorMessage=i.error?.message||"Failed to add advertisement. Please try again."}finally{this.isSubmitting=!1}})}resetForm(){this.advertisementObject={name:"",description:"",videoUrl:"",orientation:""},this.selectedFile=null,this.youtubeUrl="",this.selectedVideoSource="local",this.availableQualities=[],this.showQualitySelector=!1,this.selectedQuality=null,this.videoInfo=null,this.advertisementId=null}static \u0275fac=function(n){return new(n||d)(S(z),S(Zi),S(R))};static \u0275cmp=N({type:d,selectors:[["app-add-advertisement"]],standalone:!1,decls:51,vars:21,consts:[["advertisementForm","ngForm"],["fileInput",""],[1,"page-container"],[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],[1,"container","card","pt-5","mt-5","shadow"],[1,"form-group"],["for","videoSource"],[1,"fas","fa-film","me-2"],["id","videoSource","name","videoSource","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","local","selected",""],["class","form-group",4,"ngIf"],[1,"mt-3"],["class","progress mb-2",4,"ngIf"],["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],[1,"btn","btn-primary","upload-btn",3,"click","disabled"],[1,"fas",3,"ngClass"],[1,"ms-2"],["class","progress mt-3",4,"ngIf"],["for","name"],[1,"fas","fa-tag","me-2"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","description"],[1,"fas","fa-align-left","me-2"],["id","description","name","description","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","orientation"],[1,"fas","fa-mobile-alt","me-2"],["id","orientation","name","orientation","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success","mt-3",3,"click","disabled"],[1,"fas","fa-save","me-2"],["for","videoFile",1,"file-upload-label"],[1,"fas","fa-cloud-upload-alt","me-2"],["type","file","id","videoFile","accept","video/*",3,"change"],[1,"text-muted","d-block"],["class","mt-2",4,"ngIf"],[1,"mt-2"],[1,"text-success"],["for","youtubeUrl"],[1,"fab","fa-youtube","me-2"],[1,"input-group"],["type","text","id","youtubeUrl","name","youtubeUrl","placeholder","Enter YouTube URL","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","mt-3",4,"ngIf"],["for","quality"],["id","quality","name","quality",1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],[1,"progress","mb-2"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"fas","fa-check-circle","me-2"],["type","button",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-circle","me-2"],[1,"progress","mt-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"]],template:function(n,s){if(n&1){let c=I();a(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1",5),l(4,"Add New Advertisement"),r(),a(5,"p",6),l(6,"Upload and configure your advertisement details"),r()(),a(7,"div",7)(8,"form",null,0)(10,"div",8)(11,"label",9),w(12,"i",10),l(13,"Video Source "),r(),a(14,"select",11),A("ngModelChange",function(g){return _(c),k(s.selectedVideoSource,g)||(s.selectedVideoSource=g),x(g)}),a(15,"option",12),l(16,"Upload from Computer"),r()()(),M(17,cs,9,1,"div",13)(18,ps,7,2,"div",13),a(19,"div",14),M(20,gs,3,4,"div",15)(21,fs,4,1,"div",16)(22,hs,4,1,"div",17),r(),a(23,"div",14)(24,"button",18),C("click",function(){return _(c),x(s.uploadVideo())}),w(25,"i",19),a(26,"span",20),l(27),r()(),M(28,bs,3,4,"div",21),r(),a(29,"div")(30,"div",8)(31,"label",22),w(32,"i",23),l(33,"Advertisement Name "),r(),a(34,"input",24),A("ngModelChange",function(g){return _(c),k(s.advertisementObject.name,g)||(s.advertisementObject.name=g),x(g)}),r()(),a(35,"div",8)(36,"label",25),w(37,"i",26),l(38,"Description "),r(),a(39,"textarea",27),A("ngModelChange",function(g){return _(c),k(s.advertisementObject.description,g)||(s.advertisementObject.description=g),x(g)}),r()(),a(40,"div",8)(41,"label",28),w(42,"i",29),l(43,"Orientation "),r(),a(44,"select",30),A("ngModelChange",function(g){return _(c),k(s.advertisementObject.orientation,g)||(s.advertisementObject.orientation=g),x(g)}),a(45,"option",31),l(46,"Select orientation"),r(),M(47,vs,2,2,"option",32),r()(),a(48,"button",33),C("click",function(){return _(c),x(s.addAdvertisement())}),w(49,"i",34),l(50),r()()()()()()}if(n&2){let c=Me(9);m(14),O("ngModel",s.selectedVideoSource),m(3),f("ngIf",s.selectedVideoSource==="local"),m(),f("ngIf",s.selectedVideoSource==="youtube"),m(2),f("ngIf",s.isUploading),m(),f("ngIf",s.successMessage),m(),f("ngIf",s.errorMessage),m(2),f("disabled",s.isUploading||!s.selectedFile&&!s.youtubeUrl),m(),f("ngClass",s.isUploading?"fa-spinner fa-spin":"fa-upload"),m(2),E(s.isUploading?"Uploading...":"Upload Video"),m(),f("ngIf",s.isUploading),m(),be("disabled-form",!s.isVideoProcessed),m(5),O("ngModel",s.advertisementObject.name),f("disabled",!s.isVideoProcessed),m(5),O("ngModel",s.advertisementObject.description),f("disabled",!s.isVideoProcessed),m(5),O("ngModel",s.advertisementObject.orientation),f("disabled",!s.isVideoProcessed),m(3),f("ngForOf",s.orientations),m(),f("disabled",!s.isVideoProcessed||s.isSubmitting||!c.form.valid),m(2),P(" ",s.isSubmitting?"Saving...":"Save Advertisement"," ")}},dependencies:[Ue,$,B,J,oe,re,Y,ie,H,K,ae,X,ne],styles:['.confirmation-dialog[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.confirmation-content[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:4px;box-shadow:0 4px 20px #00000026;max-width:400px;width:90%;text-align:center;animation:_ngcontent-%COMP%_scaleIn .3s ease-out}.confirmation-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2d3748;margin-bottom:1rem}.confirmation-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;margin-bottom:1.5rem}.confirmation-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center}.confirmation-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:4px;border:none;cursor:pointer;font-weight:500;transition:all .3s ease}.confirmation-actions[_ngcontent-%COMP%]   button.confirm-btn[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.confirmation-actions[_ngcontent-%COMP%]   button.confirm-btn[_ngcontent-%COMP%]:hover{background:#bd2130}.confirmation-actions[_ngcontent-%COMP%]   button.cancel-btn[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.confirmation-actions[_ngcontent-%COMP%]   button.cancel-btn[_ngcontent-%COMP%]:hover{background:#545b62}.waiting-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#ffffffe6;display:flex;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.waiting-content[_ngcontent-%COMP%]{text-align:center;animation:_ngcontent-%COMP%_pulse 2s infinite}.waiting-content[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(0,123,255,.1);border-left-color:#007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.waiting-content[_ngcontent-%COMP%]   .waiting-text[_ngcontent-%COMP%]{color:#2d3748;font-weight:500;margin-top:1rem}.waiting-content[_ngcontent-%COMP%]   .waiting-subtext[_ngcontent-%COMP%]{color:#718096;font-size:.9rem;margin-top:.5rem}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(.95);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.progress-bar-container[_ngcontent-%COMP%]{width:100%;max-width:300px;margin:1rem auto;background:#007bff1a;border-radius:999px;overflow:hidden;height:6px}.progress-bar[_ngcontent-%COMP%]{height:100%;background:#007bff;transition:width .3s ease;border-radius:999px}.status-dot[_ngcontent-%COMP%]{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:.5rem}.status-dot.status-waiting[_ngcontent-%COMP%]{background:gold;animation:_ngcontent-%COMP%_blink 1s infinite}.status-dot.status-success[_ngcontent-%COMP%]{background:#28a745}.status-dot.status-error[_ngcontent-%COMP%]{background:#dc3545}@keyframes _ngcontent-%COMP%_blink{0%{opacity:.4}50%{opacity:1}to{opacity:.4}}.upload-alert[_ngcontent-%COMP%]{position:fixed;top:0;left:50%;transform:translate(-50%);z-index:1050;background:#fff;padding:1rem 2rem;border-radius:0 0 4px 4px;box-shadow:0 4px 20px #00000026;display:flex;align-items:center;gap:1rem;min-width:300px;animation:_ngcontent-%COMP%_slideDown .3s ease-out forwards;border:1px solid rgba(220,53,69,.2);border-top:none}.upload-alert[_ngcontent-%COMP%]:before{content:"\\f071";font-family:"Font Awesome 5 Free";font-weight:900;color:#dc3545;font-size:1.2rem}.upload-alert[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{color:#bd2130;font-weight:500;margin:0}.upload-alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:auto;background:transparent;border:none;color:#00000080;cursor:pointer;padding:.25rem;font-size:1.2rem;transition:all .3s ease}.upload-alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{color:#000c}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translate(-50%,-100%)}to{transform:translate(-50%)}}.page-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#e4e8eb);padding:2rem 1rem}.content-wrapper[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem;color:#2d3748;margin-bottom:.5rem;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{color:#718096;font-size:1.1rem}.container[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:4px;transition:all .3s ease}.container[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 15px 35px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:600;color:#2d3748;margin-bottom:.75rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;color:#007bff}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:4px;border:2px solid #e0e0e0;padding:.75rem;transition:all .3s ease}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.form-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.upload-btn-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%}.file-upload-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1.5rem;background:#f8f9fa;border:2px dashed #cfd8dc;border-radius:4px;cursor:pointer;transition:all .3s ease;width:100%}.file-upload-label[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#007bff0d}.file-upload-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:.75rem;color:#007bff}.file-upload-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#718096;font-weight:500}.selected-file-info[_ngcontent-%COMP%]{margin-top:.75rem;padding:.75rem;background:#28a7451a;border-radius:4px;display:flex;align-items:center;color:#28a745}.selected-file-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.progress[_ngcontent-%COMP%]{height:.75rem;border-radius:4px;background:#e9ecef;overflow:hidden;margin-top:1rem}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(45deg,#007bff,#6c757d);transition:width .3s ease}.alert[_ngcontent-%COMP%]{border-radius:4px;padding:1.25rem;margin-bottom:1.25rem;display:flex;align-items:center;position:relative;overflow:hidden}.alert[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:1rem;font-size:1.25rem}.alert.alert-success[_ngcontent-%COMP%]{background:#28a7451a;color:#1e7e34;border:1px solid rgba(40,167,69,.2)}.alert.alert-success[_ngcontent-%COMP%]:before{background:#28a745}.alert.alert-danger[_ngcontent-%COMP%]{background:#dc35451a;color:#bd2130;border:1px solid rgba(220,53,69,.2)}.alert.alert-danger[_ngcontent-%COMP%]:before{background:#dc3545}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:auto;padding:.5rem;background:transparent;border:none;color:inherit;opacity:.7;cursor:pointer;transition:all .3s ease}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.message[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1rem;border-radius:4px;display:flex;align-items:center;gap:.75rem}.message.info[_ngcontent-%COMP%]{background:#007bff1a;color:#0062cc;border:1px solid rgba(0,123,255,.2)}.message.warning[_ngcontent-%COMP%]{background:#ff98001a;color:#cc7a00;border:1px solid rgba(255,152,0,.2)}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:4px;font-weight:600;display:inline-flex;align-items:center;justify-content:center;transition:all .3s ease}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(45deg,#007bff,#6c757d);border:none;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 15px #007bff4d}.btn.btn-success[_ngcontent-%COMP%]{background:linear-gradient(45deg,#28a745,#1e7e34);border:none;color:#fff}.btn.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 15px #28a7454d}.btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.disabled-form[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}@keyframes _ngcontent-%COMP%_alertPulse{0%{transform:translate(-50%,-50%) scale(1);box-shadow:0 8px 25px #00000026}50%{transform:translate(-50%,-50%) scale(1.02);box-shadow:0 12px 30px #dc354533}to{transform:translate(-50%,-50%) scale(1);box-shadow:0 8px 25px #00000026}}.alert-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:5;opacity:0;animation:_ngcontent-%COMP%_fadeIn .3s forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem}.container[_ngcontent-%COMP%]{padding:1.5rem}.btn[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}}']})};function ws(d,i){if(d&1){let n=I();a(0,"tr")(1,"td"),l(2),r(),a(3,"td"),l(4),r(),a(5,"td"),l(6),r(),a(7,"td"),l(8),Z(9,"titlecase"),r(),a(10,"td")(11,"a",13),C("click",function(){let c=_(n).$implicit,p=h();return x(p.openModal(c.videoUrl))}),w(12,"i",14),l(13," View Video "),r()(),a(14,"td")(15,"button",15),C("click",function(){let c=_(n).$implicit,p=h();return x(p.confirmArchive(c._id))}),w(16,"i",16),l(17," Unarchive "),r()()()}if(d&2){let n=i.$implicit,s=i.index,c=h();m(2),E(s+1+(c.currentPage-1)*c.itemsPerPage),m(2),E(n.name),m(2),E(n.description),m(2),E(te(9,4,n.orientation))}}function _s(d,i){if(d&1&&w(0,"video",24),d&2){let n=h(2);f("src",n.selectedVideoUrl,Le)}}function xs(d,i){if(d&1){let n=I();a(0,"div",17)(1,"div",18),C("click",function(){_(n);let c=h();return x(c.closeModal())}),r(),a(2,"div",19)(3,"button",20),C("click",function(){_(n);let c=h();return x(c.closeModal())}),l(4,"\u2716"),r(),a(5,"h5",21),l(6,"Advertisement Video"),r(),a(7,"div",22),M(8,_s,1,1,"video",23),r()()()}if(d&2){let n=h();m(8),f("ngIf",n.selectedVideoUrl)}}function Cs(d,i){if(d&1){let n=I();a(0,"div",17)(1,"div",18),C("click",function(){_(n);let c=h();return x(c.closeConfirmDialog())}),r(),a(2,"div",19)(3,"h5",21),l(4,"Confirm Unarchive"),r(),a(5,"p"),l(6,"Are you sure you want to unarchive this advertisement?"),r(),a(7,"div",25)(8,"button",15),C("click",function(){_(n);let c=h();return x(c.unarchiveAd(c.archivingAdId))}),l(9," Yes "),r(),a(10,"button",26),C("click",function(){_(n);let c=h();return x(c.closeConfirmDialog())}),l(11," No "),r()()()()}}var qt=class d{constructor(i,n){this.adminService=i;this.authService=n;this.userRole=this.authService.userRole||"user",this.userId=this.authService.userId||""}advertisements=[];filteredAds=[];userRole="";userId="";successMessage="";errorMessage="";selectedVideoUrl="";isModalOpen=!1;isConfirmDialogOpen=!1;archivingAdId="";currentPage=1;itemsPerPage=5;searchTerm="";ngOnInit(){this.loadAdvertisements()}loadAdvertisements(){this.userRole==="admin"?this.adminService.getAds().subscribe(i=>{this.advertisements=(i.data||[]).filter(n=>n.isDeleted===!0),this.filteredAds=[...this.advertisements]},i=>{console.error("Error fetching advertisements:",i),this.errorMessage=i.error?.message||"Failed to load advertisements."}):this.adminService.getAdvertisementsByUserId(this.userId).subscribe(i=>{this.advertisements=(i.data||[]).filter(n=>n.isDeleted===!0),this.filteredAds=[...this.advertisements]},i=>{console.error("Error fetching advertisements:",i),this.errorMessage=i.error?.message||"Failed to load advertisements."})}filteredAdvertisements(){if(!this.searchTerm)this.filteredAds=this.advertisements;else{let i=this.searchTerm.toLowerCase();this.filteredAds=this.advertisements.filter(n=>n.name.toLowerCase().includes(i)||n.description.toLowerCase().includes(i)||n.orientation.toLowerCase().includes(i))}return this.paginatedAdvertisements()}paginatedAdvertisements(){let i=(this.currentPage-1)*this.itemsPerPage,n=i+this.itemsPerPage;return this.filteredAds.slice(i,n)}get totalPages(){return Math.ceil(this.filteredAds.length/this.itemsPerPage)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}previousPage(){this.currentPage>1&&this.currentPage--}openModal(i){this.selectedVideoUrl=i,this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}confirmArchive(i){this.archivingAdId=i,this.isConfirmDialogOpen=!0}unarchiveAd(i){this.adminService.unarchiveAds(i).subscribe(()=>{this.successMessage="Advertisement unarchived successfully!",this.loadAdvertisements(),this.closeConfirmDialog()},n=>{console.error("Error unarchiving advertisement:",n),this.errorMessage=n.error?.message||"Failed to unarchive advertisement."})}closeConfirmDialog(){this.isConfirmDialogOpen=!1,this.archivingAdId=""}static \u0275fac=function(n){return new(n||d)(S(z),S(xe))};static \u0275cmp=N({type:d,selectors:[["app-archiv-ads"]],standalone:!1,decls:34,vars:8,consts:[[1,"container","ad-list-container"],[1,"list-title"],[1,"row","mb-3"],[1,"col-md-6"],[1,"search-container"],["type","text","placeholder","Search advertisements...",1,"form-control","search-input",3,"ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","ad-table"],[4,"ngFor","ngForOf"],[1,"pagination-container"],[1,"btn","btn-secondary","me-2",3,"click","disabled"],[1,"btn","btn-secondary","ms-2",3,"click","disabled"],["class","custom-modal",4,"ngIf"],["href","javascript:void(0)",1,"video-link",3,"click"],[1,"fas","fa-video","me-2"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-undo","me-2"],[1,"custom-modal"],[1,"modal-overlay",3,"click"],[1,"modal-content"],[1,"modal-close",3,"click"],[1,"modal-title"],[1,"video-container"],["controls","","class","modal-video",3,"src",4,"ngIf"],["controls","",1,"modal-video",3,"src"],[1,"dialog-actions"],[1,"btn","btn-secondary",3,"click"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"h2",1),l(2,"Archived Advertisement List"),r(),a(3,"div",2)(4,"div",3)(5,"div",4)(6,"input",5),A("ngModelChange",function(p){return k(s.searchTerm,p)||(s.searchTerm=p),p}),r()()()(),a(7,"div",6)(8,"table",7)(9,"thead")(10,"tr")(11,"th"),l(12,"#"),r(),a(13,"th"),l(14,"Name"),r(),a(15,"th"),l(16,"Description"),r(),a(17,"th"),l(18,"Orientation"),r(),a(19,"th"),l(20,"Video URL"),r(),a(21,"th"),l(22,"Actions"),r()()(),a(23,"tbody"),M(24,ws,18,6,"tr",8),r()()(),a(25,"div",9)(26,"button",10),C("click",function(){return s.previousPage()}),l(27," Previous "),r(),a(28,"span"),l(29),r(),a(30,"button",11),C("click",function(){return s.nextPage()}),l(31," Next "),r()(),M(32,xs,9,1,"div",12)(33,Cs,12,0,"div",12),r()),n&2&&(m(6),O("ngModel",s.searchTerm),m(18),f("ngForOf",s.filteredAdvertisements()),m(2),f("disabled",s.currentPage===1),m(3),_e("Page ",s.currentPage," of ",s.totalPages,""),m(),f("disabled",s.currentPage===s.totalPages),m(2),f("ngIf",s.isModalOpen),m(),f("ngIf",s.isConfirmDialogOpen))},dependencies:[$,B,Y,H,X,pe],styles:[".ad-list-container[_ngcontent-%COMP%]{margin-top:30px;padding:20px;background:#f9f9f9;border-radius:15px;box-shadow:0 8px 20px #0003}.list-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;text-align:center;margin-bottom:20px;color:#333}.ad-table[_ngcontent-%COMP%]{width:100%;border-radius:15px;overflow:hidden;box-shadow:0 8px 15px #0000001a;margin-bottom:30px}.table-header[_ngcontent-%COMP%]{background:#007bff;color:#fff;font-size:1.2rem;text-transform:uppercase}.ad-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ad-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;padding:20px;vertical-align:middle;font-size:1rem}.ad-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .3s ease,box-shadow .3s ease;height:60px}.ad-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;box-shadow:0 5px 10px #0000001a}.video-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-weight:700}.video-link[_ngcontent-%COMP%]:hover{color:#0056b3;text-decoration:underline}.btn[_ngcontent-%COMP%]{padding:8px 15px;font-size:1rem;border-radius:50px;transition:background .3s ease,transform .2s ease}.btn-archive[_ngcontent-%COMP%]{background:#168c57;color:#fff;border:none}.btn-archive[_ngcontent-%COMP%]:hover{background:#0f6b42;transform:translateY(-2px)}.btn-unarchive[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none}.btn-unarchive[_ngcontent-%COMP%]:hover{background:#1e7e34;transform:translateY(-2px)}.alert[_ngcontent-%COMP%]{margin-bottom:15px;border-radius:5px;padding:10px 15px;text-align:center}@media (max-width: 768px){.ad-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ad-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;font-size:.9rem}.ad-list-container[_ngcontent-%COMP%]{padding:10px}}.custom-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1}.modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 10px #0000004d;z-index:2;text-align:center;width:70%;max-width:500px}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:15px;color:#333}.modal-video[_ngcontent-%COMP%]{width:100%;height:auto;max-height:400px;border-radius:10px}.modal-close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:transparent;border:none;font-size:1.5rem;cursor:pointer;color:#666}.modal-close[_ngcontent-%COMP%]:hover{color:#000}.confirmation-dialog[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.confirmation-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080}.confirmation-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 10px #0000004d;z-index:2;text-align:center;width:90%;max-width:400px}.confirmation-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px}.confirmation-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:20px}.btn-confirm-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:10px 15px;border-radius:5px;cursor:pointer}.btn-confirm-danger[_ngcontent-%COMP%]:hover{background-color:#a71d2a}.btn-confirm-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:10px 15px;border-radius:5px;cursor:pointer}.btn-confirm-secondary[_ngcontent-%COMP%]:hover{background-color:#545b62}.edit-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.edit-modal-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080}.edit-modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 10px #0000004d;z-index:2;width:90%;max-width:500px;text-align:center}.edit-modal[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:transparent;border:none;font-size:1.5rem;cursor:pointer}.edit-modal[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{color:#000}.edit-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{text-align:left}.edit-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.edit-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;color:#333;display:block;margin-bottom:5px}.edit-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .edit-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .edit-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;font-size:1rem}.edit-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}.edit-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;background:#fff}.edit-modal[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 15px;border-radius:5px;font-size:1rem;font-weight:700;cursor:pointer;transition:background-color .3s ease}.edit-modal[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};function ys(d,i){if(d&1&&(a(0,"div",25),w(1,"i",26),l(2),r()),d&2){let n=h();m(2),P("",n.successMessage," ")}}function Ms(d,i){if(d&1&&(a(0,"div",27),w(1,"i",28),l(2),r()),d&2){let n=h();m(2),P("",n.errorMessage," ")}}function Ps(d,i){if(d&1&&(a(0,"option",29),l(1),Z(2,"titlecase"),r()),d&2){let n=i.$implicit;f("value",n),m(),P(" ",te(2,2,n)," ")}}function Ss(d,i){d&1&&w(0,"span",30)}function Os(d,i){d&1&&w(0,"i",31)}function ks(d,i){d&1&&(a(0,"span"),l(1,"Submit"),r())}var $t=class d{constructor(i,n){this.adminService=i;this.router=n}deviceObject={name:"",description:"",orientation:""};orientations=["portrait","landscape"];isSubmitting=!1;successMessage="";errorMessage="";addDevice(){this.isSubmitting=!0,this.successMessage="",this.errorMessage="",this.adminService.addDevices(this.deviceObject).subscribe(i=>{console.log("Device added:",i),this.successMessage="Device added successfully!",this.isSubmitting=!1,this.deviceObject={name:"",description:"",orientation:""}},i=>{console.error("Error adding device:",i),this.errorMessage=i.error?.message||"Failed to add device. Please try again.",this.isSubmitting=!1})}navigateToList(){this.router.navigate(["/admin/Devices"])}static \u0275fac=function(n){return new(n||d)(S(z),S(R))};static \u0275cmp=N({type:d,selectors:[["app-add-devices"]],standalone:!1,decls:32,vars:10,consts:[[1,"container","device-form-container"],[1,"form-card"],[1,"back-button","mb-5"],[1,"btn-back",3,"click"],[1,"fas","fa-arrow-left","me-2"],[1,"form-title"],[1,"fas","fa-tablet-alt","me-2"],["class","alert alert-success","role","alert",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","name"],[1,"fas","fa-tag","me-2"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","description"],[1,"fas","fa-align-left","me-2"],["id","description","name","description","rows","3","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","orientation"],[1,"fas","fa-arrows-alt","me-2"],["id","orientation","name","orientation","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn-submit",3,"disabled"],["class","spinner",4,"ngIf"],["class","fas fa-paper-plane me-2",4,"ngIf"],[4,"ngIf"],["role","alert",1,"alert","alert-success"],[1,"fas","fa-check-circle","me-2"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-circle","me-2"],[3,"value"],[1,"spinner"],[1,"fas","fa-paper-plane","me-2"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),C("click",function(){return s.navigateToList()}),w(4,"i",4),l(5,"Back to List "),r()(),a(6,"h2",5),w(7,"i",6),l(8,"Add Device "),r(),M(9,ys,3,1,"div",7)(10,Ms,3,1,"div",8),a(11,"form",9),C("ngSubmit",function(){return s.addDevice()}),a(12,"div",10)(13,"label",11),w(14,"i",12),l(15,"Name "),r(),a(16,"input",13),A("ngModelChange",function(p){return k(s.deviceObject.name,p)||(s.deviceObject.name=p),p}),r()(),a(17,"div",10)(18,"label",14),w(19,"i",15),l(20,"Description "),r(),a(21,"textarea",16),A("ngModelChange",function(p){return k(s.deviceObject.description,p)||(s.deviceObject.description=p),p}),r()(),a(22,"div",10)(23,"label",17),w(24,"i",18),l(25,"Orientation "),r(),a(26,"select",19),A("ngModelChange",function(p){return k(s.deviceObject.orientation,p)||(s.deviceObject.orientation=p),p}),M(27,Ps,3,4,"option",20),r()(),a(28,"button",21),M(29,Ss,1,0,"span",22)(30,Os,1,0,"i",23)(31,ks,2,0,"span",24),r()()()()),n&2&&(m(9),f("ngIf",s.successMessage),m(),f("ngIf",s.errorMessage),m(6),O("ngModel",s.deviceObject.name),m(5),O("ngModel",s.deviceObject.description),m(5),O("ngModel",s.deviceObject.orientation),m(),f("ngForOf",s.orientations),m(),f("disabled",s.isSubmitting),m(),f("ngIf",s.isSubmitting),m(),f("ngIf",!s.isSubmitting),m(),f("ngIf",!s.isSubmitting))},dependencies:[$,B,J,oe,re,Y,ie,H,K,ae,X,ne,pe],styles:[".device-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px;color:#fff}.form-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 10px 30px #0003;padding:40px 30px;width:100%;max-width:500px;text-align:center;transition:transform .3s ease,box-shadow .3s ease}.form-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 35px #0000004d}.form-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin-bottom:20px;display:flex;align-items:center;justify-content:center;gap:10px}.form-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#007bff}.alert[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:10px;padding:10px 15px;font-size:1rem;text-align:center}.alert-success[_ngcontent-%COMP%]{background-color:#e6f7e6;color:#28a745;border:1px solid #28a745}.alert-danger[_ngcontent-%COMP%]{background-color:#fdeaea;color:#dc3545;border:1px solid #dc3545}.form-group[_ngcontent-%COMP%]{margin-bottom:20px;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:600;margin-bottom:5px;color:#555}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:2px solid #ddd;border-radius:10px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease;background:#f9f9f9}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 8px #007bff4d;background:#fff}.btn-submit[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:12px 20px;border-radius:25px;font-size:1rem;font-weight:600;text-transform:uppercase;cursor:pointer;transition:all .3s ease;box-shadow:0 5px 15px #007bff66}.btn-submit[_ngcontent-%COMP%]:hover{background:#0056b3;box-shadow:0 10px 25px #0056b380;transform:translateY(-2px)}.btn-submit[_ngcontent-%COMP%]:active{transform:translateY(2px);box-shadow:0 3px 8px #007bff4d}.btn-submit[_ngcontent-%COMP%]:disabled{background:#ccc;color:#999;cursor:not-allowed;box-shadow:none}.spinner[_ngcontent-%COMP%]{width:18px;height:18px;border:3px solid #f3f3f3;border-top:3px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.back-button[_ngcontent-%COMP%]{margin-bottom:20px;text-align:left}.btn-back[_ngcontent-%COMP%]{background:#6c757d;color:#fff;border:none;padding:10px 20px;border-radius:50px;font-size:1rem;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px;box-shadow:0 8px 15px #6c757d66}.btn-back[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px);box-shadow:0 10px 20px #5a626880}.btn-back[_ngcontent-%COMP%]:active{transform:translateY(2px)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.form-card[_ngcontent-%COMP%]{padding:20px 30px}.btn-submit[_ngcontent-%COMP%], .btn-back[_ngcontent-%COMP%]{padding:10px 15px}}"]})};var As=(d,i)=>({paired:d,unpaired:i}),Is=(d,i)=>({"fa-solid fa-link":d,"fas fa-times-circle":i});function Es(d,i){if(d&1){let n=I();a(0,"ul",20)(1,"li",21)(2,"a",22),C("click",function(){_(n);let c=h();return x(c.switchTab("all"))}),w(3,"i",23),l(4,"All Devices "),r()(),a(5,"li",21)(6,"a",22),C("click",function(){_(n);let c=h();return x(c.switchTab("my"))}),w(7,"i",24),l(8,"My Devices "),r()()()}if(d&2){let n=h();m(2),be("active",n.activeTab==="all"),m(4),be("active",n.activeTab==="my")}}function Ts(d,i){if(d&1){let n=I();a(0,"li")(1,"button",43),C("click",function(){_(n);let c=h().$implicit,p=h();return x(p.unpairageDevice(c.deviceId))}),w(2,"i",48),l(3," Unpair "),r()()}}function Ds(d,i){if(d&1){let n=I();a(0,"div",25)(1,"div",26)(2,"div",27),l(3),r(),a(4,"div",28),w(5,"i",29),a(6,"span"),l(7),r()()(),a(8,"div",30)(9,"div",31)(10,"div",32)(11,"label"),l(12,"Device ID"),r(),a(13,"h3"),l(14),r()(),a(15,"div",32)(16,"label"),l(17,"Name"),r(),a(18,"h4"),l(19),r()(),a(20,"div",32)(21,"label"),l(22,"Description"),r(),a(23,"p"),l(24),r()(),a(25,"div",32)(26,"label"),l(27,"Orientation"),r(),a(28,"span",33),l(29),Z(30,"titlecase"),r()()()(),a(31,"div",34)(32,"button",35),C("click",function(){let c=_(n).$implicit,p=h();return x(p.openEditModal(c))}),w(33,"i",36),a(34,"span"),l(35,"Edit"),r()(),a(36,"button",37),C("click",function(){let c=_(n).$implicit,p=h();return x(p.openScheduleModal(c))}),w(37,"i",38),a(38,"span"),l(39,"Schedule"),r()(),a(40,"div",39)(41,"button",40),w(42,"i",41),r(),a(43,"ul",42)(44,"li")(45,"button",43),C("click",function(){let c=_(n).$implicit,p=h();return x(p.confirmArchive(c._id))}),w(46,"i",44),l(47," Archive "),r()(),M(48,Ts,4,0,"li",45),a(49,"li")(50,"button",46),C("click",function(){let c=_(n).$implicit,p=h();return x(p.deleteDevice(c._id))}),w(51,"i",47),l(52," Delete "),r()()()()()()}if(d&2){let n=i.$implicit,s=i.index,c=h();m(3),P("#",(c.currentPage-1)*c.itemsPerPage+s+1,""),m(),f("ngClass",ct(11,As,n.isPaired,!n.isPaired)),m(),f("ngClass",ct(14,Is,n.isPaired===!0,n.isPaired===!1)),m(2),E(n.isPaired?"Paired":"Not Paired"),m(7),E(n.deviceId),m(5),E(n.name),m(5),E(n.description),m(5),E(te(30,9,n.orientation)),m(19),f("ngIf",n.isPaired)}}function Vs(d,i){d&1&&(a(0,"div",60)(1,"p"),l(2,"No advertisements available to schedule."),r()())}function Ls(d,i){d&1&&(a(0,"div",73),w(1,"div",74),a(2,"span"),l(3,"Loading video..."),r()())}function Us(d,i){if(d&1){let n=I();a(0,"video",75),C("loadeddata",function(){_(n);let c=h().$implicit;return x(c.videoLoaded=!0)}),r()}if(d&2){let n=h().$implicit;be("hidden",!n.videoLoaded),f("src",n.videoUrl,Le)}}function Ns(d,i){if(d&1){let n=I();a(0,"div",63)(1,"div",64)(2,"div",65),M(3,Ls,4,0,"div",66)(4,Us,1,3,"video",67),r(),a(5,"div",68)(6,"div",69)(7,"input",70,0),C("change",function(){let c=_(n).$implicit,p=Me(8),g=h(3);return x(g.toggleAdSelection(c._id,p.checked))}),r(),a(9,"label",71),l(10),r()(),a(11,"p",72),l(12),r()()()()}if(d&2){let n=i.$implicit;m(3),f("ngIf",!n.videoLoaded),m(),f("ngIf",n.videoUrl),m(3),f("id","checkbox-"+n._id)("value",n._id),m(2),f("for","checkbox-"+n._id),m(),P(" ",n.name," "),m(),Ui("title",n.description),m(),P(" ",n.description," ")}}function js(d,i){if(d&1&&(a(0,"div",61),M(1,Ns,13,8,"div",62),r()),d&2){let n=h(2);m(),f("ngForOf",n.ads)}}function Fs(d,i){if(d&1){let n=I();a(0,"div",49)(1,"div",50)(2,"div",51)(3,"div",52)(4,"h5",53),l(5,"Schedule Ads"),r(),a(6,"button",54),C("click",function(){_(n);let c=h();return x(c.isScheduleModalOpen=!1)}),r()(),a(7,"div",55),M(8,Vs,3,0,"div",56)(9,js,2,1,"div",57),r(),a(10,"div",58)(11,"button",59),C("click",function(){_(n);let c=h();return x(c.navigateToSchedule())}),l(12," Schedule "),r()()()()()}if(d&2){let n=h();m(8),f("ngIf",n.ads.length===0),m(),f("ngIf",n.ads.length>0)}}function Bs(d,i){if(d&1){let n=I();a(0,"div",49)(1,"div",76)(2,"div",51)(3,"div",77)(4,"h5",53),l(5,"Confirm Archive"),r(),a(6,"button",54),C("click",function(){_(n);let c=h();return x(c.closeConfirmDialog())}),r()(),a(7,"div",55)(8,"p"),l(9,"Are you sure you want to archive this device?"),r()(),a(10,"div",58)(11,"button",78),C("click",function(){_(n);let c=h();return x(c.closeConfirmDialog())}),l(12," Cancel "),r(),a(13,"button",79),C("click",function(){_(n);let c=h();return x(c.archiveDevice())}),l(14," Archive "),r()()()()()}}function Rs(d,i){if(d&1){let n=I();a(0,"div",49)(1,"div",76)(2,"div",51)(3,"div",77)(4,"h5",53),l(5,"Edit Device"),r(),a(6,"button",54),C("click",function(){_(n);let c=h();return x(c.closeEditModal())}),r()(),a(7,"div",55)(8,"form",null,1)(10,"div",80)(11,"label",81),l(12,"Device ID"),r(),a(13,"input",82),A("ngModelChange",function(c){_(n);let p=h();return k(p.editDeviceObject.deviceId,c)||(p.editDeviceObject.deviceId=c),x(c)}),r()(),a(14,"div",80)(15,"label",83),l(16,"Name"),r(),a(17,"input",84),A("ngModelChange",function(c){_(n);let p=h();return k(p.editDeviceObject.name,c)||(p.editDeviceObject.name=c),x(c)}),r()(),a(18,"div",80)(19,"label",85),l(20,"Description"),r(),a(21,"textarea",86),A("ngModelChange",function(c){_(n);let p=h();return k(p.editDeviceObject.description,c)||(p.editDeviceObject.description=c),x(c)}),r()(),a(22,"div",80)(23,"label",87),l(24,"Orientation"),r(),a(25,"select",88),A("ngModelChange",function(c){_(n);let p=h();return k(p.editDeviceObject.orientation,c)||(p.editDeviceObject.orientation=c),x(c)}),a(26,"option",89),l(27,"Landscape"),r(),a(28,"option",90),l(29,"Portrait"),r()()()()(),a(30,"div",58)(31,"button",78),C("click",function(){_(n);let c=h();return x(c.closeEditModal())}),l(32," Cancel "),r(),a(33,"button",91),C("click",function(){_(n);let c=h();return x(c.updateDevice())}),l(34," Save Changes "),r()()()()()}if(d&2){let n=Me(9),s=h();m(13),O("ngModel",s.editDeviceObject.deviceId),m(4),O("ngModel",s.editDeviceObject.name),m(4),O("ngModel",s.editDeviceObject.description),m(4),O("ngModel",s.editDeviceObject.orientation),m(8),f("disabled",!n.form.valid)}}var pt=class d{constructor(i,n,s,c){this.adminService=i;this.router=n;this.authService=s;this.route=c;this.userRole=this.authService.userRole||"user",this.userId=this.authService.userId||"",console.log("Constructor - User ID:",this.userId),console.log("Constructor - User Role:",this.userRole)}devices=[];filteredDevices=[];ads=[];searchTerm="";currentPage=1;itemsPerPage=5;totalPages=0;errorMessage="";editDeviceObject={};isEditModalOpen=!1;isConfirmDialogOpen=!1;archivingDeviceId="";selectedDevice=null;selectedAds=[];isScheduleModalOpen=!1;userId;filteredAds=[];userRole;activeTab="all";allDevices=[];myDevices=[];ngOnInit(){this.route.params.subscribe(i=>{this.loadDevices()})}loadDevices(){this.userRole==="admin"||this.userRole==="SUPERADMIN"?this.adminService.getDevices().subscribe(i=>{i&&Array.isArray(i.data)?(this.allDevices=i.data.filter(n=>n.isDeleted===!1),this.myDevices=this.allDevices.filter(n=>n.userId?._id===this.userId||n.userId===this.userId),console.log("All Devices:",this.allDevices),console.log("My Devices:",this.myDevices),console.log("Current User ID:",this.userId),this.devices=this.activeTab==="all"?this.allDevices:this.myDevices,this.filteredDevices=[...this.devices],this.calculatePagination()):console.error("Unexpected response format:",i)},i=>{this.errorMessage=i.error?.message||"Failed to load devices. Please try again."}):this.adminService.getDevices().subscribe(i=>{i&&Array.isArray(i.data)&&(this.devices=i.data.filter(n=>n.isDeleted===!1),this.myDevices=[...this.devices],this.allDevices=[...this.devices],this.filteredDevices=[...this.devices],this.calculatePagination())},i=>{this.errorMessage=i.error?.message||"Failed to load devices. Please try again."})}unpairageDevice(i){this.adminService.isPaired(i).subscribe(n=>{this.loadDevices()})}loadAds(){this.userRole==="admin"?this.adminService.getAds().subscribe(i=>{this.ads=(i.data||[]).filter(n=>n.isDeleted===!1),this.filteredAds=[...this.ads]},i=>{console.error("Error fetching advertisements:",i),this.errorMessage=i.error?.message||"Failed to load advertisements."}):this.adminService.getAdvertisementsByUserId(this.userId).subscribe(i=>{this.ads=(i.data||[]).filter(n=>n.isDeleted===!1),this.filteredAds=[...this.ads]},i=>{console.error("Error fetching advertisements:",i),this.errorMessage=i.error?.message||"Failed to load advertisements."})}onSearch(){let i=this.searchTerm.toLowerCase();this.filteredDevices=this.devices.filter(n=>n.name.toLowerCase().includes(i)||n.description.toLowerCase().includes(i)||n.orientation.toLowerCase().includes(i)),this.calculatePagination()}calculatePagination(){this.totalPages=Math.ceil(this.filteredDevices.length/this.itemsPerPage),this.currentPage=Math.min(this.currentPage,this.totalPages||1)}getPaginatedDevices(){let i=(this.currentPage-1)*this.itemsPerPage,n=i+this.itemsPerPage;return this.filteredDevices.slice(i,n)}previousPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}openEditModal(i){this.editDeviceObject=se({},i),this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1}updateDevice(){this.adminService.updateDevices(this.editDeviceObject._id,this.editDeviceObject).subscribe(()=>{this.loadDevices(),this.isEditModalOpen=!1},i=>{this.errorMessage=i.error?.message||"Failed to update device. Please try again."})}confirmArchive(i){this.archivingDeviceId=i,this.isConfirmDialogOpen=!0}archiveDevice(){this.adminService.archiveDevices(this.archivingDeviceId).subscribe(()=>{this.loadDevices(),this.isConfirmDialogOpen=!1},i=>{this.errorMessage=i.error?.message||"Failed to archive device. Please try again."})}closeConfirmDialog(){this.isConfirmDialogOpen=!1,this.archivingDeviceId=""}openScheduleModal(i){this.selectedDevice=i,this.loadAds(),this.isScheduleModalOpen=!0}navigateToSchedule(){this.isScheduleModalOpen=!1;let i={deviceId:this.selectedDevice._id,ads:this.selectedAds.join(",")};this.router.navigate(["/admin/Makeschedule"],{queryParams:i})}toggleAdSelection(i,n){n?this.selectedAds.push(i):this.selectedAds=this.selectedAds.filter(s=>s!==i)}navigateToAddDevice(){this.router.navigate(["/admin/addDevices"])}deleteDevice(i){this.adminService.deleteDeviceById(i).subscribe(()=>{this.loadDevices()},n=>{this.errorMessage=n.error?.message||"Failed to delete device."})}switchTab(i){this.activeTab=i,this.devices=i==="all"?this.allDevices:this.myDevices,this.filteredDevices=[...this.devices],this.calculatePagination(),this.currentPage=1,console.log("Switched to tab:",i),console.log("Current devices:",this.devices)}static \u0275fac=function(n){return new(n||d)(S(z),S(R),S(xe),S(Ne))};static \u0275cmp=N({type:d,selectors:[["app-devices"]],standalone:!1,decls:26,vars:10,consts:[["adCheckbox",""],["editForm","ngForm"],[1,"container","py-4","ad-list-container"],[1,"list-title","text-center"],["class","nav nav-tabs mb-4",4,"ngIf"],[1,"row","align-items-center","mb-3"],[1,"col-md-6","text-start"],[1,"btn","btn-primary","add-ad-btn",3,"click"],[1,"fas","fa-plus-circle","me-2"],[1,"col-md-6"],[1,"input-group"],["type","text","placeholder","Search devices...",1,"form-control","search-input",3,"ngModelChange","input","ngModel"],[1,"devices-grid"],["class","device-card",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"fw-bold","text-primary"],[1,"fas","fa-chevron-right"],["class","modal fade show","style","display: block;",4,"ngIf"],[1,"nav","nav-tabs","mb-4"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"fas","fa-list","me-2"],[1,"fas","fa-user-circle","me-2"],[1,"device-card"],[1,"device-card-header"],[1,"device-number"],[1,"device-status",3,"ngClass"],[3,"ngClass"],[1,"device-card-body"],[1,"device-info"],[1,"info-group"],[1,"orientation-badge"],[1,"device-card-footer"],[1,"action-btn","edit",3,"click"],[1,"fas","fa-edit"],[1,"action-btn","schedule",3,"click"],[1,"fas","fa-tv"],[1,"dropdown"],["data-bs-toggle","dropdown",1,"action-btn","more"],[1,"fas","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"fas","fa-archive","me-2"],[4,"ngIf"],[1,"dropdown-item","text-danger",3,"click"],[1,"fas","fa-trash-alt","me-2"],[1,"fas","fa-unlink","me-2"],[1,"modal","fade","show",2,"display","block"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-info","text-white"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["class","text-center",4,"ngIf"],["class","row g-3",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"text-center"],[1,"row","g-3"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","h-100","shadow-sm"],[1,"video-container"],["class","loading-spinner",4,"ngIf"],["class","card-img-top rounded-top","controls","","muted","","preload","metadata",3,"src","hidden","loadeddata",4,"ngIf"],[1,"card-body"],[1,"form-check","mb-2"],["type","checkbox",1,"form-check-input",3,"change","id","value"],[1,"form-check-label","text-truncate",3,"for"],[1,"card-text","text-truncate",3,"title"],[1,"loading-spinner"],[1,"spinner"],["controls","","muted","","preload","metadata",1,"card-img-top","rounded-top",3,"loadeddata","src"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-header","bg-warning","text-white"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"mb-3"],["for","deviceId",1,"form-label"],["type","text","id","deviceId","name","deviceId","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","description",1,"form-label"],["id","description","name","description","required","","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","orientation",1,"form-label"],["id","orientation","name","orientation","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","landscape"],["value","portrait"],[1,"btn","btn-primary","btn-sm",3,"click","disabled"]],template:function(n,s){n&1&&(a(0,"div",2)(1,"h2",3),l(2,"Devices List"),r(),M(3,Es,9,4,"ul",4),a(4,"div",5)(5,"div",6)(6,"button",7),C("click",function(){return s.navigateToAddDevice()}),w(7,"i",8),l(8," Add Device "),r()(),a(9,"div",9)(10,"div",10)(11,"input",11),A("ngModelChange",function(p){return k(s.searchTerm,p)||(s.searchTerm=p),p}),C("input",function(){return s.onSearch()}),r()()()(),a(12,"div",12),M(13,Ds,53,17,"div",13),r(),a(14,"div",14)(15,"button",15),C("click",function(){return s.previousPage()}),w(16,"i",16),l(17," Previous "),r(),a(18,"span",17),l(19),r(),a(20,"button",15),C("click",function(){return s.nextPage()}),l(21," Next "),w(22,"i",18),r()(),M(23,Fs,13,2,"div",19)(24,Bs,15,0,"div",19)(25,Rs,35,5,"div",19),r()),n&2&&(m(3),f("ngIf",s.userRole==="admin"||s.userRole==="SUPERADMIN"),m(8),O("ngModel",s.searchTerm),m(2),f("ngForOf",s.getPaginatedDevices()),m(2),f("disabled",s.currentPage===1),m(4),_e(" Page ",s.currentPage," of ",s.totalPages," "),m(),f("disabled",s.currentPage===s.totalPages),m(3),f("ngIf",s.isScheduleModalOpen),m(),f("ngIf",s.isConfirmDialogOpen),m(),f("ngIf",s.isEditModalOpen))},dependencies:[Ue,$,B,J,oe,re,Y,ie,H,K,ae,X,ne,pe],styles:[".devices-dashboard[_ngcontent-%COMP%]{min-height:100vh;background:#f8f9fa;padding:2rem}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:2rem}.dashboard-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#2c3e50;margin-bottom:.5rem;display:flex;align-items:center;gap:1rem}.dashboard-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3498db}.dashboard-subtitle[_ngcontent-%COMP%]{color:#6c757d;font-size:1rem}.control-panel[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 4px #0000000a;margin-bottom:2rem;display:flex;flex-wrap:wrap;gap:1.5rem}.panel-section[_ngcontent-%COMP%]{flex:1;min-width:300px}.custom-tabs[_ngcontent-%COMP%]{display:flex;gap:1rem;border-bottom:2px solid #e9ecef;padding-bottom:1rem}.tab-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.75rem 1.5rem;color:#6c757d;font-weight:500;border-radius:8px;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.tab-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;color:#3498db}.tab-btn.active[_ngcontent-%COMP%]{background:#e3f2fd;color:#2196f3}.actions-group[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.search-container[_ngcontent-%COMP%]{flex:1;min-width:200px}.search-wrapper[_ngcontent-%COMP%]{position:relative}.search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#6c757d}.search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.5rem;border:1px solid #e9ecef;border-radius:8px;font-size:.95rem;transition:all .3s ease}.search-input[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 3px #3498db1a;outline:none}.btn-add[_ngcontent-%COMP%]{background:#3498db;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:8px;font-weight:500;display:flex;align-items:center;gap:.5rem;transition:all .3s ease}.btn-add[_ngcontent-%COMP%]:hover{background:#2980b9;transform:translateY(-1px)}.devices-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem;padding:1rem 0}.device-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #0000000d;transition:all .3s ease;overflow:hidden;position:relative}.device-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #0000001a}.device-card-header[_ngcontent-%COMP%]{padding:1.25rem;display:flex;justify-content:space-between;align-items:center;background:linear-gradient(to right,#f8f9fa,#fff);border-bottom:1px solid #eef0f2}.device-number[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#6c757d}.device-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;font-size:.875rem;font-weight:500}.device-status.paired[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.device-status.unpaired[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.device-card-body[_ngcontent-%COMP%]{padding:1.5rem}.device-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.info-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.info-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;color:#6c757d;letter-spacing:.5px}.info-group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#2c3e50;margin:0}.info-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;color:#34495e;margin:0}.info-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;margin:0;line-height:1.5}.orientation-badge[_ngcontent-%COMP%]{display:inline-block;padding:.35rem .75rem;background-color:#e3f2fd;color:#1976d2;border-radius:12px;font-size:.875rem;font-weight:500}.device-card-footer[_ngcontent-%COMP%]{padding:1rem;display:flex;gap:.5rem;border-top:1px solid #eef0f2;background-color:#f8f9fa}.action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border:none;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease}.action-btn.edit[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.action-btn.edit[_ngcontent-%COMP%]:hover{background-color:#bbdefb}.action-btn.schedule[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.action-btn.schedule[_ngcontent-%COMP%]:hover{background-color:#e1bee7}.action-btn.more[_ngcontent-%COMP%]{padding:.5rem;background-color:#f5f5f5;color:#616161;margin-left:auto}.action-btn.more[_ngcontent-%COMP%]:hover{background-color:#eee}.dropdown-menu[_ngcontent-%COMP%]{border:none;border-radius:12px;box-shadow:0 4px 20px #0000001a;padding:.5rem}.dropdown-item[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:8px;transition:all .2s ease}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.dropdown-item.text-danger[_ngcontent-%COMP%]:hover{background-color:#ffebee}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem}.pagination-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid #e9ecef;border-radius:6px;background:#fff;color:#6c757d;transition:all .2s ease}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-btn[_ngcontent-%COMP%]:not(:disabled):hover{background:#f8f9fa;color:#3498db}.pagination-info[_ngcontent-%COMP%]{font-size:.95rem;color:#6c757d}@media (max-width: 1200px){.devices-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}}@media (max-width: 992px){.devices-dashboard[_ngcontent-%COMP%]{padding:1.5rem}.control-panel[_ngcontent-%COMP%]{flex-direction:column}.panel-section[_ngcontent-%COMP%]{width:100%}}@media (max-width: 768px){.devices-dashboard[_ngcontent-%COMP%]{padding:1rem}.dashboard-title[_ngcontent-%COMP%]{font-size:1.5rem}.actions-group[_ngcontent-%COMP%]{flex-direction:column}.btn-add[_ngcontent-%COMP%]{width:100%;justify-content:center}.card-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.action-btn[_ngcontent-%COMP%]{flex:1;justify-content:center}.action-btn.more[_ngcontent-%COMP%]{flex:0}}@media (max-width: 576px){.custom-tabs[_ngcontent-%COMP%]{flex-direction:column}.tab-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.status-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .75rem}}.modal-content[_ngcontent-%COMP%]{border:none;border-radius:15px;box-shadow:0 10px 30px #0000001a;background:linear-gradient(to bottom right,#fff,#f8f9fa);overflow:hidden}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(45deg,#3498db,#2980b9);padding:1.5rem;border:none}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:1.25rem;text-shadow:0 1px 2px rgba(0,0,0,.1)}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background-color:#fffc;border-radius:50%;padding:.75rem;transition:all .3s ease}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background-color:#fff;transform:rotate(90deg)}.modal-body[_ngcontent-%COMP%]{padding:2rem}.video-container[_ngcontent-%COMP%]{position:relative;border-radius:10px;overflow:hidden;background:#f8f9fa;margin-bottom:1rem}.video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;border-radius:10px;transition:opacity .3s ease}.loading-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.card[_ngcontent-%COMP%]{border:none;transition:transform .3s ease,box-shadow .3s ease;background:#fff}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000001a}.form-check[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;transition:background-color .3s ease}.form-check[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.form-check-input[_ngcontent-%COMP%]{width:1.2rem;height:1.2rem;margin-top:.2rem;cursor:pointer}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#3498db;border-color:#3498db}.form-check-label[_ngcontent-%COMP%]{font-weight:500;color:#2c3e50;margin-left:.5rem;cursor:pointer}.text-truncate[_ngcontent-%COMP%]{max-width:100%}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid #eee;padding:1.5rem;background:#fff}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;border-radius:10px;transition:all .3s ease}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#e9ecef;border:none;color:#495057}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#dee2e6;transform:translateY(-2px)}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(45deg,#3498db,#2980b9);border:none;box-shadow:0 4px 15px #3498db4d}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(45deg,#2980b9,#3498db);transform:translateY(-2px);box-shadow:0 6px 20px #3498db66}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{background:linear-gradient(45deg,#bdc3c7,#95a5a6);transform:none;box-shadow:none}.modal-backdrop.show[_ngcontent-%COMP%]{opacity:.7}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.modal-dialog[_ngcontent-%COMP%]{margin:.5rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.form-check[_ngcontent-%COMP%]{padding:.75rem}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin:.25rem 0}}"]})};var zs=()=>["portrait","landscape"];function Ws(d,i){if(d&1&&(a(0,"div",43),l(1),r()),d&2){let n=h();m(),P(" ",n.errorMessage," ")}}function qs(d,i){if(d&1){let n=I();a(0,"tr")(1,"td"),l(2),r(),a(3,"td"),l(4),r(),a(5,"td"),l(6),r(),a(7,"td"),l(8),r(),a(9,"td"),l(10),Z(11,"titlecase"),r(),a(12,"td")(13,"button",44),C("click",function(){let c=_(n).$implicit,p=h();return x(p.confirmArchive(c._id))}),w(14,"i",45),l(15," UnArchive "),r()()()}if(d&2){let n=i.$implicit,s=i.index,c=h();m(2),E((c.currentPage-1)*c.itemsPerPage+s+1),m(2),E(n.deviceId),m(2),E(n.name),m(2),E(n.description),m(2),E(te(11,5,n.orientation))}}function $s(d,i){if(d&1&&(a(0,"option",46),l(1),Z(2,"titlecase"),r()),d&2){let n=i.$implicit;f("value",n),m(),P(" ",te(2,2,n)," ")}}var gt=class d{constructor(i,n,s){this.adminService=i;this.route=n;this.router=s}devices=[];filteredDevices=[];ads=[];searchTerm="";currentPage=1;itemsPerPage=5;totalPages=0;errorMessage="";editDeviceObject={};isEditModalOpen=!1;isConfirmDialogOpen=!1;archivingDeviceId="";selectedDevice=null;selectedAds=[];isScheduleModalOpen=!1;userId;ngOnInit(){this.route.params.subscribe(i=>{this.userId=i.userId||"",this.loadDevices()})}loadDevices(){this.adminService.getDevices().subscribe(i=>{console.log(i),i&&Array.isArray(i.data)?(this.devices=i.data.filter(n=>n.isDeleted==!0),console.log(this.devices),this.filteredDevices=[...this.devices],this.calculatePagination()):console.error("Unexpected response format:",i)},i=>{this.errorMessage=i.error?.message||"Failed to load devices. Please try again."})}unpairageDevice(i){this.adminService.isPaired(i).subscribe(n=>{this.loadDevices()})}loadAds(){this.adminService.getAds().subscribe(i=>{this.ads=(i.data||[]).filter(n=>n.isDeleted===!1)},i=>{this.errorMessage=i.error?.message||"Failed to load advertisements."})}onSearch(){let i=this.searchTerm.toLowerCase();this.filteredDevices=this.devices.filter(n=>n.name.toLowerCase().includes(i)||n.description.toLowerCase().includes(i)||n.orientation.toLowerCase().includes(i)),this.calculatePagination()}calculatePagination(){this.totalPages=Math.ceil(this.filteredDevices.length/this.itemsPerPage),this.currentPage=Math.min(this.currentPage,this.totalPages||1)}getPaginatedDevices(){let i=(this.currentPage-1)*this.itemsPerPage,n=i+this.itemsPerPage;return this.filteredDevices.slice(i,n)}previousPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}openEditModal(i){this.editDeviceObject=se({},i),this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1}updateDevice(){this.adminService.updateDevices(this.editDeviceObject._id,this.editDeviceObject).subscribe(()=>{this.loadDevices(),this.isEditModalOpen=!1},i=>{this.errorMessage=i.error?.message||"Failed to update device. Please try again."})}confirmArchive(i){this.archivingDeviceId=i,this.isConfirmDialogOpen=!0}unarchiveDevices(){this.adminService.unarchiveDevices(this.archivingDeviceId).subscribe(()=>{this.loadDevices(),this.isConfirmDialogOpen=!1},i=>{console.error("Error archiving device:",i),this.errorMessage=i.error?.message||"Failed to archive device. Please try again."})}closeConfirmDialog(){this.isConfirmDialogOpen=!1,this.archivingDeviceId=""}openScheduleModal(i){this.selectedDevice=i,this.loadAds(),this.isScheduleModalOpen=!0}navigateToSchedule(){this.isScheduleModalOpen=!1;let i={deviceId:this.selectedDevice._id,ads:this.selectedAds.join(",")};this.router.navigate(["/admin/Makeschedule"],{queryParams:i})}toggleAdSelection(i,n){n?this.selectedAds.push(i):this.selectedAds=this.selectedAds.filter(s=>s!==i)}navigateToAddDevice(){this.router.navigate(["/admin/addDevices"])}deleteDevice(i){this.adminService.deleteDeviceById(i).subscribe(()=>{this.loadDevices()},n=>{this.errorMessage=n.error?.message||"Failed to delete device."})}static \u0275fac=function(n){return new(n||d)(S(z),S(Ne),S(R))};static \u0275cmp=N({type:d,selectors:[["app-archive-dev"]],standalone:!1,decls:79,vars:12,consts:[[1,"container","py-4","ad-list-container"],[1,"list-title","text-center"],[1,"row","align-items-center","mb-3"],[1,"col-md-6"],[1,"input-group"],["type","text","placeholder","Search devices...",1,"form-control","search-input",3,"ngModelChange","input","ngModel"],[1,"input-group-text","bg-primary","text-white"],[1,"fas","fa-search"],["class","alert alert-danger",4,"ngIf"],[1,"table-responsive","shadow-sm","rounded"],[1,"table","table-striped","table-hover"],[1,"table-primary"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"fw-bold","text-primary"],[1,"fas","fa-chevron-right"],["id","editDeviceModal","tabindex","-1","aria-labelledby","editDeviceModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-primary","text-white"],["id","editDeviceModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],["id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","description",1,"form-label"],["id","description","name","description","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","orientation",1,"form-label"],["id","orientation","name","orientation","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","confirmArchiveModal","tabindex","-1","aria-labelledby","confirmArchiveModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-header","bg-success","text-white"],["id","confirmArchiveModalLabel",1,"modal-title"],[1,"fw-bold","text-danger"],["data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"alert","alert-danger"],["data-bs-toggle","modal","data-bs-target","#confirmArchiveModal",1,"btn","btn-success","btn-sm",3,"click"],[1,"fas","fa-archive"],[3,"value"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"h2",1),l(2,"Archived Devices List"),r(),a(3,"div",2)(4,"div",3)(5,"div",4)(6,"input",5),A("ngModelChange",function(p){return k(s.searchTerm,p)||(s.searchTerm=p),p}),C("input",function(){return s.onSearch()}),r(),a(7,"span",6),w(8,"i",7),r()()()(),M(9,Ws,2,1,"div",8),a(10,"div",9)(11,"table",10)(12,"thead",11)(13,"tr")(14,"th"),l(15,"#"),r(),a(16,"th"),l(17,"Device ID"),r(),a(18,"th"),l(19,"Name"),r(),a(20,"th"),l(21,"Description"),r(),a(22,"th"),l(23,"Orientation"),r(),a(24,"th"),l(25,"Actions"),r()()(),a(26,"tbody"),M(27,qs,16,7,"tr",12),r()()(),a(28,"div",13)(29,"button",14),C("click",function(){return s.previousPage()}),w(30,"i",15),l(31," Previous "),r(),a(32,"span",16),l(33),r(),a(34,"button",14),C("click",function(){return s.nextPage()}),l(35," Next "),w(36,"i",17),r()(),a(37,"div",18)(38,"div",19)(39,"div",20)(40,"div",21)(41,"h5",22),l(42,"Edit Device"),r(),w(43,"button",23),r(),a(44,"div",24)(45,"form",25),C("ngSubmit",function(){return s.updateDevice()}),a(46,"div",26)(47,"label",27),l(48,"Name"),r(),a(49,"input",28),A("ngModelChange",function(p){return k(s.editDeviceObject.name,p)||(s.editDeviceObject.name=p),p}),r()(),a(50,"div",26)(51,"label",29),l(52,"Description"),r(),a(53,"textarea",30),A("ngModelChange",function(p){return k(s.editDeviceObject.description,p)||(s.editDeviceObject.description=p),p}),r()(),a(54,"div",26)(55,"label",31),l(56,"Orientation"),r(),a(57,"select",32),A("ngModelChange",function(p){return k(s.editDeviceObject.orientation,p)||(s.editDeviceObject.orientation=p),p}),M(58,$s,3,4,"option",33),r()(),a(59,"div",34)(60,"button",35),l(61,"Save Changes"),r(),a(62,"button",36),l(63," Cancel "),r()()()()()()(),a(64,"div",37)(65,"div",19)(66,"div",20)(67,"div",38)(68,"h5",39),l(69," Confirm UnArchive "),r(),w(70,"button",23),r(),a(71,"div",24)(72,"p",40),l(73,"Are you sure you want to unarchive this device?"),r()(),a(74,"div",34)(75,"button",41),C("click",function(){return s.unarchiveDevices()}),l(76," Yes "),r(),a(77,"button",42),l(78," No "),r()()()()()()),n&2&&(m(6),O("ngModel",s.searchTerm),m(3),f("ngIf",s.errorMessage),m(18),f("ngForOf",s.getPaginatedDevices()),m(2),f("disabled",s.currentPage===1),m(4),_e(" Page ",s.currentPage," of ",s.totalPages," "),m(),f("disabled",s.currentPage===s.totalPages),m(15),O("ngModel",s.editDeviceObject.name),m(4),O("ngModel",s.editDeviceObject.description),m(4),O("ngModel",s.editDeviceObject.orientation),m(),f("ngForOf",Lt(11,zs)))},dependencies:[$,B,J,oe,re,Y,ie,H,K,ae,X,ne,pe],encapsulation:2})};var nt=class d{constructor(i){this.socket=i;this.setupConnectionListeners()}configureSocket(i){this.socket.ioSocket.io.opts=se(se({},this.socket.ioSocket.io.opts),i.options),i.url&&(this.socket.ioSocket.io.uri=i.url),console.log("Socket configured with URL:",i.url)}setupConnectionListeners(){this.socket.on("connect",()=>console.log("Connected to socket server")),this.socket.on("disconnect",i=>console.error("Disconnected:",i)),this.socket.on("connect_error",i=>console.error("Connect error:",i)),this.socket.on("reconnect",i=>console.log("Reconnected:",i)),this.socket.on("reconnect_attempt",i=>console.log("Reconnect attempt:",i)),this.socket.on("reconnect_error",i=>console.error("Reconnect error:",i)),this.socket.on("reconnect_failed",()=>console.error("Reconnect failed"))}isConnected(){return this.socket.ioSocket.connected}listen(i){return this.socket.fromEvent(i)}emit(i,n){this.socket.emit(i,n)}joinRoom(i){this.socket.emit("join",i),console.log("Joined room:",i)}leaveRoom(i){this.socket.emit("leave",i),console.log("Left room:",i)}getConnectionStatus(){return new xn(i=>(this.socket.on("connect",()=>i.next(!0)),this.socket.on("disconnect",()=>i.next(!1)),i.next(this.isConnected()),()=>{this.socket.off("connect"),this.socket.off("disconnect")}))}disconnect(){this.socket.disconnect(),console.log("Socket disconnected")}connect(){this.socket.connect(),console.log("Socket connected")}onConnect(){return new xn(i=>{this.isConnected()?(i.next(),i.complete()):this.socket.on("connect",()=>{i.next(),i.complete()})})}static \u0275fac=function(n){return new(n||d)(Di(Ki))};static \u0275prov=Ti({token:d,factory:d.\u0275fac,providedIn:"root"})};function Ys(d,i){if(d&1&&(a(0,"div",6),l(1),r()),d&2){let n=h();m(),P(" ",n.success," ")}}function Hs(d,i){d&1&&(a(0,"div",7)(1,"div",8)(2,"span",9),l(3,"Loading..."),r()()())}function Qs(d,i){if(d&1&&(a(0,"div",34)(1,"div",16)(2,"h5",17),l(3),r(),a(4,"p",35),l(5),r(),a(6,"p",35),l(7),r()()()),d&2){let n=h(2);m(3),E(n.device.name),m(2),P("ID: ",n.device._id,""),m(2),P("Location: ",n.device.location||"Not specified","")}}function Gs(d,i){if(d&1&&(a(0,"div",36)(1,"h5",37),l(2),r(),a(3,"p",37),l(4),r()()),d&2){let n=i.$implicit;m(2),E(n.name),m(2),P("Duration: ",n.duration," seconds")}}function Zs(d,i){if(d&1){let n=I();a(0,"form",10),C("ngSubmit",function(){_(n);let c=h();return x(c.createSchedule())}),a(1,"div",11)(2,"h4"),l(3,"Device Information"),r(),M(4,Qs,8,3,"div",12),r(),a(5,"div",11)(6,"h4"),l(7,"Selected Advertisements"),r(),a(8,"div",13),M(9,Gs,5,2,"div",14),r()(),a(10,"div",15)(11,"div",16)(12,"h4",17),l(13,"Schedule Settings"),r(),a(14,"div",11)(15,"label",18),l(16,"Start Time"),r(),a(17,"input",19),A("ngModelChange",function(c){_(n);let p=h();return k(p.startTime,c)||(p.startTime=c),x(c)}),r()(),a(18,"div",11)(19,"label",20),l(20,"Play Time (minutes)"),r(),a(21,"input",21),A("ngModelChange",function(c){_(n);let p=h();return k(p.playTime,c)||(p.playTime=c),x(c)}),r()(),a(22,"div",11)(23,"label",22),l(24,"Repeat"),r(),a(25,"select",23),A("ngModelChange",function(c){_(n);let p=h();return k(p.repeat,c)||(p.repeat=c),x(c)}),a(26,"option",24),l(27,"Once"),r(),a(28,"option",25),l(29,"Daily"),r(),a(30,"option",26),l(31,"Weekly"),r()()(),a(32,"div",11)(33,"label",27),l(34,"Play Mode"),r(),a(35,"select",28),A("ngModelChange",function(c){_(n);let p=h();return k(p.playMode,c)||(p.playMode=c),x(c)}),a(36,"option",29),l(37,"Loop"),r(),a(38,"option",30),l(39,"Sequence"),r(),a(40,"option",31),l(41,"Random"),r()()()()(),a(42,"div",32)(43,"button",33),l(44),r()()()}if(d&2){let n=h();m(4),f("ngIf",n.device),m(5),f("ngForOf",n.ads),m(8),O("ngModel",n.startTime),m(4),O("ngModel",n.playTime),m(4),O("ngModel",n.repeat),m(10),O("ngModel",n.playMode),m(9),P(" ",n.loading?"Creating Schedule...":"Create Schedule"," ")}}var Yt=class d{constructor(i,n,s,c,p,g){this.route=i;this.router=n;this.adminService=s;this.socketService=c;this.platformId=p;this.authService=g}deviceId="";selectedAds=[];device=null;ads=[];loading=!1;error=null;success=null;startTime=new Date;playTime=60;repeat="once";playMode="loop";subscriptions=[];ngOnInit(){Bi(this.platformId)&&this.route.queryParams.subscribe(i=>{this.deviceId=i.deviceId,this.selectedAds=i.ads?i.ads.split(","):[],this.deviceId&&(this.loadDeviceAndAds(),this.socketService.joinRoom(this.deviceId))}),this.socketService.getConnectionStatus().pipe(yn(3e4),Mn(i=>(this.error="Request timed out",this.loading=!1,Cn(null)))).subscribe(i=>{i||(this.error="Disconnected from server")}),this.socketService.listen("scheduleError").subscribe(i=>{this.error=i.message||"Error creating schedule",this.loading=!1})}loadDeviceAndAds(){this.loading=!0,this.adminService.getDevicesById(this.deviceId).pipe(yn(3e4),Mn(n=>(this.error="Request timed out",this.loading=!1,Cn(null)))).subscribe(n=>{this.device=n.data,this.loading=!1},n=>{this.error="Error loading device details",this.loading=!1});let i=this.selectedAds.map(n=>this.adminService.getAdsById(n).toPromise());Promise.all(i).then(n=>{this.ads=n.map(s=>s.data).filter(s=>!s.archived)}).catch(()=>{this.error="Error loading advertisement details"})}createSchedule(){let i=this.authService.userId,n={advertisementIds:this.selectedAds,deviceId:this.deviceId,userId:i,startTime:this.startTime,playTime:this.playTime,repeat:this.repeat,playMode:this.playMode};this.socketService.emit("updateSchedule",n),this.adminService.createSchedule(n).subscribe(()=>{this.success="Schedule created successfully"},s=>{this.error=s.error?.message||"Error creating schedule"})}ngOnDestroy(){this.subscriptions.forEach(i=>i.unsubscribe()),this.socketService.leaveRoom(this.deviceId)}static \u0275fac=function(n){return new(n||d)(S(Ne),S(R),S(z),S(nt),S(Li),S(xe))};static \u0275cmp=N({type:d,selectors:[["app-makeschedule"]],standalone:!1,decls:8,vars:3,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","text-center my-3",4,"ngIf"],["class","needs-validation","novalidate","",3,"ngSubmit",4,"ngIf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"text-center","my-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["novalidate","",1,"needs-validation",3,"ngSubmit"],[1,"mb-3"],["class","card",4,"ngIf"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-body"],[1,"card-title"],["for","startTime",1,"form-label"],["type","datetime-local","id","startTime","name","startTime","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","playTime",1,"form-label"],["type","number","id","playTime","name","playTime","min","1","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","repeat",1,"form-label"],["id","repeat","name","repeat","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","once"],["value","daily"],["value","weekly"],["for","playMode",1,"form-label"],["id","playMode","name","playMode","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","loop"],["value","sequence"],["value","random"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary"],[1,"card"],[1,"card-text"],[1,"list-group-item"],[1,"mb-1"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),l(4,"Create Schedule"),r(),M(5,Ys,2,1,"div",3)(6,Hs,4,0,"div",4)(7,Zs,45,7,"form",5),r()()()),n&2&&(m(5),f("ngIf",s.success),m(),f("ngIf",s.loading),m(),f("ngIf",!s.loading))},dependencies:[$,B,J,oe,re,Y,jt,ie,H,K,ae,Yi,X,ne],styles:['.container[_ngcontent-%COMP%]{padding:2rem;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}h2[_ngcontent-%COMP%]{color:#2c3e50;font-weight:700;margin-bottom:2rem;position:relative;padding-bottom:.5rem}h2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:60px;height:4px;background:linear-gradient(to right,#3498db,#2980b9);border-radius:2px}.card[_ngcontent-%COMP%]{background:#fff;border:none;border-radius:15px;box-shadow:0 4px 20px #00000014;transition:all .3s ease;margin-bottom:1.5rem}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #0000001f}.card-body[_ngcontent-%COMP%]{padding:1.5rem}.card-title[_ngcontent-%COMP%]{color:#34495e;font-size:1.25rem;font-weight:600;margin-bottom:1rem}.form-label[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600;margin-bottom:.5rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:10px;padding:.75rem 1rem;transition:all .3s ease;background-color:#f8f9fa}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 .2rem #3498db40;background-color:#fff}.list-group-item[_ngcontent-%COMP%]{border:none;border-radius:10px;margin-bottom:.5rem;background-color:#f8f9fa;padding:1rem;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#e9ecef;transform:translate(5px)}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(45deg,#3498db,#2980b9);border:none;box-shadow:0 4px 15px #3498db4d}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(45deg,#2980b9,#3498db);transform:translateY(-2px);box-shadow:0 6px 20px #3498db66}.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(1px)}.alert[_ngcontent-%COMP%]{border-radius:10px;padding:1rem;margin-bottom:1.5rem;border:none;box-shadow:0 4px 15px #0000001a}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border-left:4px solid #28a745}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;color:#3498db}h4[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600;margin-bottom:1.5rem;position:relative;display:inline-block}h4[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-5px;left:0;width:100%;height:2px;background:linear-gradient(to right,#3498db,transparent)}.device-info[_ngcontent-%COMP%]{background:linear-gradient(45deg,#f8f9fa,#fff);border-left:4px solid #3498db}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem}.card[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{font-size:16px}}input[type=datetime-local][_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;background-color:#f8f9fa;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:10px;color:#2c3e50}.schedule-settings[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#fff,#f8f9fa);border-radius:15px;padding:2rem}.selected-ads[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}.selected-ad-item[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:1rem;box-shadow:0 2px 10px #0000000d;transition:all .3s ease}.selected-ad-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 15px #0000001a}']})};var Ks=(d,i)=>({"text-success":d,"text-danger":i});function Xs(d,i){if(d&1&&(a(0,"span",36),w(1,"i",30),l(2),r()),d&2){let n=h().$implicit,s=h();m(),f("ngClass",s.getPlaylistColor(n,n.deviceId.deviceId)),m(),P(" N\xB0 ",(n.instantData==null?null:n.instantData.index)||""," ")}}function Js(d,i){if(d&1&&(a(0,"span",36),w(1,"i",30),l(2," N/A "),r()),d&2){let n=h().$implicit,s=h();m(),f("ngClass",s.getPlaylistColor(n,n.deviceId.deviceId))}}function el(d,i){if(d&1){let n=I();a(0,"tr")(1,"td"),l(2),r(),a(3,"td"),l(4),r(),a(5,"td"),l(6),r(),a(7,"td",27)(8,"table",28)(9,"thead")(10,"tr")(11,"th"),l(12,"App"),r(),a(13,"th"),l(14,"Playlist"),r(),a(15,"th"),l(16,"Views"),r()()(),a(17,"tbody")(18,"tr")(19,"td")(20,"span",29),w(21,"i",30),l(22," App "),r()(),a(23,"td"),M(24,Xs,3,2,"span",31)(25,Js,3,1,"span",31),r(),a(26,"td",32)(27,"span",33),l(28),r()()()()()(),a(29,"td")(30,"button",34),C("click",function(){let c=_(n).$implicit,p=h();return x(p.viewSchedule(c._id))}),l(31," View "),r(),a(32,"button",35),C("click",function(){let c=_(n).$implicit,p=h();return x(p.deleteSchedule(c._id))}),l(33," Delete "),r()()()}if(d&2){let n=i.$implicit,s=h();m(2),E(n.deviceId.name),m(2),P("",n.advertisementIds.length," ads"),m(2),E((n.instantData==null?null:n.instantData.titleVideo)||"Waiting for data..."),m(15),f("ngClass",s.getAppStateColor(s.appState,n.deviceId.deviceId)),m(3),f("ngIf",n.instantData),m(),f("ngIf",!n.instantData),m(2),f("ngClass",ct(8,Ks,s.deviceLogs[n.deviceId.deviceId]==="All Good!"||s.deviceLogs[n.deviceId.deviceId]==="Playlist updated",s.deviceLogs[n.deviceId.deviceId]!=="All Good!")),m(),P(" ",s.deviceLogs[n.deviceId.deviceId]," ")}}function tl(d,i){d&1&&(a(0,"div",37)(1,"div",38)(2,"span",39),l(3,"Loading..."),r()()())}function nl(d,i){d&1&&(a(0,"div",37)(1,"p"),l(2,"No schedules found."),r()())}function il(d,i){if(d&1&&(a(0,"div",40),l(1),r()),d&2){let n=h();m(),P(" ",n.error," ")}}var so=3e5;var kn=12e4,Ht=class d{constructor(i,n,s,c,p){this.adminService=i;this.router=n;this.socketService=s;this.cdr=c;this.ngZone=p}schedules=[];paginatedSchedules=[];loading=!1;error="";pageIndex=0;pageSize=5;totalPages=0;deviceUpdateSubscription;subscriptions=[];mismatchTimeouts={};sameIndexTimeouts={};lastIndices={};deviceLogs={};inactivityTimers={};deviceStates={};VariableTitleVd="Your Text Here";blockAppState={};blockAds={};intervalId;ngOnInit(){this.loadSchedules(),this.updatePagination(),this.socketService.onConnect().subscribe(()=>{console.log("Socket is connected, setting up subscriptions"),this.subscribeToDeviceUpdates(),this.StateApp()})}ngOnDestroy(){this.subscriptions.forEach(i=>i.unsubscribe()),Object.values(this.mismatchTimeouts).forEach(i=>clearTimeout(i)),Object.values(this.sameIndexTimeouts).forEach(i=>clearTimeout(i))}appState="";StateApp(){if(!this.socketService.isConnected()){console.error("Socket is not connected");return}let i,n,s=()=>{i&&clearTimeout(i),n&&clearInterval(n),i=setTimeout(()=>{console.error("No response received for 5 minutes (AppStateWeb)");let p={lastUpdateTime:new Date().toISOString(),state:"red",deviceId:this.appState};localStorage.setItem("appStateUpdateState",JSON.stringify(p)),this.schedules=this.schedules.map(g=>{if(g.deviceId.deviceId===p.deviceId){let j=this.getAppStateColor(g.appState,g.deviceId.deviceId),W=this.getPlaylistColor(g,g.deviceId.deviceId),U;j==="dot-red"&&g.instantData?.titleVideo?U="App is in background and playlist is working":j==="dot-red"&&W==="dot-red"?U="ERROR: App is down, check the TV":j==="dot-green"&&W==="dot-red"?U="App is working but Playlist is Blocked, restart the playlist":j==="dot-green"&&W==="dot-green"?U="All Good!":U="No app state update for 5 minutes",this.logState(g.deviceId.deviceId,U)}return g}),this.updatePagination(),this.cdr.detectChanges(),clearInterval(n)},so);let c=so/1e3;n=setInterval(()=>{console.log(`Time remaining (AppStateWeb): ${c} seconds`),c--,c<0&&clearInterval(n)},1e3)};s(),this.socketService.listen("AppStateWeb").subscribe(c=>{console.log(`Received AppStateWeb for device ${c.deviceId}:`,c),this.appState=c.state;let p={lastUpdateTime:new Date().toISOString(),state:c.state==="foreground"?"green":"red",deviceId:c.deviceId};localStorage.setItem("appStateUpdateState",JSON.stringify(p)),this.schedules=this.schedules.map(g=>{if(g.deviceId.deviceId===c.deviceId){let j=this.getAppStateColor(g.appState,g.deviceId.deviceId),W=this.getPlaylistColor(g,g.deviceId.deviceId),U;j==="dot-red"&&g.instantData?.titleVideo?U="App is in background and playlist is working":j==="dot-red"&&W==="dot-red"?U="ERROR: App is down, check the TV":j==="dot-green"&&W==="dot-red"?U="App is working but Playlist is Blocked, restart the playlist":j==="dot-green"&&W==="dot-green"?U="All Good!":U="App state updated",this.logState(c.deviceId,U)}return g}),this.updatePagination(),this.cdr.detectChanges(),s()})}subscribeToDeviceUpdates(){if(!this.socketService.isConnected()){console.error("Socket is not connected");return}let i,n,s=()=>{i&&clearTimeout(i),n&&clearInterval(n),i=setTimeout(()=>{console.error("No response received for 2 minutes");let g=localStorage.getItem("PlaylistUpdateState"),j=g?JSON.parse(g):{};j.lastUpdateTime=new Date().toISOString(),j.state="red",localStorage.setItem("PlaylistUpdateState",JSON.stringify(j)),this.schedules=this.schedules.map(W=>{if(W.deviceId.deviceId===j.deviceId){let U=tt(se({},W),{instantData:W.instantData?tt(se({},W.instantData),{index:null}):null}),Se=this.getAppStateColor(W.appState,W.deviceId.deviceId),v=this.getPlaylistColor(U,W.deviceId.deviceId),Te;return Se==="dot-red"&&U.instantData?.index===null?Te="ERROR: App is down, check the TV":Se==="dot-red"&&U.instantData?.titleVideo?Te="App is in background and playlist is working":Se==="dot-red"&&v==="dot-red"?Te="ERROR: App is down, check the TV":Se==="dot-green"&&v==="dot-red"?Te="App is working but Playlist is Blocked, restart the playlist":Se==="dot-green"&&v==="dot-green"?Te="All Good!":Te="No playlist update for 2 minutes",this.logState(W.deviceId.deviceId,Te),U}return W}),this.updatePagination(),this.cdr.detectChanges(),clearInterval(n)},kn);let p=kn/1e3;n=setInterval(()=>{console.log(`Time remaining: ${p} seconds`),p--,p<0&&clearInterval(n)},1e3)};(()=>{let p=localStorage.getItem("PlaylistUpdateState");if(p){let g=JSON.parse(p),j=new Date(g.lastUpdateTime).getTime();new Date().getTime()-j>kn?g.state="red":g.state="orange",localStorage.setItem("PlaylistUpdateState",JSON.stringify(g))}})(),s(),this.socketService.listen("currentAdWeb").subscribe(p=>{console.log(`Received PLAAAYLISTT for device ${p.deviceId}:`,p),this.schedules=this.schedules.map(j=>{if(j.deviceId.deviceId===p.deviceId){let W=tt(se({},j),{instantData:{titleVideo:p.title||"No title available for this device",index:p.index+1,error:!1}}),U=this.getAppStateColor(j.appState,j.deviceId.deviceId),Se=this.getPlaylistColor(W,j.deviceId.deviceId),v;return U==="dot-red"&&W.instantData?.index===null?v="ERROR: App is down, check the TV":U==="dot-red"&&W.instantData?.titleVideo?v="App is in background and playlist is working":U==="dot-red"&&Se==="dot-red"?v="ERROR: App is down, check the TV":U==="dot-green"&&Se==="dot-red"?v="App is working but Playlist is Blocked, restart the playlist":U==="dot-green"&&Se==="dot-green"?v="All Good!":v="Playlist updated",this.logState(p.deviceId,v),W}return j}),this.updatePagination(),this.cdr.detectChanges();let g={lastUpdateTime:new Date().toISOString(),state:"green",deviceId:p.deviceId};localStorage.setItem("PlaylistUpdateState",JSON.stringify(g)),s()})}loadSchedules(){this.loading=!0,this.adminService.getAllSchedule().subscribe({next:i=>{console.log(i),this.schedules=i.data.filter(s=>s.deviceId&&!s.deviceId.isDeleted).map(s=>tt(se({},s),{advertisementIds:s.advertisementIds.filter(c=>!c.isDeleted),videoLoaded:!1}));let n=this.schedules.map(s=>s.deviceId?.deviceId).filter(s=>!!s);this.socketService.emit("checkStates",{devices:n}),this.loading=!1,this.updatePagination()},error:i=>{this.error=i.error?.message||"Error loading schedules",this.loading=!1}})}SecondLoad(){this.loading=!0,this.adminService.getAllSchedule().subscribe({next:i=>{console.log(i),this.schedules=i.data.filter(s=>s.deviceId&&!s.deviceId.isDeleted).map(s=>tt(se({},s),{advertisementIds:s.advertisementIds.filter(c=>!c.isDeleted),endTime:this.calculateEndTime(s.startTime,s.playTime)}));let n=this.schedules.map(s=>s.deviceId?.deviceId).filter(s=>!!s);this.socketService.emit("checkStates",{devices:n}),this.loading=!1,this.updatePagination()},error:i=>{this.error=i.error?.message||"Error loading schedules",this.loading=!1}})}calculateEndTime(i,n){return new Date(new Date(i).getTime()+n*1e3)}createSchedule(){this.router.navigate(["/admin/schedule/create"])}editSchedule(i){this.router.navigate(["/admin/schedule/edit",i._id])}viewSchedule(i){this.router.navigate(["/admin/schedule/view/"],{queryParams:{scheduleId:i}})}deleteSchedule(i){this.adminService.deleteScheduleById(i).subscribe({next:()=>{this.loadSchedules()},error:n=>{console.error("Error deleting schedule:",n)}})}selectedDeviceId;openModalGods(i){this.selectedDeviceId=i;let n=this.schedules.find(s=>s.deviceId.deviceId===i);this.VariableTitleVd=n?.instantData?.titleVideo||"No title available for this device",this.cdr.detectChanges()}logState(i,n){console.log(`Device ${i}: ${n}`),this.deviceLogs[i]=n,this.cdr.detectChanges()}updatePagination(){this.totalPages=Math.ceil(this.schedules.length/this.pageSize);let i=this.pageIndex*this.pageSize,n=i+this.pageSize;this.paginatedSchedules=this.schedules.slice(i,n)}nextPage(){this.pageIndex<this.totalPages-1&&(this.pageIndex++,this.updatePagination())}previousPage(){this.pageIndex>0&&(this.pageIndex--,this.updatePagination())}getAppStateColor(i,n){let s=localStorage.getItem("appStateUpdateState");if(s){let c=JSON.parse(s),p=c.deviceId,g=c.state;if(n===p)return g==="green"?"dot-green":"dot-red"}return"dot-red"}getPlaylistColor(i,n){if(this.getAppStateColor(i.appState,i.deviceId.deviceId)==="dot-red")return"dot-red";let c=localStorage.getItem("PlaylistUpdateState");if(c){let p=JSON.parse(c),g=p.deviceId,j=p.state;if(i.deviceId.deviceId===g)switch(j){case"green":return"dot-green";case"red":return"dot-red";case"orange":return"dot-orange";default:return"dot-orange"}}return i.instantData?.titleVideo&&!i.instantData?.error?"dot-green":i.instantData?.titleVideo?"dot-red":"dot-orange"}onVideoLoaded(i){i.videoLoaded=!0}static \u0275fac=function(n){return new(n||d)(S(z),S(R),S(nt),S(Ni),S(Vi))};static \u0275cmp=N({type:d,selectors:[["app-schedule"]],standalone:!1,decls:53,vars:9,consts:[[1,"container","mt-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["routerLink","/admin/Devices",1,"btn","btn-primary"],["href","https://cloud.perfumatic.es/login",1,"btn","btn-warning"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","table-hover"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"pagination-controls"],[3,"click","disabled"],["class","text-center mt-4",4,"ngIf"],["class","alert alert-danger mt-4","role","alert",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-6","mb-3"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[2,"overflow-x","auto !important"],[1,"table","table-bordered",2,"overflow-x","auto !important"],["title","App",1,"mx-2"],[1,"fas","fa-circle",3,"ngClass"],["class","mx-2","title","Playlist",4,"ngIf"],[2,"width","150px","word-wrap","break-word"],[1,"mx-2",3,"ngClass"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"btn","btn-sm","btn-danger","ml-2",3,"click"],["title","Playlist",1,"mx-2"],[1,"text-center","mt-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-4"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Schedule List"),r(),a(4,"button",2),l(5," Create New Schedule from Device "),r(),a(6,"a",3),l(7," Perfumatic "),r()(),a(8,"div",4)(9,"table",5)(10,"thead",6)(11,"tr")(12,"th"),l(13,"Device Name"),r(),a(14,"th"),l(15,"Advertisements"),r(),a(16,"th"),l(17,"Current Ads"),r(),a(18,"th"),l(19,"God's Eye"),r(),a(20,"th"),l(21,"Actions"),r()()(),a(22,"tbody"),M(23,el,34,11,"tr",7),r()(),a(24,"div",8)(25,"button",9),C("click",function(){return s.previousPage()}),l(26,"Previous"),r(),a(27,"span"),l(28),r(),a(29,"button",9),C("click",function(){return s.nextPage()}),l(30,"Next"),r()()(),M(31,tl,4,0,"div",10)(32,nl,3,0,"div",10)(33,il,2,1,"div",11),a(34,"div",12)(35,"div",13)(36,"div",14)(37,"div",15)(38,"h5",16),l(39,"God's Eye View"),r(),w(40,"button",17),r(),a(41,"div",18)(42,"div",19)(43,"div",20)(44,"div",21)(45,"div",22)(46,"h5",23),l(47,"Device Log"),r(),a(48,"p",24),l(49),r()()()()()(),a(50,"div",25)(51,"button",26),l(52," Close "),r()()()()()()),n&2&&(m(23),f("ngForOf",s.paginatedSchedules),m(2),f("disabled",s.pageIndex===0),m(3),_e("Page ",s.pageIndex+1," of ",s.totalPages,""),m(),f("disabled",s.pageIndex>=s.totalPages-1),m(2),f("ngIf",s.loading),m(),f("ngIf",!s.loading&&s.schedules.length===0),m(),f("ngIf",s.error),m(16),E(s.deviceLogs[s.selectedDeviceId]||"No log available"))},dependencies:[Ue,$,B,Ut],styles:[".table[_ngcontent-%COMP%]{width:100%;margin-bottom:5rem;border-collapse:collapse}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;padding:12px;background-color:#fff;color:#150101;font-size:16px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:center;font-size:14px;word-break:break-word}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:60px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.btn[_ngcontent-%COMP%]{font-size:14px;padding:5px 10px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn[_ngcontent-%COMP%]:hover{opacity:.9}.dot-green[_ngcontent-%COMP%]{color:#0f0}.dot-red[_ngcontent-%COMP%]{color:red}.dot-blinking[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blinking 1s infinite}.dot-orange[_ngcontent-%COMP%]{color:#ff9800!important}@keyframes _ngcontent-%COMP%_blinking{0%{color:#0f0}50%{color:red}to{color:#0f0}}.video-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;min-height:150px}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;background-color:#fffc;z-index:1}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}video[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto}.d-none[_ngcontent-%COMP%]{display:none!important}"]})};function ol(d,i){if(d&1){let n=I();a(0,"button",10),C("click",function(){_(n);let c=h();return x(c.toggleEdit())}),l(1,"Edit Schedule"),r()}}function rl(d,i){d&1&&(a(0,"div",11)(1,"div",12)(2,"span",13),l(3,"Loading..."),r()()())}function al(d,i){if(d&1&&(a(0,"div",14),l(1),r()),d&2){let n=h();m(),P(" ",n.error," ")}}function sl(d,i){if(d&1&&(a(0,"div",15),l(1),r()),d&2){let n=h();m(),P(" ",n.success," ")}}function ll(d,i){if(d&1&&(a(0,"option",40),l(1),r()),d&2){let n=i.$implicit;f("value",n._id),m(),P(" ",n.name," ")}}function dl(d,i){d&1&&(a(0,"div",41),l(1," Device is required "),r())}function cl(d,i){if(d&1){let n=I();a(0,"div",42)(1,"input",43),C("change",function(){let c=_(n).$implicit,p=h(3);return x(p.toggleAdvertisement(c._id))}),r(),a(2,"label",44),l(3),r()()}if(d&2){let n=i.$implicit,s=h(3);m(),f("id","ad_"+n._id)("checked",s.isAdvertisementSelected(n._id)),m(),f("for","ad_"+n._id),m(),P(" ",n.name," ")}}function ml(d,i){d&1&&(a(0,"div",41),l(1," Start time is required "),r())}function ul(d,i){d&1&&(a(0,"span"),l(1,"Play time is required"),r())}function pl(d,i){d&1&&(a(0,"span"),l(1,"Play time must be greater than 0"),r())}function gl(d,i){if(d&1&&(a(0,"div",41),M(1,ul,2,0,"span",19)(2,pl,2,0,"span",19),r()),d&2){let n,s,c=h(3);m(),f("ngIf",(n=c.updateForm.get("playTime"))==null||n.errors==null?null:n.errors.required),m(),f("ngIf",(s=c.updateForm.get("playTime"))==null||s.errors==null?null:s.errors.min)}}function fl(d,i){d&1&&(a(0,"div",41),l(1," Play mode is required "),r())}function hl(d,i){if(d&1){let n=I();a(0,"form",20),C("ngSubmit",function(){_(n);let c=h(2);return x(c.updateSchedule())}),a(1,"div",1)(2,"div",21)(3,"label",22),l(4,"Device"),r(),a(5,"select",23)(6,"option",24),l(7,"Select Device"),r(),M(8,ll,2,2,"option",25),r(),M(9,dl,2,0,"div",26),r(),a(10,"div",21)(11,"label",22),l(12,"Advertisements"),r(),a(13,"div",16)(14,"div",27),M(15,cl,4,4,"div",28),r()()(),a(16,"div",21)(17,"label",22),l(18,"Start Time"),r(),w(19,"input",29),M(20,ml,2,0,"div",26),r(),a(21,"div",21)(22,"label",22),l(23,"Play Time (seconds)"),r(),w(24,"input",30),M(25,gl,3,2,"div",26),r(),a(26,"div",21)(27,"label",22),l(28,"Play Mode"),r(),a(29,"select",31)(30,"option",32),l(31,"Sequence"),r(),a(32,"option",33),l(33,"Random"),r()(),M(34,fl,2,0,"div",26),r(),a(35,"div",21)(36,"div",34),w(37,"input",35),a(38,"label",36),l(39,"Repeat"),r()()()(),a(40,"div",37)(41,"button",38),C("click",function(){_(n);let c=h(2);return x(c.toggleEdit())}),l(42,"Cancel"),r(),a(43,"button",39),l(44),r()()()}if(d&2){let n,s,c,p,g=h(2);f("formGroup",g.updateForm),m(8),f("ngForOf",g.devices),m(),f("ngIf",((n=g.updateForm.get("deviceId"))==null?null:n.touched)&&((n=g.updateForm.get("deviceId"))==null?null:n.invalid)),m(6),f("ngForOf",g.advertisements),m(5),f("ngIf",((s=g.updateForm.get("startTime"))==null?null:s.touched)&&((s=g.updateForm.get("startTime"))==null?null:s.invalid)),m(5),f("ngIf",((c=g.updateForm.get("playTime"))==null?null:c.touched)&&((c=g.updateForm.get("playTime"))==null?null:c.invalid)),m(9),f("ngIf",((p=g.updateForm.get("playMode"))==null?null:p.touched)&&((p=g.updateForm.get("playMode"))==null?null:p.invalid)),m(10),P(" ",g.loading?"Updating...":"Update Schedule"," ")}}function bl(d,i){if(d&1&&(a(0,"video",51),w(1,"source",52),l(2," Your browser does not support the video tag. "),r()),d&2){let n=h().$implicit;m(),f("src",n.videoUrl,Le)}}function vl(d,i){if(d&1&&(a(0,"tr")(1,"td"),l(2),r(),a(3,"td"),l(4),r(),a(5,"td"),l(6),r(),a(7,"td"),M(8,bl,3,1,"video",50),r()()),d&2){let n=i.$implicit;m(2),E(n.name),m(2),E(n.description),m(2),E(n.orientation),m(2),f("ngIf",n.videoUrl)}}function wl(d,i){if(d&1&&(a(0,"div")(1,"div",45)(2,"div",46)(3,"h4"),l(4,"Device Information"),r(),a(5,"p")(6,"strong"),l(7,"Device Name:"),r(),l(8),r(),a(9,"p")(10,"strong"),l(11,"Description:"),r(),l(12),r()(),a(13,"div",46)(14,"h4"),l(15,"Schedule Information"),r(),a(16,"p")(17,"strong"),l(18,"Start Time:"),r(),l(19),Z(20,"date"),r(),a(21,"p")(22,"strong"),l(23,"End Time:"),r(),l(24),Z(25,"date"),r(),a(26,"p")(27,"strong"),l(28,"Play Mode:"),r(),l(29),r(),a(30,"p")(31,"strong"),l(32,"Repeat:"),r(),l(33),r()()(),a(34,"div",1)(35,"div",2)(36,"h4"),l(37,"Advertisements"),r(),a(38,"div",47)(39,"table",48)(40,"thead")(41,"tr")(42,"th"),l(43,"Name"),r(),a(44,"th"),l(45,"Description"),r(),a(46,"th"),l(47,"Orientation"),r(),a(48,"th"),l(49,"Video"),r()()(),a(50,"tbody"),M(51,vl,9,4,"tr",49),r()()()()()()),d&2){let n=h(2);m(8),P(" ",n.schedule.deviceId==null?null:n.schedule.deviceId.name,""),m(4),P(" ",n.schedule.deviceId==null?null:n.schedule.deviceId.description,""),m(7),P(" ",Sn(20,7,n.schedule.startTime,"medium"),""),m(5),P(" ",Sn(25,10,n.schedule.endTime,"medium"),""),m(5),P(" ",n.schedule.playMode,""),m(4),P(" ",n.schedule.repeat?"Yes":"No",""),m(18),f("ngForOf",n.schedule.advertisementIds)}}function _l(d,i){if(d&1&&(a(0,"div",16)(1,"div",17),M(2,hl,45,8,"form",18)(3,wl,52,13,"div",19),r()()),d&2){let n=h();m(2),f("ngIf",n.isEditing),m(),f("ngIf",!n.isEditing)}}var Qt=class d{constructor(i,n,s,c,p){this.route=i;this.adminService=n;this.router=s;this.fb=c;this.authService=p;this.updateForm=this.fb.group({deviceId:["",$e.required],advertisementIds:[[],$e.required],startTime:["",$e.required],playTime:["",[$e.required,$e.min(1)]],playMode:["sequence",$e.required],repeat:[!1]})}schedule=null;loading=!1;error="";success="";schedulednewId="";devices=[];advertisements=[];updateForm;isEditing=!1;deviceId="";subscriptions=[];ngOnInit(){this.jibId(),this.loadScheduleDetails(),this.loadDevices(),this.loadAdvertisements()}jibId(){this.subscriptions.push(this.route.queryParams.subscribe(i=>{this.schedulednewId=i.scheduleId,console.log("scheduleId",this.schedulednewId)}))}ngOnDestroy(){this.subscriptions.forEach(i=>i.unsubscribe())}loadScheduleDetails(){let i=this.schedulednewId;if(!i){this.error="Schedule ID not found";return}this.loading=!0,this.subscriptions.push(this.adminService.getScheduleById(i).subscribe({next:n=>{console.log(n),this.schedule=n.data,Array.isArray(this.schedule.advertisementIds)?this.schedule.advertisementIds=this.schedule.advertisementIds.filter(s=>!s.isDeleted):this.schedule.advertisementIds=[],this.populateForm(),this.loading=!1},error:n=>{this.error=n.error?.message||"Error loading schedule details",this.loading=!1}}))}loadDevices(){this.subscriptions.push(this.adminService.getDevices().subscribe({next:i=>{this.devices=i.data.filter(n=>n.isDeleted===!1),this.deviceId=i.data._id},error:i=>{console.error("Error loading devices:",i)}}))}loadAdvertisements(){let i=this.authService.userId;this.adminService.getAdvertisementsByUserId(i).subscribe({next:n=>{console.log("ADS",n),this.advertisements=n.data.filter(s=>s.isDeleted==!1)},error:n=>{console.error("Error loading advertisements:",n)}})}populateForm(){if(this.schedule){console.log("deviceID",this.schedule.deviceId);let i;try{let n=new Date(this.schedule.startTime);isNaN(n.getTime())?(i=new Date().toISOString().slice(0,16),console.warn("Invalid start time received, using current time as fallback")):i=n.toISOString().slice(0,16)}catch{i=new Date().toISOString().slice(0,16),console.warn("Error parsing start time, using current time as fallback")}this.updateForm.patchValue({deviceId:this.schedule.deviceId,advertisementIds:this.schedule.advertisementIds?.map(n=>n._id)||[],startTime:i,playTime:this.schedule.playTime,playMode:this.schedule.playMode||"sequence",repeat:this.schedule.repeat||!1})}}isAdvertisementSelected(i){return(this.updateForm.get("advertisementIds")?.value||[]).includes(i)}toggleAdvertisement(i){let n=this.updateForm.get("advertisementIds")?.value||[],s;n.includes(i)?s=n.filter(c=>c!==i):s=[...n,i],this.updateForm.patchValue({advertisementIds:s}),this.updateForm.get("advertisementIds")?.markAsTouched()}toggleEdit(){this.isEditing=!this.isEditing,this.isEditing||this.populateForm()}updateSchedule(){let i=this.schedulednewId,n=this.authService.userId;this.loading=!0;let s=this.updateForm.value;console.log(s);let c={deviceId:s.deviceId._id,advertisementIds:s.advertisementIds,userId:n,startTime:new Date(s.startTime).toISOString(),playTime:parseInt(s.playTime),playMode:s.playMode,repeat:s.repeat};this.subscriptions.push(this.adminService.updateSchedule(i,c).subscribe({next:p=>{this.success="Schedule updated successfully",this.schedule=p.data,this.loading=!1,this.isEditing=!1,this.loadScheduleDetails()},error:p=>{this.error=p.error?.message||"Error updating schedule",this.loading=!1}}))}goBack(){this.router.navigate(["/admin/Schedules"])}static \u0275fac=function(n){return new(n||d)(S(Ne),S(z),S(R),S(Hi),S(xe))};static \u0275cmp=N({type:d,selectors:[["app-view-schedule"]],standalone:!1,decls:14,vars:5,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["class","btn btn-primary me-2",3,"click",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],["class","text-center",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],["class","card",4,"ngIf"],[1,"btn","btn-primary","me-2",3,"click"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-success"],[1,"card"],[1,"card-body"],["class","mb-4",3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"mb-4",3,"ngSubmit","formGroup"],[1,"col-md-6","mb-3"],[1,"form-label"],["formControlName","deviceId",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"card-body",2,"max-height","200px","overflow-y","auto"],["class","form-check",4,"ngFor","ngForOf"],["type","datetime-local","formControlName","startTime",1,"form-control"],["type","number","formControlName","playTime",1,"form-control"],["formControlName","playMode",1,"form-select"],["value","sequence"],["value","random"],[1,"form-check","mt-4"],["type","checkbox","formControlName","repeat","id","repeat",1,"form-check-input"],["for","repeat",1,"form-check-label"],[1,"d-flex","justify-content-end","gap-2"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[3,"value"],[1,"text-danger"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","id","checked"],[1,"form-check-label",3,"for"],[1,"row","mb-4"],[1,"col-md-6"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["width","200","controls","",4,"ngIf"],["width","200","controls",""],["type","video/mp4",3,"src"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),l(5,"Schedule Details"),r(),a(6,"div"),M(7,ol,2,0,"button",4),a(8,"button",5),C("click",function(){return s.goBack()}),l(9,"Back to List"),r()()(),M(10,rl,4,0,"div",6)(11,al,2,1,"div",7)(12,sl,2,1,"div",8)(13,_l,4,2,"div",9),r()()()),n&2&&(m(7),f("ngIf",!s.isEditing),m(3),f("ngIf",s.loading),m(),f("ngIf",s.error),m(),f("ngIf",s.success),m(),f("ngIf",!s.loading&&s.schedule))},dependencies:[$,B,J,oe,re,Y,jt,Nt,ie,H,K,qi,$i,ji],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000001a}.card-body[_ngcontent-%COMP%]{padding:2rem}h4[_ngcontent-%COMP%]{color:#333;margin-bottom:1.5rem}.table[_ngcontent-%COMP%]{margin-top:1rem}video[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 2px 4px #0000001a}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.form-check[_ngcontent-%COMP%]{margin-bottom:.5rem;padding:.5rem;border-radius:4px;transition:background-color .2s}.form-check[_ngcontent-%COMP%]:hover{background-color:#0000000d}.form-check-input[_ngcontent-%COMP%]{cursor:pointer}.form-check-label[_ngcontent-%COMP%]{cursor:pointer;margin-left:.5rem;-webkit-user-select:none;user-select:none}.scrollable-checkboxes[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding-right:.5rem}.scrollable-checkboxes[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.scrollable-checkboxes[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.scrollable-checkboxes[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:3px}.scrollable-checkboxes[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}"]})};function xl(d,i){if(d&1&&(a(0,"div",54),l(1),r()),d&2){let n=h();m(),P(" ",n.errorMessage," ")}}function Cl(d,i){if(d&1&&(a(0,"div",55),l(1),r()),d&2){let n=h();m(),P(" ",n.successMessage," ")}}function yl(d,i){if(d&1){let n=I();a(0,"button",64),C("click",function(){_(n);let c=h().$implicit,p=h().$implicit,g=h();return x(g.changeRole(p._id,c))}),w(1,"i",43),l(2),Z(3,"titlecase"),r()}if(d&2){let n=h().$implicit;m(2),P(" Change Role to ",te(3,1,n)," ")}}function Ml(d,i){if(d&1&&(Dt(0),M(1,yl,4,3,"button",68),Vt()),d&2){let n=i.$implicit,s=h().$implicit;m(),f("ngIf",n!==s.role)}}function Pl(d,i){if(d&1){let n=I();a(0,"tr")(1,"td"),l(2),r(),a(3,"td"),l(4),r(),a(5,"td"),l(6),r(),a(7,"td")(8,"span"),l(9),Z(10,"titlecase"),r()(),a(11,"td")(12,"span",56),l(13),r()(),a(14,"td")(15,"div",57)(16,"div",58)(17,"button",59),w(18,"i",60),l(19," Actions "),r(),a(20,"div",61)(21,"button",62),C("click",function(){let c=_(n).$implicit,p=h();return x(p.toggleUserStatus(c._id))}),w(22,"i",63),l(23),r(),a(24,"button",64),C("click",function(){let c=_(n).$implicit,p=h();return x(p.resetUserPassword(c._id,c.email))}),w(25,"i",65),l(26," Reset Password "),r(),a(27,"button",64),C("click",function(){let c=_(n).$implicit,p=h();return x(p.openEditModal(c))}),w(28,"i",66),l(29," Edit User "),r(),w(30,"div",67),M(31,Ml,2,1,"ng-container",14),r()()()()()}if(d&2){let n=i.$implicit,s=h();m(2),E(n.username),m(2),E(n.email),m(2),E(n.phoneNumber),m(2),Pn(s.getRoleBadgeClass(n.role)),m(),P(" ",te(10,19,n.role)," "),m(3),be("bg-success",n.isActive)("bg-danger",!n.isActive),m(),P(" ",n.isActive?"Active":"Inactive"," "),m(8),Pn("dropdown-item "+(n.isActive?"deactivate":"activate")),m(),be("fa-lock",!n.isActive)("fa-unlock",n.isActive),m(),P(" ",n.isActive?"Deactivate User":"Activate User"," "),m(8),f("ngForOf",s.availableRoles)}}function Sl(d,i){if(d&1&&(a(0,"option",69),l(1),Z(2,"titlecase"),r()),d&2){let n=i.$implicit;f("value",n),m(),P(" ",te(2,2,n)," ")}}function Ol(d,i){if(d&1&&(a(0,"div",70),l(1),r()),d&2){let n=h();m(),P(" ",n.errorMessage," ")}}function kl(d,i){d&1&&w(0,"div",71)}var Gt=class d{constructor(i,n){this.adminService=i;this.router=n}users=[];filteredUsers=[];searchTerm="";currentPage=1;itemsPerPage=5;totalPages=0;errorMessage="";successMessage="";availableRoles=["client","admin"];isEditModalOpen=!1;isSubmitting=!1;editUserObject={username:"",email:"",phoneNumber:"",role:"",isActive:!0};ngOnInit(){this.loadUsers()}loadUsers(){this.adminService.getUsers().subscribe(i=>{this.users=i.data||[],this.filteredUsers=[...this.users],this.calculatePagination()},i=>{this.errorMessage=i.error?.message||"Failed to load users. Please try again."})}toggleUserStatus(i){confirm("Are you sure you want to change this user's status?")&&this.adminService.toggleUserStatus(i).subscribe(()=>{this.loadUsers()},n=>{this.errorMessage=n.error?.message||"Failed to update user status."})}onSearch(){if(!this.searchTerm.trim())this.filteredUsers=[...this.users];else{let i=this.searchTerm.toLowerCase().trim();this.filteredUsers=this.users.filter(n=>n.username?.toLowerCase().includes(i)||n.email?.toLowerCase().includes(i)||n.phoneNumber?.toString().includes(i)||n.role?.toLowerCase().includes(i))}this.currentPage=1,this.calculatePagination()}calculatePagination(){this.totalPages=Math.ceil(this.filteredUsers.length/this.itemsPerPage)}getCurrentPageUsers(){let i=(this.currentPage-1)*this.itemsPerPage;return this.filteredUsers.slice(i,i+this.itemsPerPage)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}previousPage(){this.currentPage>1&&this.currentPage--}navigateToAddUser(){this.router.navigate(["/admin/addUser"])}deleteUser(i){confirm("Are you sure you want to delete this user?")&&this.adminService.deleteUser(i).subscribe(()=>{this.loadUsers()},n=>{this.errorMessage=n.error?.message||"Failed to delete user."})}getRoleBadgeClass(i){return i.toLowerCase()==="admin"?"badge bg-primary":"badge bg-secondary"}resetUserPassword(i,n){confirm(`Are you sure you want to reset the password for user with email ${n}?`)&&this.adminService.resetUserAccount({userId:i,email:n}).subscribe(()=>{this.successMessage="Password reset successful. User will receive new credentials via email.",setTimeout(()=>this.successMessage="",3e3)},s=>{this.errorMessage=s.error?.message||"Failed to reset password."})}changeRole(i,n){confirm(`Are you sure you want to change this user's role to ${n}?`)&&this.adminService.changeUserRole(i,n).subscribe(()=>{this.loadUsers(),this.successMessage=`User role successfully changed to ${n}`,setTimeout(()=>this.successMessage="",3e3)},s=>{this.errorMessage=s.error?.message||"Failed to change user role."})}openEditModal(i){this.editUserObject=se({},i),this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1,this.editUserObject={username:"",email:"",phoneNumber:"",role:"",isActive:!0},this.errorMessage=""}updateUser(){if(!this.editUserObject._id){this.errorMessage="Invalid user data";return}this.isSubmitting=!0,this.errorMessage="",this.adminService.updateUser(this.editUserObject._id,this.editUserObject).subscribe({next:i=>{this.isSubmitting=!1,this.closeEditModal(),this.loadUsers(),this.successMessage="User updated successfully",setTimeout(()=>{this.successMessage=""},3e3)},error:i=>{this.isSubmitting=!1,this.errorMessage=i.error?.message||"Failed to update user"}})}static \u0275fac=function(n){return new(n||d)(S(z),S(R))};static \u0275cmp=N({type:d,selectors:[["app-list-users"]],standalone:!1,decls:90,vars:22,consts:[["editForm","ngForm"],[1,"container"],[1,"list-title"],[1,"row","g-3","align-items-center"],[1,"col-md-6"],[1,"input-group"],["type","text","placeholder","Search users...",1,"form-control","search-input",3,"ngModelChange","input","ngModel"],[1,"col-md-6","text-md-end"],[1,"add-user-btn",3,"click"],[1,"fas","fa-user-plus","me-2"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"pagination-controls"],[1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fas","fa-chevron-left","me-1"],[1,"page-info"],[1,"fas","fa-chevron-right","ms-1"],[1,"modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"fas","fa-user-edit"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-group"],["for","username"],[1,"input-wrapper"],["type","text","id","username","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-user"],["for","editEmail"],["type","email","id","editEmail","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-envelope"],["for","editPhone"],["type","tel","id","editPhone","name","phoneNumber","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-phone"],["for","editRole"],["id","editRole","name","role","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"fas","fa-user-shield"],[1,"form-check"],["type","checkbox","id","editStatus","name","isActive",1,"form-check-input",3,"ngModelChange","ngModel"],["for","editStatus",1,"form-check-label"],["class","alert alert-danger",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"],["class","modal-backdrop fade show",4,"ngIf"],["role","alert",1,"alert","alert-danger"],[1,"success-message"],[1,"badge"],[1,"action-dropdown"],["ngbDropdown","",1,"d-inline-block"],["id","actionDropdown","ngbDropdownToggle","",1,"action-btn"],[1,"fas","fa-ellipsis-v"],["ngbDropdownMenu","","aria-labelledby","actionDropdown",1,"dropdown-menu"],["ngbDropdownItem","",3,"click"],[1,"fas"],["ngbDropdownItem","",1,"dropdown-item",3,"click"],[1,"fas","fa-key"],[1,"fas","fa-edit"],[1,"dropdown-divider"],["ngbDropdownItem","","class","dropdown-item",3,"click",4,"ngIf"],[3,"value"],[1,"alert","alert-danger"],[1,"modal-backdrop","fade","show"]],template:function(n,s){if(n&1){let c=I();a(0,"div",1)(1,"h2",2),l(2,"Users Management"),r(),a(3,"div",3)(4,"div",4)(5,"div",5)(6,"input",6),A("ngModelChange",function(g){return _(c),k(s.searchTerm,g)||(s.searchTerm=g),x(g)}),C("input",function(){return _(c),x(s.onSearch())}),r()()(),a(7,"div",7)(8,"button",8),C("click",function(){return _(c),x(s.navigateToAddUser())}),w(9,"i",9),l(10,"Add User "),r()()(),M(11,xl,2,1,"div",10)(12,Cl,2,1,"div",11),a(13,"div",12)(14,"table",13)(15,"thead")(16,"tr")(17,"th"),l(18,"Name"),r(),a(19,"th"),l(20,"Email"),r(),a(21,"th"),l(22,"Phone Number"),r(),a(23,"th"),l(24,"Role"),r(),a(25,"th"),l(26,"Status"),r(),a(27,"th"),l(28,"Actions"),r()()(),a(29,"tbody"),M(30,Pl,32,21,"tr",14),r()()(),a(31,"div",15)(32,"button",16),C("click",function(){return _(c),x(s.previousPage())}),w(33,"i",17),l(34," Previous "),r(),a(35,"span",18),l(36),r(),a(37,"button",16),C("click",function(){return _(c),x(s.nextPage())}),l(38," Next "),w(39,"i",19),r()()(),a(40,"div",20)(41,"div",21)(42,"div",22)(43,"div",23)(44,"h5",24),w(45,"i",25),l(46," Edit User "),r(),a(47,"button",26),C("click",function(){return _(c),x(s.closeEditModal())}),r()(),a(48,"div",27)(49,"form",28,0),C("ngSubmit",function(){return _(c),x(s.updateUser())}),a(51,"div",29)(52,"label",30),l(53,"Username"),r(),a(54,"div",31)(55,"input",32),A("ngModelChange",function(g){return _(c),k(s.editUserObject.username,g)||(s.editUserObject.username=g),x(g)}),r(),w(56,"i",33),r()(),a(57,"div",29)(58,"label",34),l(59,"Email"),r(),a(60,"div",31)(61,"input",35),A("ngModelChange",function(g){return _(c),k(s.editUserObject.email,g)||(s.editUserObject.email=g),x(g)}),r(),w(62,"i",36),r()(),a(63,"div",29)(64,"label",37),l(65,"Phone Number"),r(),a(66,"div",31)(67,"input",38),A("ngModelChange",function(g){return _(c),k(s.editUserObject.phoneNumber,g)||(s.editUserObject.phoneNumber=g),x(g)}),r(),w(68,"i",39),r()(),a(69,"div",29)(70,"label",40),l(71,"Role"),r(),a(72,"div",31)(73,"select",41),A("ngModelChange",function(g){return _(c),k(s.editUserObject.role,g)||(s.editUserObject.role=g),x(g)}),M(74,Sl,3,4,"option",42),r(),w(75,"i",43),r()(),a(76,"div",29)(77,"div",44)(78,"input",45),A("ngModelChange",function(g){return _(c),k(s.editUserObject.isActive,g)||(s.editUserObject.isActive=g),x(g)}),r(),a(79,"label",46),l(80," Active Account "),r()()(),M(81,Ol,2,1,"div",47),a(82,"div",48)(83,"button",49),C("click",function(){return _(c),x(s.closeEditModal())}),w(84,"i",50),l(85," Cancel "),r(),a(86,"button",51),w(87,"i",52),l(88),r()()()()()()(),M(89,kl,1,0,"div",53)}if(n&2){let c=Me(50);m(6),O("ngModel",s.searchTerm),m(5),f("ngIf",s.errorMessage),m(),f("ngIf",s.successMessage),m(18),f("ngForOf",s.getCurrentPageUsers()),m(2),f("disabled",s.currentPage===1),m(4),_e("Page ",s.currentPage," of ",s.totalPages,""),m(),f("disabled",s.currentPage===s.totalPages),m(3),qe("display",s.isEditModalOpen?"block":"none"),be("show",s.isEditModalOpen),m(15),O("ngModel",s.editUserObject.username),m(6),O("ngModel",s.editUserObject.email),m(6),O("ngModel",s.editUserObject.phoneNumber),m(6),O("ngModel",s.editUserObject.role),m(),f("ngForOf",s.availableRoles),m(4),O("ngModel",s.editUserObject.isActive),m(3),f("ngIf",s.errorMessage),m(5),f("disabled",!c.form.valid||s.isSubmitting),m(2),P(" ",s.isSubmitting?"Saving...":"Save Changes"," "),m(),f("ngIf",s.isEditModalOpen)}},dependencies:[$,B,J,oe,re,Y,Nt,ie,H,K,ae,X,ne,no,to,eo,Xi,Ji,pe],styles:[".container[_ngcontent-%COMP%]{padding:2rem 1rem}.list-title[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.8rem;font-weight:600;margin-bottom:2rem;position:relative}.search-input[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:6px;padding:.5rem 1rem;transition:all .3s ease}.search-input[_ngcontent-%COMP%]:focus{border-color:#4a90e2;box-shadow:0 0 0 2px #4a90e21a}.add-user-btn[_ngcontent-%COMP%]{background-color:#4a90e2;border:none;border-radius:6px;color:#fff;padding:.5rem 1rem;transition:all .2s ease}.add-user-btn[_ngcontent-%COMP%]:hover{background-color:#357abd;transform:translateY(-1px)}.table-responsive[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000000d;margin-top:1.5rem}.table[_ngcontent-%COMP%]{margin-bottom:0}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8fafc;border-bottom:2px solid #e2e8f0;color:#64748b;font-weight:600;padding:1rem;text-transform:uppercase;font-size:.875rem}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #f1f5f9;color:#334155;padding:1rem;vertical-align:middle}.badge[_ngcontent-%COMP%]{font-weight:500;padding:.5rem .75rem;border-radius:6px;font-size:.75rem}.bg-primary[_ngcontent-%COMP%]{background-color:#4a90e2!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#64748b!important}.btn[_ngcontent-%COMP%]{border-radius:6px;font-weight:500;padding:.5rem 1rem;transition:all .2s ease}.btn-sm[_ngcontent-%COMP%]{font-size:.875rem;padding:.4rem .8rem}.btn-warning[_ngcontent-%COMP%]{background-color:#f59e0b;border:none;color:#fff}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#d97706}.btn-danger[_ngcontent-%COMP%]{background-color:#ef4444;border:none}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#dc2626}.status-toggle-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem .8rem;border-radius:6px;font-size:.75rem;font-weight:500;transition:all .2s ease;border:1px solid transparent}.status-toggle-btn.active[_ngcontent-%COMP%]{background-color:#f8fafc;border-color:#dc2626;color:#dc2626}.status-toggle-btn.active[_ngcontent-%COMP%]:hover{background-color:#dc2626;color:#fff}.status-toggle-btn.inactive[_ngcontent-%COMP%]{background-color:#f8fafc;border-color:#16a34a;color:#16a34a}.status-toggle-btn.inactive[_ngcontent-%COMP%]:hover{background-color:#16a34a;color:#fff}.status-toggle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem;transition:transform .2s ease}.status-toggle-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:rotate(180deg)}.delete-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.5rem;border-radius:6px;background-color:#f8fafc;border:1px solid #dc2626;color:#dc2626;transition:all .2s ease}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#dc2626;color:#fff}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:1.5rem;padding:1rem 0}.btn-outline-primary[_ngcontent-%COMP%]{border:1px solid #4a90e2;color:#4a90e2}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#4a90e2;color:#fff}.page-info[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem}.alert[_ngcontent-%COMP%]{border-radius:6px;margin-bottom:1rem;padding:1rem}.alert-danger[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fee2e2;color:#991b1b}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem}.list-title[_ngcontent-%COMP%]{font-size:1.5rem}.table-responsive[_ngcontent-%COMP%]{margin-top:1rem}.btn-sm[_ngcontent-%COMP%]{padding:.3rem .6rem}}.action-dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.action-btn[_ngcontent-%COMP%]{background-color:#f8fafc;border:1px solid #e2e8f0;color:#475569;padding:.5rem 1rem;border-radius:6px;cursor:pointer;display:flex;align-items:center;gap:.5rem;font-size:.875rem;transition:all .2s ease}.action-btn[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;border-color:#cbd5e1}.dropdown-menu[_ngcontent-%COMP%]{min-width:200px;padding:.5rem 0;border:1px solid #e2e8f0;border-radius:6px;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;color:#475569;transition:all .2s ease;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8fafc;color:#2563eb}.dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1rem;text-align:center}.dropdown-item.activate[_ngcontent-%COMP%]{color:#16a34a}.dropdown-item.deactivate[_ngcontent-%COMP%]{color:#dc2626}.dropdown-item.activate[_ngcontent-%COMP%]:hover{background-color:#f0fdf4}.dropdown-item.deactivate[_ngcontent-%COMP%]:hover{background-color:#fef2f2}.dropdown-divider[_ngcontent-%COMP%]{height:1px;background-color:#e2e8f0;margin:.5rem 0}.success-message[_ngcontent-%COMP%]{background-color:#f0fdf4;border:1px solid #bbf7d0;color:#16a34a;padding:1rem;border-radius:6px;margin-bottom:1rem}.error-message[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:1rem;border-radius:6px;margin-bottom:1rem}.modal-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #dee2e6}.modal-title[_ngcontent-%COMP%]{color:#495057;font-size:1.25rem}.modal-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;color:#6c757d}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.input-wrapper[_ngcontent-%COMP%]{position:relative}.input-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);color:#6c757d}.form-control[_ngcontent-%COMP%]{padding-right:30px}.form-check[_ngcontent-%COMP%]{margin-top:1rem}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid #dee2e6;padding:1rem}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0062cc}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;border-color:#6c757d}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268;border-color:#545b62}.alert[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;z-index:1040}.modal[_ngcontent-%COMP%]{z-index:1050}"]})};function Al(d,i){if(d&1&&(a(0,"div",28),w(1,"i",29),l(2),r()),d&2){let n=h();m(2),P(" ",n.successMessage," ")}}function Il(d,i){if(d&1&&(a(0,"div",30),w(1,"i",31),l(2),r()),d&2){let n=h();m(2),P(" ",n.errorMessage," ")}}function El(d,i){if(d&1&&(a(0,"option",32),l(1),Z(2,"titlecase"),r()),d&2){let n=i.$implicit;f("value",n),m(),P(" ",te(2,2,n)," ")}}function Tl(d,i){d&1&&(a(0,"span"),l(1,"Add User"),r())}function Dl(d,i){d&1&&w(0,"div",33)}var Zt=class d{constructor(i,n){this.adminService=i;this.router=n}userObject={username:"",email:"",phoneNumber:"",role:"client"};roles=["client","admin"];isSubmitting=!1;successMessage="";errorMessage="";addUser(){this.isSubmitting=!0,this.successMessage="",this.errorMessage="",this.adminService.createClient(this.userObject).subscribe(i=>{console.log("User created:",i),this.successMessage="User created successfully! Login credentials have been sent to the user's email.",this.isSubmitting=!1,this.userObject={username:"",email:"",phoneNumber:"",role:"client"},setTimeout(()=>{this.navigateToList()},2e3)},i=>{console.error("Error creating user:",i),this.errorMessage=i.error?.message||"Failed to create user. Please try again.",this.isSubmitting=!1})}navigateToList(){this.router.navigate(["/admin/users"])}static \u0275fac=function(n){return new(n||d)(S(z),S(R))};static \u0275cmp=N({type:d,selectors:[["app-add-user"]],standalone:!1,decls:38,vars:10,consts:[["userForm","ngForm"],[1,"form-container"],[1,"form-card"],[1,"back-button"],[1,"btn-back",3,"click"],[1,"fas","fa-arrow-left"],[1,"form-title"],[1,"fas","fa-user-plus"],["class","alert alert-success","role","alert",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required","","placeholder","Enter full name",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-user"],["for","email"],["type","email","id","email","name","email","required","","placeholder","Enter email address",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-envelope"],["for","phone"],["type","tel","id","phone","name","phoneNumber","required","","placeholder","Enter phone number",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-phone"],["for","role"],["id","role","name","role","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"fas","fa-user-shield"],["type","submit",1,"btn-submit",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["role","alert",1,"alert","alert-success"],[1,"fas","fa-check-circle"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-circle"],[3,"value"],[1,"spinner"]],template:function(n,s){if(n&1){let c=I();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),C("click",function(){return _(c),x(s.navigateToList())}),w(4,"i",5),a(5,"span"),l(6,"Back to List"),r()()(),a(7,"h2",6),w(8,"i",7),l(9," Add New User "),r(),M(10,Al,3,1,"div",8)(11,Il,3,1,"div",9),a(12,"form",10,0),C("ngSubmit",function(){return _(c),x(s.addUser())}),a(14,"div",11)(15,"label",12),l(16,"Full Name"),r(),a(17,"input",13),A("ngModelChange",function(g){return _(c),k(s.userObject.username,g)||(s.userObject.username=g),x(g)}),r(),w(18,"i",14),r(),a(19,"div",11)(20,"label",15),l(21,"Email Address"),r(),a(22,"input",16),A("ngModelChange",function(g){return _(c),k(s.userObject.email,g)||(s.userObject.email=g),x(g)}),r(),w(23,"i",17),r(),a(24,"div",11)(25,"label",18),l(26,"Phone Number"),r(),a(27,"input",19),A("ngModelChange",function(g){return _(c),k(s.userObject.phoneNumber,g)||(s.userObject.phoneNumber=g),x(g)}),r(),w(28,"i",20),r(),a(29,"div",11)(30,"label",21),l(31,"Role"),r(),a(32,"select",22),A("ngModelChange",function(g){return _(c),k(s.userObject.role,g)||(s.userObject.role=g),x(g)}),M(33,El,3,4,"option",23),r(),w(34,"i",24),r(),a(35,"button",25),M(36,Tl,2,0,"span",26)(37,Dl,1,0,"div",27),r()()()()}if(n&2){let c=Me(13);m(10),f("ngIf",s.successMessage),m(),f("ngIf",s.errorMessage),m(6),O("ngModel",s.userObject.username),m(5),O("ngModel",s.userObject.email),m(5),O("ngModel",s.userObject.phoneNumber),m(5),O("ngModel",s.userObject.role),m(),f("ngForOf",s.roles),m(2),f("disabled",!c.form.valid||s.isSubmitting),m(),f("ngIf",!s.isSubmitting),m(),f("ngIf",s.isSubmitting)}},dependencies:[$,B,J,oe,re,Y,ie,H,K,ae,X,ne,pe],styles:[`.form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px}.form-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:20px;box-shadow:0 15px 35px #0003;padding:40px;width:100%;max-width:550px;position:relative;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .5s ease-out}.form-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,#ffffff1a,#fff3);pointer-events:none;border-radius:20px}.back-button[_ngcontent-%COMP%]{margin-bottom:30px}.btn-back[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:12px 24px;border-radius:50px;font-size:1rem;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px;box-shadow:0 4px 15px #0003}.btn-back[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #0000004d}.form-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2d3748;margin-bottom:30px;text-align:center;display:flex;align-items:center;justify-content:center;gap:12px}.form-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4c1d95;font-size:2rem}.form-group[_ngcontent-%COMP%]{margin-bottom:25px;position:relative}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:600;color:#4a5568;margin-bottom:8px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 20px;border:2px solid #e2e8f0;border-radius:12px;font-size:1rem;transition:all .3s ease;background:#ffffffe6}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#6a11cb;box-shadow:0 0 0 3px #6a11cb1a;outline:none}.form-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:15px;top:45px;color:#a0aec0}.form-group[_ngcontent-%COMP%]   select.form-control[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none;padding-right:40px;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%23a0aec0' d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 10px center}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:14px 30px;background:linear-gradient(135deg,#6a11cb,#2575fc);color:#fff;border:none;border-radius:12px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #6a11cb66;position:relative;overflow:hidden}.btn-submit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #6a11cb99}.btn-submit[_ngcontent-%COMP%]:active{transform:translateY(1px)}.btn-submit[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#cbd5e0,#a0aec0);cursor:not-allowed}.spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto}.alert[_ngcontent-%COMP%]{padding:15px 20px;border-radius:12px;margin-bottom:20px;display:flex;align-items:center;gap:10px;animation:_ngcontent-%COMP%_slideDown .4s ease-out}.alert-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#84fab0,#8fd3f4);color:#1a4731;border:none}.alert-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#feb692,#ea5455);color:#fff;border:none}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.form-card[_ngcontent-%COMP%]{padding:30px 20px}.form-title[_ngcontent-%COMP%]{font-size:1.75rem}.btn-submit[_ngcontent-%COMP%]{padding:12px 24px}}.form-group[_ngcontent-%COMP%]{position:relative}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-25px) scale(.8);color:#6a11cb}.form-group[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%]{border-color:#6a11cb}.form-group[_ngcontent-%COMP%]:focus-within{transform:scale(1.01)}`]})};function Vl(d,i){if(d&1&&(a(0,"div",25),w(1,"i",26),l(2),r()),d&2){let n=h();m(2),P(" ",n.successMessage," ")}}function Ll(d,i){if(d&1&&(a(0,"div",27),w(1,"i",28),l(2),r()),d&2){let n=h();m(2),P(" ",n.errorMessage," ")}}function Ul(d,i){if(d&1){let n=I();Dt(0),a(1,"button",29),C("click",function(){_(n);let c=h();return x(c.resetPassword())}),w(2,"i",30),l(3," Reset Password "),r(),a(4,"button",31),w(5,"i",32),l(6),r(),Vt()}if(d&2){let n=h(),s=Me(8);m(4),f("disabled",!s.form.valid||n.isSubmitting),m(2),P(" ",n.isSubmitting?"Saving...":"Save Changes"," ")}}var Kt=class d{constructor(i,n){this.adminService=i;this.router=n}userProfile={name:"",email:"",phoneNumber:"",role:""};isEditing=!1;successMessage="";errorMessage="";isSubmitting=!1;ngOnInit(){this.loadUserProfile()}loadUserProfile(){this.adminService.getCurrentUserProfile().subscribe(i=>{if(i.success&&i.data){let n=i.data;this.userProfile={name:n.username,email:n.email,phoneNumber:n.phoneNumber||"",role:n.role}}},i=>{this.errorMessage="Failed to load profile data",i.status===401&&this.router.navigate(["/login"])})}resetPassword(){confirm("Are you sure you want to reset your password? A new password will be sent to your email.")&&this.adminService.resetOwnAccount(this.userProfile.email).subscribe(i=>{this.successMessage="Password reset successful. Please check your email for the new password.",setTimeout(()=>this.successMessage="",5e3)},i=>{this.errorMessage=i.error?.message||"Failed to reset password",setTimeout(()=>this.errorMessage="",5e3)})}toggleEdit(){this.isEditing=!this.isEditing,this.isEditing||this.loadUserProfile()}updateProfile(){this.isSubmitting=!0,this.successMessage="",this.errorMessage="";let i={username:this.userProfile.name,email:this.userProfile.email,phoneNumber:this.userProfile.phoneNumber};this.adminService.updateProfile(i).subscribe(n=>{n.success?(this.successMessage=n.message||"Profile updated successfully!",this.isSubmitting=!1,this.isEditing=!1,this.loadUserProfile()):(this.errorMessage=n.message||"Update failed",this.isSubmitting=!1)},n=>{this.errorMessage=n.error?.message||"Failed to update profile",this.isSubmitting=!1})}goBack(){this.router.navigate(["/admin/Schedules"])}static \u0275fac=function(n){return new(n||d)(S(z),S(R))};static \u0275cmp=N({type:d,selectors:[["app-profile"]],standalone:!1,decls:36,vars:12,consts:[["profileForm","ngForm"],[1,"profile-container"],[1,"profile-header"],[1,"fas","fa-user-circle"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit"],[1,"profile-content"],[1,"role-badge"],[1,"fas","fa-user-tag"],[1,"form-group"],["for","name"],[1,"input-wrapper"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel","readonly"],[1,"fas","fa-user"],["for","email"],["type","email","id","email","name","email",1,"form-control",3,"ngModelChange","ngModel","readonly"],[1,"fas","fa-envelope"],["for","phone"],["type","tel","id","phone","name","phoneNumber","required","",1,"form-control",3,"ngModelChange","ngModel","readonly"],[1,"fas","fa-phone"],[1,"action-buttons"],["type","button",1,"btn-edit",3,"click"],[1,"fas",3,"ngClass"],[4,"ngIf"],[1,"alert","alert-success"],[1,"fas","fa-check-circle"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-circle"],["type","button",1,"btn-reset",3,"click"],[1,"fas","fa-key"],["type","submit",1,"btn-save",3,"disabled"],[1,"fas","fa-save"]],template:function(n,s){if(n&1){let c=I();a(0,"div",1)(1,"div",2)(2,"h2"),w(3,"i",3),l(4," My Profile"),r()(),M(5,Vl,3,1,"div",4)(6,Ll,3,1,"div",5),a(7,"form",6,0),C("ngSubmit",function(){return _(c),x(s.updateProfile())}),a(9,"div",7)(10,"div",8),w(11,"i",9),l(12),r(),a(13,"div",10)(14,"label",11),l(15,"Username"),r(),a(16,"div",12)(17,"input",13),A("ngModelChange",function(g){return _(c),k(s.userProfile.name,g)||(s.userProfile.name=g),x(g)}),r(),w(18,"i",14),r()(),a(19,"div",10)(20,"label",15),l(21,"Email"),r(),a(22,"div",12)(23,"input",16),A("ngModelChange",function(g){return _(c),k(s.userProfile.email,g)||(s.userProfile.email=g),x(g)}),r(),w(24,"i",17),r()(),a(25,"div",10)(26,"label",18),l(27,"Phone Number"),r(),a(28,"div",12)(29,"input",19),A("ngModelChange",function(g){return _(c),k(s.userProfile.phoneNumber,g)||(s.userProfile.phoneNumber=g),x(g)}),r(),w(30,"i",20),r()(),a(31,"div",21)(32,"button",22),C("click",function(){return _(c),x(s.toggleEdit())}),w(33,"i",23),l(34),r(),M(35,Ul,7,2,"ng-container",24),r()()()()}n&2&&(m(5),f("ngIf",s.successMessage),m(),f("ngIf",s.errorMessage),m(6),P(" ",s.userProfile.role," "),m(5),O("ngModel",s.userProfile.name),f("readonly",!s.isEditing),m(6),O("ngModel",s.userProfile.email),f("readonly",!s.isEditing),m(6),O("ngModel",s.userProfile.phoneNumber),f("readonly",!s.isEditing),m(4),f("ngClass",s.isEditing?"fa-times":"fa-edit"),m(),P(" ",s.isEditing?"Cancel":"Edit Profile"," "),m(),f("ngIf",s.isEditing))},dependencies:[Ue,B,J,Y,H,K,ae,X,ne],styles:[".profile-container[_ngcontent-%COMP%]{max-width:700px;margin:2rem auto;padding:2.5rem;background:#fff;border-radius:15px;box-shadow:0 8px 30px #0000001f}.profile-header[_ngcontent-%COMP%]{margin-bottom:2.5rem;text-align:center}.profile-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2d3748;font-size:2rem;font-weight:600;display:flex;align-items:center;justify-content:center;gap:1rem}.profile-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.2rem;color:#4299e1}.profile-content[_ngcontent-%COMP%]{position:relative}.role-badge[_ngcontent-%COMP%]{position:absolute;top:-15px;right:0;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:.5rem 1rem;border-radius:20px;font-size:.9rem;font-weight:500;display:flex;align-items:center;gap:.5rem;box-shadow:0 4px 6px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:2rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.95rem;font-weight:500;color:#4a5568;margin-bottom:.5rem}.input-wrapper[_ngcontent-%COMP%]{position:relative}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 2.5rem .75rem 1rem;border:2px solid #e2e8f0;border-radius:10px;font-size:1rem;transition:all .3s ease;background:#fff}.form-control[_ngcontent-%COMP%]:focus{border-color:#4299e1;box-shadow:0 0 0 3px #4299e126;outline:none}.form-control[_ngcontent-%COMP%]:read-only{background-color:#f7fafc;border-color:#edf2f7}.input-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:#a0aec0}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem;justify-content:flex-end}.btn-edit[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%], .btn-reset[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:500;cursor:pointer;transition:all .3s ease}.btn-edit[_ngcontent-%COMP%]{background:#4299e1;color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{background:#3182ce;transform:translateY(-2px)}.btn-save[_ngcontent-%COMP%]{background:#48bb78;color:#fff}.btn-save[_ngcontent-%COMP%]:hover{background:#38a169;transform:translateY(-2px)}.btn-reset[_ngcontent-%COMP%]{background:#f56565;color:#fff}.btn-reset[_ngcontent-%COMP%]:hover{background:#e53e3e;transform:translateY(-2px)}.alert[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1.5rem;border-radius:8px;display:flex;align-items:center;gap:.5rem}.alert-success[_ngcontent-%COMP%]{background-color:#c6f6d5;color:#2f855a;border:1px solid #9ae6b4}.alert-danger[_ngcontent-%COMP%]{background-color:#fed7d7;color:#c53030;border:1px solid #feb2b2}button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none!important}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%]{margin:1rem;padding:1.5rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.btn-edit[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%], .btn-reset[_ngcontent-%COMP%]{width:100%;justify-content:center}.role-badge[_ngcontent-%COMP%]{position:relative;top:0;margin-bottom:1.5rem;justify-content:center}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.form-control[_ngcontent-%COMP%], .btn-edit[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%], .btn-reset[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}"]})};var Nl=[{path:"",component:Bt,children:[{path:"ads",component:zt},{path:"newAds",component:Wt},{path:"archivedAds",component:qt},{path:"addDevices",component:$t},{path:"Devices",component:pt},{path:"Devices/:userId",component:pt},{path:"archivedDevices",component:gt},{path:"archivedDevices/:userId",component:gt},{path:"Makeschedule",component:Yt},{path:"Schedules",component:Ht},{path:"schedule/view",component:Qt},{path:"",redirectTo:"Schedules",pathMatch:"full"},{path:"users",component:Gt},{path:"addUser",component:Zt},{path:"profile",component:Kt}]}],Xt=class d{static \u0275fac=function(n){return new(n||d)};static \u0275mod=Tt({type:d});static \u0275inj=Et({imports:[mt.forChild(Nl),mt]})};var lo=class d{static \u0275fac=function(n){return new(n||d)};static \u0275mod=Tt({type:d});static \u0275inj=Et({providers:[z],imports:[Fi,Xt,Qi,mt,Gi,Ri,oo,io]})};export{lo as AdminModule};
