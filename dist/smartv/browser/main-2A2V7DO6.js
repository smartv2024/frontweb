import{$a as ue,A as Q,Aa as L,B as o,Ba as V,C as i,Ca as F,D as p,Da as z,Ea as N,G as k,H as u,I as h,K as $,L as ee,M as te,Ma as j,N as S,Na as ge,O as a,Pa as fe,Q as w,S as x,Sa as me,T as C,U as M,Ua as he,W as Z,aa as ne,ca as R,ha as oe,ia as ie,j as E,ja as re,k as I,l as G,la as ae,m as g,ma as se,n as f,na as de,oa as le,qa as pe,r as s,ra as O,s as P,t as v,u as A,ua as J,v as _,va as ce,wa as b,x as l,ya as T,z as X}from"./chunk-GQ3EIEJC.js";var Me=["videoPlayer"],_e=t=>({"is-invalid":t});function Pe(t,r){if(t&1&&(o(0,"div",69),p(1,"i",70),a(2),i()),t&2){let n=h();s(2),w(" ",n.errorMessage," ")}}function ve(t,r){t&1&&(o(0,"span"),p(1,"i",71),a(2," Sign In "),i())}function Oe(t,r){t&1&&p(0,"div",72)}function ye(t,r){if(t&1&&(o(0,"div",89),p(1,"i",90),a(2),i()),t&2){let n=h(2);s(2),w(" ",n.forgotPasswordSuccess," ")}}function ke(t,r){if(t&1&&(o(0,"div",69),p(1,"i",70),a(2),i()),t&2){let n=h(2);s(2),w(" ",n.forgotPasswordError," ")}}function Se(t,r){t&1&&(o(0,"span"),a(1,"Reset Password"),i())}function Ee(t,r){t&1&&p(0,"span",91)}function Ie(t,r){if(t&1){let n=k();o(0,"div",73)(1,"div",74)(2,"div",75)(3,"div",76)(4,"h5",77),a(5,"Reset Password"),i(),o(6,"button",78),u("click",function(){g(n);let d=h();return f(d.closeForgotPasswordModal())}),i()(),o(7,"div",79)(8,"form",80,2),u("ngSubmit",function(){g(n);let d=h();return f(d.onForgotPasswordSubmit())}),_(10,ye,3,1,"div",81)(11,ke,3,1,"div",52),o(12,"div",53)(13,"label",82),a(14,"Email Address"),i(),o(15,"div",55)(16,"span",56),p(17,"i",83),i(),o(18,"input",84),M("ngModelChange",function(d){g(n);let m=h();return C(m.resetEmail,d)||(m.resetEmail=d),f(d)}),i()()(),o(19,"div",85)(20,"button",86),u("click",function(){g(n);let d=h();return f(d.closeForgotPasswordModal())}),a(21," Cancel "),i(),o(22,"button",87),_(23,Se,2,0,"span",66)(24,Ee,1,0,"span",88),i()()()()()()()}if(t&2){let n=S(9),e=h();X("show",e.showForgotPasswordModal),s(10),l("ngIf",e.forgotPasswordSuccess),s(),l("ngIf",e.forgotPasswordError),s(7),x("ngModel",e.resetEmail),l("disabled",e.isResetting),s(2),l("disabled",e.isResetting),s(2),l("disabled",!n.form.valid||e.isResetting),s(),l("ngIf",!e.isResetting),s(),l("ngIf",e.isResetting)}}var Y=class t{constructor(r,n){this.authService=r;this.router=n}videoPlayer;isMuted=!0;ngAfterViewInit(){let r=this.videoPlayer.nativeElement;r.defaultMuted=!0,r.muted=!0;let n=()=>{r.play().catch(e=>{console.log("Video autoplay failed:",e)})};n(),document.addEventListener("click",n,{once:!0}),document.addEventListener("touchstart",n,{once:!0})}username="";password="";errorMessage="";isLoading=!1;showForgotPasswordModal=!1;resetEmail="";isResetting=!1;forgotPasswordError="";forgotPasswordSuccess="";onSubmit(){this.isLoading=!0,this.errorMessage="",this.authService.login({username:this.username,password:this.password}).subscribe({next:r=>{this.isLoading=!1,this.authService.forcePasswordChange?this.router.navigate(["/changepwd"]):this.router.navigate(["/admin"])},error:r=>{this.isLoading=!1,r.status===403?this.errorMessage="Your account is inactive. Please contact administrator.":this.errorMessage=r.error?.message||"An error occurred during login"}})}openForgotPasswordModal(){this.showForgotPasswordModal=!0,this.resetEmail="",this.forgotPasswordError="",this.forgotPasswordSuccess=""}closeForgotPasswordModal(){this.showForgotPasswordModal=!1,this.resetEmail="",this.forgotPasswordError="",this.forgotPasswordSuccess=""}onForgotPasswordSubmit(){this.resetEmail&&(this.isResetting=!0,this.forgotPasswordError="",this.forgotPasswordSuccess="",this.authService.resetPassword(this.resetEmail).subscribe({next:r=>{this.isResetting=!1,this.forgotPasswordSuccess="Password reset email sent successfully. Please check your email.",setTimeout(()=>{this.closeForgotPasswordModal()},3e3)},error:r=>{this.isResetting=!1,this.forgotPasswordError=r.error?.message||"Failed to reset password. Please try again."}}))}toggleSound(){if(!this.videoPlayer)return;let r=this.videoPlayer.nativeElement;this.isMuted=!this.isMuted,r.muted=this.isMuted,r.play().catch(n=>{console.error(this.isMuted?"Playback failed while muting:":"Unmute failed:",n),this.isMuted||(this.isMuted=!0,r.muted=!0)})}static \u0275fac=function(n){return new(n||t)(P(b),P(O))};static \u0275cmp=v({type:t,selectors:[["app-login"]],viewQuery:function(n,e){if(n&1&&$(Me,5),n&2){let d;ee(d=te())&&(e.videoPlayer=d.first)}},standalone:!1,decls:85,vars:14,consts:[["videoPlayer",""],["loginForm","ngForm"],["forgotPasswordForm","ngForm"],[1,"login-container"],[1,"animated-text-container"],[1,"text-spawn","text-spawn-1"],[1,"text-spawn","text-spawn-2"],[1,"text-spawn","text-spawn-3"],[1,"text-spawn","text-spawn-4"],[1,"text-spawn","text-spawn-5"],[1,"text-spawn","text-spawn-6"],[1,"text-spawn","text-spawn-7"],[1,"text-spawn","text-spawn-8"],[1,"shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"shape","shape-4"],[1,"shape","shape-5"],[1,"shape","shape-6"],[1,"shape","shape-7"],[1,"shape","shape-8"],[1,"shape","shape-9"],[1,"shape","shape-10"],[1,"shape","shape-11"],[1,"shape","shape-12"],[1,"shape","shape-13"],[1,"shape","shape-14"],[1,"shape","shape-15"],[1,"shape","shape-small","shape-16"],[1,"shape","shape-small","shape-17"],[1,"shape","shape-small","shape-18"],[1,"shape","shape-small","shape-19"],[1,"shape","shape-small","shape-20"],[1,"shape","shape-tiny","shape-21"],[1,"shape","shape-tiny","shape-22"],[1,"shape","shape-tiny","shape-23"],[1,"shape","shape-tiny","shape-24"],[1,"shape","shape-tiny","shape-25"],[1,"video-background"],["src","https://perfumatic-faicel.vercel.app/aroma-video.mp4","autoplay","","loop","","playsinline","","preload","auto",2,"width","100%","height","100%","object-fit","cover","position","absolute","top","0","left","0",3,"muted"],[1,"form-wrapper"],[1,"form-container"],[1,"logo-container"],["src","https://iili.io/2gvDOlt.th.png","alt","Logo",1,"logo"],[1,"form-header"],[1,"subtitle"],[1,"form-shapes"],[1,"form-shape","form-shape-1"],[1,"form-shape","form-shape-2"],[1,"form-shape","form-shape-3"],[1,"login-form",3,"ngSubmit"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],["for","email"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-user"],["id","email","type","text","name","email","placeholder","Enter your user name","required","",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["for","password"],[1,"fas","fa-lock"],["id","password","type","password","name","password","placeholder","Enter your password","required","",1,"form-control",3,"ngModelChange","ngModel","ngClass"],[1,"forgot-password-link"],["href","javascript:void(0)",3,"click"],[1,"fas","fa-key"],["type","submit",1,"btn-submit",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["class","modal",3,"show",4,"ngIf"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-sign-in-alt"],[1,"spinner"],[1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],["class","alert alert-success",4,"ngIf"],["for","resetEmail"],[1,"fas","fa-envelope"],["id","resetEmail","type","email","name","resetEmail","required","","email","","placeholder","Enter your email address",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"alert","alert-success"],[1,"fas","fa-check-circle"],[1,"spinner-border","spinner-border-sm"]],template:function(n,e){if(n&1){let d=k();o(0,"div",3)(1,"div",4)(2,"div",5),a(3,"AROMAMASTER"),i(),o(4,"div",6),a(5,"AROMAMASTER"),i(),o(6,"div",7),a(7,"AROMAMASTER"),i(),o(8,"div",8),a(9,"AROMAMASTER"),i(),o(10,"div",9),a(11,"AROMAMASTER"),i(),o(12,"div",10),a(13,"AROMAMASTER"),i(),o(14,"div",11),a(15,"AROMAMASTER"),i(),o(16,"div",12),a(17,"AROMAMASTER"),i()(),o(18,"div",13),p(19,"div",14)(20,"div",15)(21,"div",16)(22,"div",17)(23,"div",18)(24,"div",19)(25,"div",20)(26,"div",21)(27,"div",22)(28,"div",23)(29,"div",24)(30,"div",25)(31,"div",26)(32,"div",27)(33,"div",28)(34,"div",29)(35,"div",30)(36,"div",31)(37,"div",32)(38,"div",33)(39,"div",34)(40,"div",35)(41,"div",36)(42,"div",37)(43,"div",38),i(),o(44,"div",39),p(45,"video",40,0),i(),o(47,"div",41)(48,"div",42)(49,"div",43),p(50,"img",44),i(),o(51,"div",45)(52,"h2"),a(53,"Welcome Back! \u{1F44B}"),i(),o(54,"p",46),a(55,"Sign in to continue to your account"),i()(),o(56,"div",47),p(57,"div",48)(58,"div",49)(59,"div",50),i(),o(60,"form",51,1),u("ngSubmit",function(){return g(d),f(e.onSubmit())}),_(62,Pe,3,1,"div",52),o(63,"div",53)(64,"label",54),a(65,"User name"),i(),o(66,"div",55)(67,"span",56),p(68,"i",57),i(),o(69,"input",58),M("ngModelChange",function(c){return g(d),C(e.username,c)||(e.username=c),f(c)}),i()()(),o(70,"div",53)(71,"label",59),a(72,"Password"),i(),o(73,"div",55)(74,"span",56),p(75,"i",60),i(),o(76,"input",61),M("ngModelChange",function(c){return g(d),C(e.password,c)||(e.password=c),f(c)}),i()()(),o(77,"div",62)(78,"a",63),u("click",function(){return g(d),f(e.openForgotPasswordModal())}),p(79,"i",64),a(80," Forgot Password? "),i()(),o(81,"button",65),_(82,ve,3,0,"span",66)(83,Oe,1,0,"div",67),i()()()()(),_(84,Ie,25,10,"div",68)}if(n&2){let d,m,c=S(61);s(45),l("muted",e.isMuted),s(17),l("ngIf",e.errorMessage),s(7),x("ngModel",e.username),l("ngClass",Z(10,_e,c.submitted&&((d=c.form.get("email"))==null?null:d.invalid))),s(7),x("ngModel",e.password),l("ngClass",Z(12,_e,c.submitted&&((m=c.form.get("password"))==null?null:m.invalid))),s(5),l("disabled",!c.form.valid||e.isLoading),s(),l("ngIf",!e.isLoading),s(),l("ngIf",e.isLoading),s(),l("ngIf",e.showForgotPasswordModal)}},dependencies:[ne,R,N,T,L,V,j,ge,z,F],styles:['[_ngcontent-%COMP%]:root{--primary-color: #2c3e50;--secondary-color: #34495e;--accent-color: #ff6b6b}.login-container[_ngcontent-%COMP%]{position:relative;min-height:100vh;width:100%;overflow:hidden}.logo-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.logo[_ngcontent-%COMP%]{width:120px;height:auto;filter:drop-shadow(0 4px 8px rgba(0,0,0,.2));animation:_ngcontent-%COMP%_floatLogo 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_floatLogo{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.shapes[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;top:0;left:0;z-index:1}.shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:#ffffff14;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.shape-1[_ngcontent-%COMP%]{width:400px;height:400px;top:-200px;left:-200px;animation:_ngcontent-%COMP%_float 25s infinite}.shape-2[_ngcontent-%COMP%]{width:350px;height:350px;top:40%;right:-175px;animation:_ngcontent-%COMP%_float 28s infinite -7s}.shape-3[_ngcontent-%COMP%]{width:300px;height:300px;bottom:-150px;left:40%;animation:_ngcontent-%COMP%_float 22s infinite -11s}.shape-4[_ngcontent-%COMP%]{width:380px;height:380px;top:20%;left:-190px;animation:_ngcontent-%COMP%_float 24s infinite -15s}.shape-5[_ngcontent-%COMP%]{width:320px;height:320px;top:10%;right:5%;animation:_ngcontent-%COMP%_float 26s infinite -9s}.shape-6[_ngcontent-%COMP%]{width:280px;height:280px;bottom:10%;right:15%;animation:_ngcontent-%COMP%_float 23s infinite -13s}.shape-7[_ngcontent-%COMP%]{width:360px;height:360px;top:35%;left:10%;animation:_ngcontent-%COMP%_float 27s infinite -5s}.shape-8[_ngcontent-%COMP%]{width:340px;height:340px;bottom:25%;left:25%;animation:_ngcontent-%COMP%_float 29s infinite -8s}.shape-9[_ngcontent-%COMP%]{width:310px;height:310px;top:5%;left:35%;animation:_ngcontent-%COMP%_float 21s infinite -12s}.shape-10[_ngcontent-%COMP%]{width:290px;height:290px;bottom:15%;right:30%;animation:_ngcontent-%COMP%_float 24s infinite -17s}.shape-11[_ngcontent-%COMP%]{width:200px;height:200px;top:45%;left:45%;animation:_ngcontent-%COMP%_floatReverse 20s infinite}.shape-12[_ngcontent-%COMP%]{width:180px;height:180px;top:15%;right:25%;animation:_ngcontent-%COMP%_floatReverse 22s infinite -6s}.shape-13[_ngcontent-%COMP%]{width:220px;height:220px;bottom:35%;left:15%;animation:_ngcontent-%COMP%_floatReverse 18s infinite -9s}.shape-14[_ngcontent-%COMP%]{width:160px;height:160px;top:60%;right:40%;animation:_ngcontent-%COMP%_floatReverse 24s infinite -13s}.shape-15[_ngcontent-%COMP%]{width:240px;height:240px;bottom:20%;left:35%;animation:_ngcontent-%COMP%_floatReverse 21s infinite -11s}.shape-small[_ngcontent-%COMP%]{background:#ffffff1f;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.shape-16[_ngcontent-%COMP%]{width:100px;height:100px;top:25%;left:55%;animation:_ngcontent-%COMP%_bounce 15s infinite}.shape-17[_ngcontent-%COMP%]{width:80px;height:80px;top:40%;right:15%;animation:_ngcontent-%COMP%_bounce 17s infinite -4s}.shape-18[_ngcontent-%COMP%]{width:120px;height:120px;bottom:45%;left:20%;animation:_ngcontent-%COMP%_bounce 14s infinite -7s}.shape-19[_ngcontent-%COMP%]{width:90px;height:90px;top:70%;right:25%;animation:_ngcontent-%COMP%_bounce 16s infinite -9s}.shape-20[_ngcontent-%COMP%]{width:110px;height:110px;bottom:30%;left:45%;animation:_ngcontent-%COMP%_bounce 18s infinite -5s}.shape-tiny[_ngcontent-%COMP%]{background:#ffffff26;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.shape-21[_ngcontent-%COMP%]{width:40px;height:40px;top:35%;left:60%;animation:_ngcontent-%COMP%_particle 10s infinite}.shape-22[_ngcontent-%COMP%]{width:30px;height:30px;top:55%;right:20%;animation:_ngcontent-%COMP%_particle 12s infinite -3s}.shape-23[_ngcontent-%COMP%]{width:35px;height:35px;bottom:40%;left:25%;animation:_ngcontent-%COMP%_particle 9s infinite -6s}.shape-24[_ngcontent-%COMP%]{width:25px;height:25px;top:75%;right:35%;animation:_ngcontent-%COMP%_particle 11s infinite -8s}.shape-25[_ngcontent-%COMP%]{width:45px;height:45px;bottom:25%;left:50%;animation:_ngcontent-%COMP%_particle 13s infinite -4s}@keyframes _ngcontent-%COMP%_float{0%{transform:translate(0) rotate(0)}25%{transform:translate(50px,50px) rotate(90deg)}50%{transform:translateY(100px) rotate(180deg)}75%{transform:translate(-50px,50px) rotate(270deg)}to{transform:translate(0) rotate(360deg)}}@keyframes _ngcontent-%COMP%_floatReverse{0%{transform:translate(0) rotate(0)}25%{transform:translate(-40px,40px) rotate(-90deg)}50%{transform:translateY(80px) rotate(-180deg)}75%{transform:translate(40px,40px) rotate(-270deg)}to{transform:translate(0) rotate(-360deg)}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0) scale(1)}50%{transform:translateY(-30px) scale(.95)}}@keyframes _ngcontent-%COMP%_particle{0%,to{transform:translate(0) scale(1)}25%{transform:translate(20px,-20px) scale(1.1)}50%{transform:translate(-20px,-40px) scale(.9)}75%{transform:translate(-10px,-20px) scale(1.05)}}.form-container[_ngcontent-%COMP%]{position:relative;z-index:10;background:#0a07071a;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.2);box-shadow:0 20px 40px #0000004d,inset 0 0 100px #ffffff1a}.form-shapes[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;overflow:hidden;z-index:-1}.form-shape[_ngcontent-%COMP%]{position:absolute;background:linear-gradient(45deg,#ffffff14,#ffffff0d);border-radius:50%;animation:_ngcontent-%COMP%_formFloat 15s infinite}.form-shape-1[_ngcontent-%COMP%]{width:100px;height:100px;top:-50px;right:-50px}.form-shape-2[_ngcontent-%COMP%]{width:80px;height:80px;bottom:-40px;left:-40px;animation-delay:-5s}.form-shape-3[_ngcontent-%COMP%]{width:60px;height:60px;bottom:50%;right:-30px;animation-delay:-10s}@keyframes _ngcontent-%COMP%_formFloat{0%,to{transform:translate(0) rotate(0)}25%{transform:translate(10px,10px) rotate(90deg)}50%{transform:translateY(20px) rotate(180deg)}75%{transform:translate(-10px,10px) rotate(270deg)}}.video-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;background:#000;overflow:hidden}.video-background[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,#2c3e50b3,#34495eb3);z-index:2}.video-background[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:177.77777778vh;height:56.25vw;min-width:100%;min-height:100%;pointer-events:none;opacity:1;object-fit:cover;border:0}.form-wrapper[_ngcontent-%COMP%]{position:relative;z-index:3;display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px}.form-container[_ngcontent-%COMP%]{width:100%;max-width:440px;padding:2.5rem;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);box-shadow:0 20px 40px #0000004d,inset 0 0 100px #ffffff1a;position:relative;overflow:hidden;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:20px}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2.5rem}h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:.5rem;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.2)}.subtitle[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1.1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{color:#ffffffe6;margin-bottom:.5rem;display:block}.input-group[_ngcontent-%COMP%]{display:flex;border:1px solid rgba(255,255,255,.2);border-radius:12px;overflow:hidden;transition:all .3s ease;background:#ffffff1a}.input-group[_ngcontent-%COMP%]:focus-within{border-color:#ffffff80;box-shadow:0 0 0 4px #ffffff1a}.input-group-text[_ngcontent-%COMP%]{background:#ffffff1a;border:none;color:#fffc;padding:.75rem 1rem}.form-control[_ngcontent-%COMP%]{border:none;padding:.75rem;flex:1;font-size:1rem;background:transparent;color:#fff}.form-control[_ngcontent-%COMP%]::placeholder{color:#fff9}.form-control[_ngcontent-%COMP%]:focus{outline:none;background:transparent}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(45deg,#2c3e50,#34495e);color:#fff;border:none;border-radius:12px;font-weight:600;font-size:1.1rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);position:relative;overflow:hidden}.btn-submit[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:.5s}.btn-submit[_ngcontent-%COMP%]:hover:before{left:100%}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(45deg,#34495e,#2c3e50);transform:translateY(-2px)}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.alert-danger[_ngcontent-%COMP%]{background:#dc354533;border:1px solid rgba(220,53,69,.3);color:#fff;padding:1rem;border-radius:12px;margin-bottom:1.5rem;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.form-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease-out}@media (max-width: 480px){.form-container[_ngcontent-%COMP%]{padding:1.5rem}h2[_ngcontent-%COMP%]{font-size:2rem}.subtitle[_ngcontent-%COMP%]{font-size:1rem}}.spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(37,34,34,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.animated-text-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1;overflow:hidden}.text-spawn[_ngcontent-%COMP%]{position:absolute;font-family:Arial Black,sans-serif;font-weight:900;font-size:8rem;color:#ffffff08;white-space:nowrap;text-transform:uppercase;pointer-events:none;-webkit-user-select:none;user-select:none;opacity:0;filter:blur(2px)}.text-spawn-1[_ngcontent-%COMP%]{top:10%;left:-100%;animation:_ngcontent-%COMP%_spawnText1 20s linear infinite}.text-spawn-2[_ngcontent-%COMP%]{top:30%;right:-100%;animation:_ngcontent-%COMP%_spawnText2 25s linear infinite}.text-spawn-3[_ngcontent-%COMP%]{top:50%;left:-100%;animation:_ngcontent-%COMP%_spawnText1 22s linear infinite}.text-spawn-4[_ngcontent-%COMP%]{top:70%;right:-100%;animation:_ngcontent-%COMP%_spawnText2 28s linear infinite}.text-spawn-5[_ngcontent-%COMP%]{top:20%;left:-100%;animation:_ngcontent-%COMP%_spawnText1 24s linear infinite 2s}.text-spawn-6[_ngcontent-%COMP%]{top:40%;right:-100%;animation:_ngcontent-%COMP%_spawnText2 26s linear infinite 3s}.text-spawn-7[_ngcontent-%COMP%]{top:60%;left:-100%;animation:_ngcontent-%COMP%_spawnText1 23s linear infinite 4s}.text-spawn-8[_ngcontent-%COMP%]{top:80%;right:-100%;animation:_ngcontent-%COMP%_spawnText2 27s linear infinite 5s}@keyframes _ngcontent-%COMP%_spawnText1{0%{left:-100%;opacity:0;transform:scale(.5) rotate(-5deg)}5%{opacity:.1;transform:scale(1) rotate(0)}95%{opacity:.1}to{left:100%;opacity:0;transform:scale(.5) rotate(5deg)}}@keyframes _ngcontent-%COMP%_spawnText2{0%{right:-100%;opacity:0;transform:scale(.5) rotate(5deg)}5%{opacity:.1;transform:scale(1) rotate(0)}95%{opacity:.1}to{right:100%;opacity:0;transform:scale(.5) rotate(-5deg)}}.form-wrapper[_ngcontent-%COMP%]{position:relative;z-index:2}.text-spawn[_ngcontent-%COMP%]{text-shadow:0 0 50px rgba(255,255,255,.1);background:linear-gradient(45deg,#ffffff0d,#ffffff05);-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:10px}@media (max-width: 768px){.text-spawn[_ngcontent-%COMP%]{font-size:4rem}}.forgot-password-link[_ngcontent-%COMP%]{text-align:right;margin-bottom:15px}.forgot-password-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff9f9;text-decoration:none;font-size:.9em}.forgot-password-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#0f151bd9;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:1050;opacity:0;transition:opacity .3s ease}.modal.show[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;opacity:1}.modal-dialog[_ngcontent-%COMP%]{width:100%;max-width:480px;margin:1.75rem;transform:translateY(-20px);transition:transform .3s cubic-bezier(.34,1.56,.64,1)}.modal.show[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:translateY(0)}.modal-content[_ngcontent-%COMP%]{background:#fffffff2;border-radius:24px;box-shadow:0 20px 40px #0003,0 0 0 1px #ffffff1a;overflow:hidden;position:relative}.modal-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#2c3e50,#34495e)}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2c3e50,#34495e);padding:1.75rem;border:none;position:relative;overflow:hidden}.modal-header[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 60%);animation:_ngcontent-%COMP%_shimmer 15s infinite linear}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.modal-title[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;font-weight:600;margin:0;display:flex;align-items:center;gap:12px;position:relative;z-index:1}.modal-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.4em;color:#ffffffe6}.btn-close[_ngcontent-%COMP%]{position:absolute;right:1.5rem;top:50%;transform:translateY(-50%);background:#ffffff1a;border:none;width:36px;height:36px;border-radius:50%;color:#fff;font-size:1.2rem;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;z-index:1}.btn-close[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-50%) rotate(90deg)}.modal-body[_ngcontent-%COMP%]{padding:2rem}.modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.75rem}.modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.75rem;color:#2c3e50;font-weight:600;font-size:.95rem}.modal[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{position:relative;border:2px solid #e2e8f0;border-radius:12px;transition:all .3s ease;background:#fff}.modal[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]:focus-within{border-color:#2c3e50;box-shadow:0 0 0 4px #2c3e501a}.modal[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem .875rem 3rem;border:none;background:transparent;font-size:1rem;color:#2c3e50;border-radius:12px}.modal[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.modal[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#64748b;font-size:1.25rem;pointer-events:none}.modal[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-radius:12px;margin-bottom:1.5rem;display:flex;align-items:flex-start;gap:12px;animation:_ngcontent-%COMP%_alertSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_alertSlideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.modal[_ngcontent-%COMP%]   .alert-success[_ngcontent-%COMP%]{background:#22c55e1a;border:1px solid rgba(34,197,94,.2);color:#15803d}.modal[_ngcontent-%COMP%]   .alert-danger[_ngcontent-%COMP%]{background:#ef44441a;border:1px solid rgba(239,68,68,.2);color:#b91c1c}.modal[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;margin-top:.125rem}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem 2rem;background:#f8fafc;border-top:1px solid #e2e8f0;display:flex;justify-content:flex-end;gap:12px}.modal[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:12px;font-weight:600;font-size:.95rem;display:flex;align-items:center;gap:8px;transition:all .2s ease}.modal[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.modal[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569;border:1px solid #e2e8f0}.modal[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e2e8f0;color:#334155}.modal[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2c3e50,#34495e);color:#fff;border:none;position:relative;overflow:hidden}.modal[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#fff0,#ffffff1a,#fff0);transform:translate(-100%);transition:transform .6s ease}.modal[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled):after{transform:translate(100%)}.modal[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 12px #2c3e5033}.modal[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.modal[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;border:.2em solid rgba(255,255,255,.9);border-right-color:transparent;border-radius:50%;animation:_ngcontent-%COMP%_spinner-border .75s linear infinite}@keyframes _ngcontent-%COMP%_spinner-border{to{transform:rotate(360deg)}}@media (max-width: 576px){.modal-dialog[_ngcontent-%COMP%]{margin:1rem}.modal-header[_ngcontent-%COMP%]{padding:1.25rem}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-footer[_ngcontent-%COMP%]{padding:1.25rem;flex-direction:column-reverse}.modal[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}.sound-toggle-btn[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:45px;height:45px;border-radius:50%;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);cursor:pointer;z-index:1000;transition:all .3s ease;display:flex;align-items:center;justify-content:center;color:#fff;box-shadow:0 4px 6px #0000001a}.sound-toggle-btn[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.05)}.sound-toggle-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.sound-toggle-btn.unmuted[_ngcontent-%COMP%]{background:linear-gradient(45deg,#2c3e50,#34495e);border-color:#ffffff4d}.sound-icon[_ngcontent-%COMP%]{font-size:1.2rem}']})};function Ae(t,r){t&1&&p(0,"span",23)}function Re(t,r){if(t&1&&(o(0,"div",24),a(1),i()),t&2){let n=h();s(),w(" ",n.errorMessage," ")}}function Te(t,r){if(t&1&&(o(0,"div",25),a(1),i()),t&2){let n=h();s(),w(" ",n.successMessage," ")}}var D=class t{constructor(r,n){this.authService=r;this.router=n}currentPassword="";newPassword="";confirmPassword="";isLoading=!1;errorMessage="";successMessage="";showCurrentPassword=!1;showNewPassword=!1;ngOnInit(){}validateForm(){return!this.currentPassword||!this.newPassword||!this.confirmPassword?(this.errorMessage="All fields are required",!1):this.newPassword!==this.confirmPassword?(this.errorMessage="New password and confirmation do not match",!1):this.newPassword.length<8?(this.errorMessage="New password must be at least 8 characters long",!1):!0}onSubmit(){let r=this.authService.userId;if(!r){this.errorMessage="User ID not found. Please try logging in again.";return}console.log(r),this.isLoading=!0,this.errorMessage="",this.successMessage="",this.authService.changePassword({userId:r,currentPassword:this.currentPassword,newPassword:this.newPassword}).subscribe({next:n=>{this.successMessage=n.message||"Password changed successfully",this.isLoading=!1,this.currentPassword="",this.newPassword="",this.confirmPassword="",setTimeout(()=>{this.router.navigate(["/admin"])},2e3)},error:n=>{this.isLoading=!1,this.errorMessage=n.error?.message||"Failed to change password. Please try again."}})}logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||t)(P(b),P(O))};static \u0275cmp=v({type:t,selectors:[["app-changepwd"]],standalone:!1,decls:39,vars:12,consts:[["passwordForm","ngForm"],[1,"navbar","navbar-dark","bg-dark","shadow-lg"],[1,"container"],[1,"navbar-brand"],["src","https://iili.io/2gvDOlt.th.png","width","60","height","60",1,"d-inline-block","align-text-top"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-sign-out-alt","me-2"],[1,"main-container"],[1,"change-password-card"],[1,"card-header"],[1,"security-notice"],[3,"ngSubmit"],[1,"form-group"],[1,"form-label"],[1,"input-group"],["name","currentPassword","required","",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",1,"toggle-password",3,"click"],["name","newPassword","required","",1,"form-control",3,"ngModelChange","type","ngModel"],[1,"btn-container"],["type","submit",1,"btn-submit",3,"disabled"],["class","spinner-border spinner",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"spinner-border","spinner"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(n,e){if(n&1){let d=k();o(0,"nav",1)(1,"div",2)(2,"a",3),p(3,"img",4),i(),o(4,"button",5),u("click",function(){return g(d),f(e.logout())}),p(5,"i",6),a(6," Logout "),i()()(),o(7,"div",7)(8,"div",8)(9,"div",9)(10,"h2"),a(11,"Change Password"),i()(),o(12,"div",10)(13,"h3"),a(14,"Security Update"),i(),o(15,"p"),a(16,"To enhance the security of your account, please change your password. Choose a strong password that you haven't used before."),i()(),o(17,"form",11,0),u("ngSubmit",function(){return g(d),f(e.onSubmit())}),o(19,"div",12)(20,"label",13),a(21,"Current Password"),i(),o(22,"div",14)(23,"input",15),M("ngModelChange",function(c){return g(d),C(e.currentPassword,c)||(e.currentPassword=c),f(c)}),i(),o(24,"button",16),u("click",function(){return g(d),f(e.showCurrentPassword=!e.showCurrentPassword)}),p(25,"i"),i()()(),o(26,"div",12)(27,"label",13),a(28,"New Password"),i(),o(29,"div",14)(30,"input",17),M("ngModelChange",function(c){return g(d),C(e.newPassword,c)||(e.newPassword=c),f(c)}),i(),o(31,"button",16),u("click",function(){return g(d),f(e.showNewPassword=!e.showNewPassword)}),p(32,"i"),i()()(),o(33,"div",18)(34,"button",19),_(35,Ae,1,0,"span",20),a(36," Change Password "),i()(),_(37,Re,2,1,"div",21)(38,Te,2,1,"div",22),i()()()}if(n&2){let d=S(18);s(23),l("type",e.showCurrentPassword?"text":"password"),x("ngModel",e.currentPassword),s(2),Q(e.showCurrentPassword?"fas fa-eye-slash":"fas fa-eye"),s(5),l("type",e.showNewPassword?"text":"password"),x("ngModel",e.newPassword),s(2),Q(e.showNewPassword?"fas fa-eye-slash":"fas fa-eye"),s(2),l("disabled",!d.form.valid||e.isLoading),s(),l("ngIf",e.isLoading),s(2),l("ngIf",e.errorMessage),s(),l("ngIf",e.successMessage)}},dependencies:[R,N,T,L,V,j,z,F],styles:[".main-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f5f5f5;display:flex;align-items:center;justify-content:center;padding:20px}.change-password-card[_ngcontent-%COMP%]{background:#fff;width:100%;max-width:800px;padding:40px;border-radius:10px;box-shadow:0 2px 6px #0000001a}.card-header[_ngcontent-%COMP%]{margin-bottom:30px;text-align:center}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;font-size:24px;font-weight:500;margin:0}.form-group[_ngcontent-%COMP%]{margin-bottom:25px}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#555;font-weight:500}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #ddd;border-radius:5px;overflow:hidden}.input-group[_ngcontent-%COMP%]:focus-within{border-color:#007bff}.form-control[_ngcontent-%COMP%]{flex:1;padding:12px 15px;border:none;outline:none;font-size:16px}.toggle-password[_ngcontent-%COMP%]{padding:12px 15px;background:none;border:none;border-left:1px solid #ddd;cursor:pointer;color:#666}.toggle-password[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.security-notice[_ngcontent-%COMP%]{background-color:#f8f9fa;border-left:4px solid #007bff;padding:15px 20px;margin-bottom:30px}.security-notice[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:16px;margin-bottom:8px;font-weight:500}.security-notice[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0;font-size:14px;line-height:1.5}.btn-container[_ngcontent-%COMP%]{margin-top:30px}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#007bff;color:#fff;border:none;border-radius:5px;font-size:16px;font-weight:500;cursor:pointer;transition:background-color .2s}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-submit[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.alert[_ngcontent-%COMP%]{margin-top:20px;padding:12px 15px;border-radius:5px;font-size:14px}.alert-danger[_ngcontent-%COMP%]{background-color:#fff2f2;border:1px solid #ffcdd2;color:#d32f2f}.alert-success[_ngcontent-%COMP%]{background-color:#f1f8e9;border:1px solid #dcedc8;color:#689f38}.spinner[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:10px}@media (max-width: 768px){.change-password-card[_ngcontent-%COMP%]{padding:20px}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%], .btn-submit[_ngcontent-%COMP%]{font-size:14px}}"]})};var W=class t{constructor(r,n){this.authService=r;this.router=n}canActivate(r){return this.authService.forcePasswordChange&&!r.routeConfig?.path?.includes("changepwd")?(this.router.navigate(["/admin/changepwd"]),!1):!0}static \u0275fac=function(n){return new(n||t)(G(b),G(O))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};var Le=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Y},{path:"changepwd",component:D,canActivate:[W]},{path:"admin",loadChildren:()=>import("./chunk-W2RSKOWF.js").then(t=>t.AdminModule)}],H=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=A({type:t});static \u0275inj=I({imports:[J.forRoot(Le),J]})};var B=class t{title="smartv";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v({type:t,selectors:[["app-root"]],standalone:!1,decls:1,vars:0,template:function(n,e){n&1&&p(0,"router-outlet")},dependencies:[pe],encapsulation:2})};var q=class t{intercept(r,n){let e=null;return typeof window<"u"&&window.sessionStorage&&(e=sessionStorage.getItem("authToken")),e&&(r=r.clone({setHeaders:{Authorization:`Bearer ${e}`}})),n.handle(r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ve={url:ce.baseUrl,options:{transports:["websocket"],autoConnect:!0,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}},U=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=A({type:t,bootstrap:[B]});static \u0275inj=I({providers:[ie(re()),le(de()),he,b,{provide:oe,useClass:q,multi:!0}],imports:[se,H,fe,me.forRoot(Ve),ue]})};ae().bootstrapModule(U,{ngZoneEventCoalescing:!0}).catch(t=>console.error(t));
