import './polyfills.server.mjs';
import{$ as yn,$a as Se,Ab as Un,B as Me,Bb as Nn,C as l,Cb as L,D as x,Db as jn,Ea as Pe,Fa as j,Fb as Fn,G as T,Ga as D,Gb as Bn,H as lt,Ha as oe,Hb as Rn,I as v,Ia as Pn,Ib as zn,Ja as Sn,Jb as Wn,Kb as qn,La as On,Lb as $n,O as Ge,P as c,Q as Ee,R as se,S as Ht,T as a,Ta as kn,U as o,V as p,W as dt,X as ct,Y as S,Z as b,_ as u,a as Wt,aa as ve,ab as An,ba as s,c as qt,ca as k,cb as V,d as $t,da as w,db as ut,e as Yt,ea as ue,eb as In,fa as C,fb as Ke,g as wn,ga as y,h as st,ha as M,hb as pe,ia as mt,ib as pt,j as _n,ja as Ze,jb as F,ka as R,kb as Te,la as Y,lb as B,ma as Qt,mb as W,nb as H,o as f,ob as q,p as h,pb as $,qb as gt,r as xn,ra as Mn,rb as En,sb as Tn,tb as Q,ub as G,v as Cn,vb as Z,wb as Dn,xb as K,yb as Vn,zb as Ln}from"./chunk-DOQXLFL2.mjs";import{a as J,b as Fe,i as Ie}from"./chunk-AFOT676I.mjs";var to=()=>["/admin/profile"];function no(n,e){n&1&&(a(0,"li",12)(1,"a",35),p(2,"i",36),s(3," Users "),o(),a(4,"ul",37)(5,"li")(6,"a",38),p(7,"i",17),s(8," Users List "),o()(),a(9,"li")(10,"a",39),p(11,"i",40),s(12," Add User "),o()()()())}var ft=class n{constructor(e,t){this.route=e;this.authService=t}logout(){sessionStorage.clear(),localStorage.clear(),this.route.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(x(V),x(pe))};static \u0275cmp=T({type:n,selectors:[["app-navbar"]],standalone:!1,decls:60,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","shadow-lg","sticky-top"],[1,"container"],["routerLink","/",1,"navbar-brand"],["src","https://iili.io/2gvDOlt.th.png","width","60","height","60",1,"d-inline-block","align-text-top","brand-logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["routerLink","/admin","routerLinkActive","active-link",1,"nav-link"],[1,"fas","fa-home","me-2"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropdown"],["href","#","id","advertisementDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-bullhorn","me-2"],["aria-labelledby","advertisementDropdown",1,"dropdown-menu","shadow-lg"],["routerLink","/admin/ads","routerLinkActive","active-link",1,"dropdown-item"],[1,"fas","fa-list","me-2"],["routerLink","/admin/newAds","routerLinkActive","active-link",1,"dropdown-item"],[1,"fas","fa-plus-circle","me-2"],["routerLink","/admin/archivedAds","routerLinkActive","active-link",1,"dropdown-item"],[1,"fas","fa-archive","me-2"],["href","#","id","devicesDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-tablet-alt","me-2"],["aria-labelledby","devicesDropdown",1,"dropdown-menu","shadow-lg"],["routerLink","/admin/Devices","routerLinkActive","active-link",1,"dropdown-item"],["routerLink","/admin/addDevices","routerLinkActive","active-link",1,"dropdown-item"],["routerLink","/admin/archivedDevices","routerLinkActive","active-link",1,"dropdown-item"],["href","#","id","profileDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-user-circle","me-2"],["aria-labelledby","profileDropdown",1,"dropdown-menu","shadow-lg"],["routerLinkActive","active-link",1,"dropdown-item",3,"routerLink"],[1,"fas","fa-id-card","me-2"],[1,"btn","btn-glow","ms-3",3,"click"],[1,"fas","fa-sign-out-alt","me-2"],["href","#","id","usersDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-users","me-2"],["aria-labelledby","usersDropdown",1,"dropdown-menu","shadow-lg"],["routerLink","/admin/users","routerLinkActive","active-link",1,"dropdown-item"],["routerLink","/admin/addUser","routerLinkActive","active-link",1,"dropdown-item"],[1,"fas","fa-user-plus","me-2"]],template:function(t,i){t&1&&(a(0,"nav",0)(1,"div",1)(2,"a",2),p(3,"img",3),o(),a(4,"button",4),p(5,"span",5),o(),a(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),p(10,"i",10),s(11," Accueil "),o()(),v(12,no,13,0,"li",11),a(13,"li",12)(14,"a",13),p(15,"i",14),s(16," Advertisement "),o(),a(17,"ul",15)(18,"li")(19,"a",16),p(20,"i",17),s(21," Advertisement List "),o()(),a(22,"li")(23,"a",18),p(24,"i",19),s(25," Add Advertisement "),o()(),a(26,"li")(27,"a",20),p(28,"i",21),s(29," View Archived "),o()()()(),a(30,"li",12)(31,"a",22),p(32,"i",23),s(33," Devices "),o(),a(34,"ul",24)(35,"li")(36,"a",25),p(37,"i",17),s(38," Device List "),o()(),a(39,"li")(40,"a",26),p(41,"i",19),s(42," Add Device "),o()(),a(43,"li")(44,"a",27),p(45,"i",21),s(46," View Archived "),o()()()(),a(47,"li",12)(48,"a",28),p(49,"i",29),s(50," Profile "),o(),a(51,"ul",30)(52,"li")(53,"a",31),p(54,"i",32),s(55," View Profile "),o()()()(),a(56,"li",8)(57,"a",33),b("click",function(){return i.logout()}),p(58,"i",34),s(59," Logout "),o()()()()()()),t&2&&(l(12),c("ngIf",i.authService.isAdmin),l(41),c("routerLink",mt(2,to)))},dependencies:[D,ut,In],styles:['.navbar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1c1e,#2d3436);box-shadow:0 4px 20px #0003;padding:1rem 0;border-bottom:1px solid rgba(255,255,255,.1)}.navbar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;font-size:1.6rem;font-weight:700;color:#fff;text-transform:uppercase;letter-spacing:1px;transition:all .3s ease}.navbar-brand[_ngcontent-%COMP%]:hover{color:#00e5ff;transform:translateY(-1px)}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500;color:#ffffffe6;padding:.5rem 1rem;margin:0 .2rem;border-radius:6px;transition:all .3s ease}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;margin-right:.5rem;color:#00e5ff;transition:all .3s ease}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#00e5ff;background:#00e5ff1a}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translateY(-2px)}.dropdown-menu[_ngcontent-%COMP%]{background:#2d3436;border:1px solid rgba(255,255,255,.1);border-radius:8px;margin-top:.5rem;box-shadow:0 4px 20px #0000004d;padding:.5rem}.dropdown-item[_ngcontent-%COMP%]{color:#ffffffe6;padding:.7rem 1rem;border-radius:6px;transition:all .3s ease}.dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00e5ff;margin-right:.5rem}.dropdown-item[_ngcontent-%COMP%]:hover{background:#00e5ff1a;color:#00e5ff}.active-link[_ngcontent-%COMP%]{color:#00e5ff!important;background:#00e5ff1a;position:relative}.active-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:30%;height:2px;background:#00e5ff;border-radius:2px}.btn-glow[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff4757,#ff6b81);color:#fff;border:none;padding:.7rem 1.5rem;border-radius:50px;font-weight:600;letter-spacing:.5px;box-shadow:0 4px 15px #ff47574d;transition:all .3s ease}.btn-glow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;transition:all .3s ease}.btn-glow[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff6b81,#ff4757);transform:translateY(-2px);box-shadow:0 6px 20px #ff475766}.btn-glow[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:rotate(180deg)}@media (max-width: 991px){.navbar-nav[_ngcontent-%COMP%]{padding:1rem 0}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.8rem 1rem;margin:.2rem 0}.btn-glow[_ngcontent-%COMP%]{margin-top:1rem;width:100%;text-align:center}.dropdown-menu[_ngcontent-%COMP%]{background:#2d3436f2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}}']})};var ht=class n{constructor(e){this.router=e}ngOnInit(){this.checkAuthentication()}checkAuthentication(){sessionStorage.getItem("authToken")||this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(x(V))};static \u0275cmp=T({type:n,selectors:[["app-admin"]],standalone:!1,decls:2,vars:0,template:function(t,i){t&1&&p(0,"app-navbar")(1,"router-outlet")},dependencies:[An,ft],encapsulation:2})};function oi(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function oo(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yn(n,e){return n.get(oi(n,e))}function ro(n,e,t){oo(n,e),e.set(n,t)}function ao(n,e,t){return n.set(oi(n,e),t),t}var so=100,P={},lo=()=>{P.previousActiveElement instanceof HTMLElement?(P.previousActiveElement.focus(),P.previousActiveElement=null):document.body&&document.body.focus()},co=n=>new Promise(e=>{if(!n)return e();let t=window.scrollX,i=window.scrollY;P.restoreFocusTimeout=setTimeout(()=>{lo(),e()},so),window.scrollTo(t,i)}),ri="swal2-",mo=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],g=mo.reduce((n,e)=>(n[e]=ri+e,n),{}),uo=["success","warning","info","question","error"],vt=uo.reduce((n,e)=>(n[e]=ri+e,n),{}),ai="SweetAlert2:",nn=n=>n.charAt(0).toUpperCase()+n.slice(1),ne=n=>{console.warn(`${ai} ${typeof n=="object"?n.join(" "):n}`)},Ne=n=>{console.error(`${ai} ${n}`)},Hn=[],po=n=>{Hn.includes(n)||(Hn.push(n),ne(n))},si=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;po(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Ot=n=>typeof n=="function"?n():n,on=n=>n&&typeof n.toPromise=="function",Je=n=>on(n)?n.toPromise():Promise.resolve(n),rn=n=>n&&Promise.resolve(n)===n,ie=()=>document.body.querySelector(`.${g.container}`),et=n=>{let e=ie();return e?e.querySelector(n):null},ce=n=>et(`.${n}`),I=()=>ce(g.popup),qe=()=>ce(g.icon),go=()=>ce(g["icon-content"]),li=()=>ce(g.title),an=()=>ce(g["html-container"]),di=()=>ce(g.image),sn=()=>ce(g["progress-steps"]),kt=()=>ce(g["validation-message"]),xe=()=>et(`.${g.actions} .${g.confirm}`),$e=()=>et(`.${g.actions} .${g.cancel}`),je=()=>et(`.${g.actions} .${g.deny}`),fo=()=>ce(g["input-label"]),Ye=()=>et(`.${g.loader}`),tt=()=>ce(g.actions),ci=()=>ce(g.footer),At=()=>ce(g["timer-progress-bar"]),ln=()=>ce(g.close),ho=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,dn=()=>{let n=I();if(!n)return[];let e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((d,m)=>{let _=parseInt(d.getAttribute("tabindex")||"0"),O=parseInt(m.getAttribute("tabindex")||"0");return _>O?1:_<O?-1:0}),i=n.querySelectorAll(ho),r=Array.from(i).filter(d=>d.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(r))].filter(d=>re(d))},cn=()=>ye(document.body,g.shown)&&!ye(document.body,g["toast-shown"])&&!ye(document.body,g["no-backdrop"]),It=()=>{let n=I();return n?ye(n,g.toast):!1},bo=()=>{let n=I();return n?n.hasAttribute("data-loading"):!1},me=(n,e)=>{if(n.textContent="",e){let i=new DOMParser().parseFromString(e,"text/html"),r=i.querySelector("head");r&&Array.from(r.childNodes).forEach(m=>{n.appendChild(m)});let d=i.querySelector("body");d&&Array.from(d.childNodes).forEach(m=>{m instanceof HTMLVideoElement||m instanceof HTMLAudioElement?n.appendChild(m.cloneNode(!0)):n.appendChild(m)})}},ye=(n,e)=>{if(!e)return!1;let t=e.split(/\s+/);for(let i=0;i<t.length;i++)if(!n.classList.contains(t[i]))return!1;return!0},vo=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(g).includes(t)&&!Object.values(vt).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},de=(n,e,t)=>{if(vo(n,e),!e.customClass)return;let i=e.customClass[t];if(i){if(typeof i!="string"&&!i.forEach){ne(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof i}"`);return}E(n,i)}},Et=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${g.popup} > .${g[e]}`);case"checkbox":return n.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return n.querySelector(`.${g.popup} > .${g.radio} input:checked`)||n.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return n.querySelector(`.${g.popup} > .${g.range} input`);default:return n.querySelector(`.${g.popup} > .${g.input}`)}},mi=n=>{if(n.focus(),n.type!=="file"){let e=n.value;n.value="",n.value=e}},ui=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(n)?n.forEach(r=>{t?r.classList.add(i):r.classList.remove(i)}):t?n.classList.add(i):n.classList.remove(i)}))},E=(n,e)=>{ui(n,e,!0)},he=(n,e)=>{ui(n,e,!1)},Oe=(n,e)=>{let t=Array.from(n.children);for(let i=0;i<t.length;i++){let r=t[i];if(r instanceof HTMLElement&&ye(r,e))return r}},Ve=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},X=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";n&&(n.style.display=e)},te=n=>{n&&(n.style.display="none")},mn=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";n&&new MutationObserver(()=>{nt(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},Qn=(n,e,t,i)=>{let r=n.querySelector(e);r&&r.style.setProperty(t,i)},nt=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?X(n,t):te(n)},re=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),wo=()=>!re(xe())&&!re(je())&&!re($e()),Gn=n=>n.scrollHeight>n.clientHeight,pi=n=>{let e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||i>0},un=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=At();t&&re(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},_o=()=>{let n=At();if(!n)return;let e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";let t=parseInt(window.getComputedStyle(n).width),i=e/t*100;n.style.width=`${i}%`},xo=()=>typeof window>"u"||typeof document>"u",Co=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),yo=()=>{let n=ie();return n?(n.remove(),he([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},De=()=>{P.currentInstance.resetValidationMessage()},Mo=()=>{let n=I(),e=Oe(n,g.input),t=Oe(n,g.file),i=n.querySelector(`.${g.range} input`),r=n.querySelector(`.${g.range} output`),d=Oe(n,g.select),m=n.querySelector(`.${g.checkbox} input`),_=Oe(n,g.textarea);e.oninput=De,t.onchange=De,d.onchange=De,m.onchange=De,_.oninput=De,i.oninput=()=>{De(),r.value=i.value},i.onchange=()=>{De(),r.value=i.value}},Po=n=>typeof n=="string"?document.querySelector(n):n,So=n=>{let e=I();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},Oo=n=>{window.getComputedStyle(n).direction==="rtl"&&E(ie(),g.rtl)},ko=n=>{let e=yo();if(xo()){Ne("SweetAlert2 requires document to initialize");return}let t=document.createElement("div");t.className=g.container,e&&E(t,g["no-transition"]),me(t,Co),t.dataset.swal2Theme=n.theme;let i=Po(n.target);i.appendChild(t),So(n),Oo(i),Mo()},pn=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?Ao(n,e):n&&me(e,n)},Ao=(n,e)=>{n.jquery?Io(e,n):me(e,n.toString())},Io=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},Eo=(n,e)=>{let t=tt(),i=Ye();!t||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?te(t):X(t),de(t,e,"actions"),To(t,i,e),me(i,e.loaderHtml||""),de(i,e,"loader"))};function To(n,e,t){let i=xe(),r=je(),d=$e();!i||!r||!d||(Zt(i,"confirm",t),Zt(r,"deny",t),Zt(d,"cancel",t),Do(i,r,d,t),t.reverseButtons&&(t.toast?(n.insertBefore(d,i),n.insertBefore(r,i)):(n.insertBefore(d,e),n.insertBefore(r,e),n.insertBefore(i,e))))}function Do(n,e,t,i){if(!i.buttonsStyling){he([n,e,t],g.styled);return}E([n,e,t],g.styled),i.confirmButtonColor&&n.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),Gt(n),Gt(e),Gt(t)}function Gt(n){let e=window.getComputedStyle(n),t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");n.style.setProperty("--swal2-action-button-outline",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function Zt(n,e,t){let i=nn(e);nt(n,t[`show${i}Button`],"inline-block"),me(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=g[e],de(n,t,`${e}Button`)}var Vo=(n,e)=>{let t=ln();t&&(me(t,e.closeButtonHtml||""),de(t,e,"closeButton"),nt(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},Lo=(n,e)=>{let t=ie();t&&(Uo(t,e.backdrop),No(t,e.position),jo(t,e.grow),de(t,e,"container"))};function Uo(n,e){typeof e=="string"?n.style.background=e:e||E([document.documentElement,document.body],g["no-backdrop"])}function No(n,e){e&&(e in g?E(n,g[e]):(ne('The "position" parameter is not valid, defaulting to "center"'),E(n,g.center)))}function jo(n,e){e&&E(n,g[`grow-${e}`])}var U={innerParams:new WeakMap,domCache:new WeakMap},Fo=["input","file","range","select","radio","checkbox","textarea"],Bo=(n,e)=>{let t=I();if(!t)return;let i=U.innerParams.get(n),r=!i||e.input!==i.input;Fo.forEach(d=>{let m=Oe(t,g[d]);m&&(Wo(d,e.inputAttributes),m.className=g[d],r&&te(m))}),e.input&&(r&&Ro(e),qo(e))},Ro=n=>{if(!n.input)return;if(!z[n.input]){Ne(`Unexpected type of input! Expected ${Object.keys(z).join(" | ")}, got "${n.input}"`);return}let e=gi(n.input);if(!e)return;let t=z[n.input](e,n);X(e),n.inputAutoFocus&&setTimeout(()=>{mi(t)})},zo=n=>{for(let e=0;e<n.attributes.length;e++){let t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},Wo=(n,e)=>{let t=I();if(!t)return;let i=Et(t,n);if(i){zo(i);for(let r in e)i.setAttribute(r,e[r])}},qo=n=>{if(!n.input)return;let e=gi(n.input);e&&de(e,n,"input")},gn=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},it=(n,e,t)=>{if(t.inputLabel){let i=document.createElement("label"),r=g["input-label"];i.setAttribute("for",n.id),i.className=r,typeof t.customClass=="object"&&E(i,t.customClass.inputLabel),i.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",i)}},gi=n=>{let e=I();if(e)return Oe(e,g[n]||g.input)},wt=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:rn(e)||ne(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},z={};z.text=z.email=z.password=z.number=z.tel=z.url=z.search=z.date=z["datetime-local"]=z.time=z.week=z.month=(n,e)=>(wt(n,e.inputValue),it(n,n,e),gn(n,e),n.type=e.input,n);z.file=(n,e)=>(it(n,n,e),gn(n,e),n);z.range=(n,e)=>{let t=n.querySelector("input"),i=n.querySelector("output");return wt(t,e.inputValue),t.type=e.input,wt(i,e.inputValue),it(t,n,e),n};z.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){let t=document.createElement("option");me(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return it(n,n,e),n};z.radio=n=>(n.textContent="",n);z.checkbox=(n,e)=>{let t=Et(I(),"checkbox");t.value="1",t.checked=!!e.inputValue;let i=n.querySelector("span");return me(i,e.inputPlaceholder||e.inputLabel),t};z.textarea=(n,e)=>{wt(n,e.inputValue),gn(n,e),it(n,n,e);let t=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let i=parseInt(window.getComputedStyle(I()).width),r=()=>{if(!document.body.contains(n))return;let d=n.offsetWidth+t(n);d>i?I().style.width=`${d}px`:Ve(I(),"width",e.width)};new MutationObserver(r).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};var $o=(n,e)=>{let t=an();t&&(mn(t),de(t,e,"htmlContainer"),e.html?(pn(e.html,t),X(t,"block")):e.text?(t.textContent=e.text,X(t,"block")):te(t),Bo(n,e))},Yo=(n,e)=>{let t=ci();t&&(mn(t),nt(t,e.footer,"block"),e.footer&&pn(e.footer,t),de(t,e,"footer"))},Ho=(n,e)=>{let t=U.innerParams.get(n),i=qe();if(!i)return;if(t&&e.icon===t.icon){Kn(i,e),Zn(i,e);return}if(!e.icon&&!e.iconHtml){te(i);return}if(e.icon&&Object.keys(vt).indexOf(e.icon)===-1){Ne(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),te(i);return}X(i),Kn(i,e),Zn(i,e),E(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",fi)},Zn=(n,e)=>{for(let[t,i]of Object.entries(vt))e.icon!==t&&he(n,i);E(n,e.icon&&vt[e.icon]),Zo(n,e),fi(),de(n,e,"icon")},fi=()=>{let n=I();if(!n)return;let e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<t.length;i++)t[i].style.backgroundColor=e},Qo=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Go=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Kn=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,i="";e.iconHtml?i=Xn(e.iconHtml):e.icon==="success"?(i=Qo,t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?i=Go:e.icon&&(i=Xn({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==i.trim()&&me(n,i)},Zo=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(let t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Qn(n,t,"background-color",e.iconColor);Qn(n,".swal2-success-ring","border-color",e.iconColor)}},Xn=n=>`<div class="${g["icon-content"]}">${n}</div>`,Ko=(n,e)=>{let t=di();if(t){if(!e.imageUrl){te(t);return}X(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),Ve(t,"width",e.imageWidth),Ve(t,"height",e.imageHeight),t.className=g.image,de(t,e,"image")}},fn=!1,hi=0,bi=0,vi=0,wi=0,Xo=n=>{n.addEventListener("mousedown",_t),document.body.addEventListener("mousemove",xt),n.addEventListener("mouseup",Ct),n.addEventListener("touchstart",_t),document.body.addEventListener("touchmove",xt),n.addEventListener("touchend",Ct)},Jo=n=>{n.removeEventListener("mousedown",_t),document.body.removeEventListener("mousemove",xt),n.removeEventListener("mouseup",Ct),n.removeEventListener("touchstart",_t),document.body.removeEventListener("touchmove",xt),n.removeEventListener("touchend",Ct)},_t=n=>{let e=I();if(n.target===e||qe().contains(n.target)){fn=!0;let t=_i(n);hi=t.clientX,bi=t.clientY,vi=parseInt(e.style.insetInlineStart)||0,wi=parseInt(e.style.insetBlockStart)||0,E(e,"swal2-dragging")}},xt=n=>{let e=I();if(fn){let{clientX:t,clientY:i}=_i(n);e.style.insetInlineStart=`${vi+(t-hi)}px`,e.style.insetBlockStart=`${wi+(i-bi)}px`}},Ct=()=>{let n=I();fn=!1,he(n,"swal2-dragging")},_i=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},er=(n,e)=>{let t=ie(),i=I();if(!(!t||!i)){if(e.toast){Ve(t,"width",e.width),i.style.width="100%";let r=Ye();r&&i.insertBefore(r,qe())}else Ve(i,"width",e.width);Ve(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),te(kt()),tr(i,e),e.draggable&&!e.toast?(E(i,g.draggable),Xo(i)):(he(i,g.draggable),Jo(i))}},tr=(n,e)=>{let t=e.showClass||{};n.className=`${g.popup} ${re(n)?t.popup:""}`,e.toast?(E([document.documentElement,document.body],g["toast-shown"]),E(n,g.toast)):E(n,g.modal),de(n,e,"popup"),typeof e.customClass=="string"&&E(n,e.customClass),e.icon&&E(n,g[`icon-${e.icon}`])},nr=(n,e)=>{let t=sn();if(!t)return;let{progressSteps:i,currentProgressStep:r}=e;if(!i||i.length===0||r===void 0){te(t);return}X(t),t.textContent="",r>=i.length&&ne("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((d,m)=>{let _=ir(d);if(t.appendChild(_),m===r&&E(_,g["active-progress-step"]),m!==i.length-1){let O=or(e);t.appendChild(O)}})},ir=n=>{let e=document.createElement("li");return E(e,g["progress-step"]),me(e,n),e},or=n=>{let e=document.createElement("li");return E(e,g["progress-step-line"]),n.progressStepsDistance&&Ve(e,"width",n.progressStepsDistance),e},rr=(n,e)=>{let t=li();t&&(mn(t),nt(t,e.title||e.titleText,"block"),e.title&&pn(e.title,t),e.titleText&&(t.innerText=e.titleText),de(t,e,"title"))},xi=(n,e)=>{er(n,e),Lo(n,e),nr(n,e),Ho(n,e),Ko(n,e),rr(n,e),Vo(n,e),$o(n,e),Eo(n,e),Yo(n,e);let t=I();typeof e.didRender=="function"&&t&&e.didRender(t),P.eventEmitter.emit("didRender",t)},ar=()=>re(I()),Ci=()=>{var n;return(n=xe())===null||n===void 0?void 0:n.click()},sr=()=>{var n;return(n=je())===null||n===void 0?void 0:n.click()},lr=()=>{var n;return(n=$e())===null||n===void 0?void 0:n.click()},He=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),yi=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},dr=(n,e,t)=>{yi(n),e.toast||(n.keydownHandler=i=>mr(e,i,t),n.keydownTarget=e.keydownListenerCapture?window:I(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},Xt=(n,e)=>{var t;let i=dn();if(i.length){n=n+e,n===-2&&(n=i.length-1),n===i.length?n=0:n===-1&&(n=i.length-1),i[n].focus();return}(t=I())===null||t===void 0||t.focus()},Mi=["ArrowRight","ArrowDown"],cr=["ArrowLeft","ArrowUp"],mr=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?ur(e,n):e.key==="Tab"?pr(e):[...Mi,...cr].includes(e.key)?gr(e.key):e.key==="Escape"&&fr(e,n,t)))},ur=(n,e)=>{if(!Ot(e.allowEnterKey))return;let t=Et(I(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;Ci(),n.preventDefault()}},pr=n=>{let e=n.target,t=dn(),i=-1;for(let r=0;r<t.length;r++)if(e===t[r]){i=r;break}n.shiftKey?Xt(i,-1):Xt(i,1),n.stopPropagation(),n.preventDefault()},gr=n=>{let e=tt(),t=xe(),i=je(),r=$e();if(!e||!t||!i||!r)return;let d=[t,i,r];if(document.activeElement instanceof HTMLElement&&!d.includes(document.activeElement))return;let m=Mi.includes(n)?"nextElementSibling":"previousElementSibling",_=document.activeElement;if(_){for(let O=0;O<e.children.length;O++){if(_=_[m],!_)return;if(_ instanceof HTMLButtonElement&&re(_))break}_ instanceof HTMLButtonElement&&_.focus()}},fr=(n,e,t)=>{Ot(e.allowEscapeKey)&&(n.preventDefault(),t(He.esc))},ze={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},hr=()=>{let n=ie();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},Pi=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Si=typeof window<"u"&&!!window.GestureEvent,br=()=>{if(Si&&!ye(document.body,g.iosfix)){let n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,E(document.body,g.iosfix),vr()}},vr=()=>{let n=ie();if(!n)return;let e;n.ontouchstart=t=>{e=wr(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},wr=n=>{let e=n.target,t=ie(),i=an();return!t||!i||_r(n)||xr(n)?!1:e===t||!Gn(t)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Gn(i)&&i.contains(e))},_r=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",xr=n=>n.touches&&n.touches.length>1,Cr=()=>{if(ye(document.body,g.iosfix)){let n=parseInt(document.body.style.top,10);he(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},yr=()=>{let n=document.createElement("div");n.className=g["scrollbar-measure"],document.body.appendChild(n);let e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e},Be=null,Mr=n=>{Be===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(Be=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Be+yr()}px`)},Pr=()=>{Be!==null&&(document.body.style.paddingRight=`${Be}px`,Be=null)};function Oi(n,e,t,i){It()?Jn(n,i):(co(t).then(()=>Jn(n,i)),yi(P)),Si?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),cn()&&(Pr(),Cr(),Pi()),Sr()}function Sr(){he([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function ke(n){n=kr(n);let e=ze.swalPromiseResolve.get(this),t=Or(this);this.isAwaitingPromise?n.isDismissed||(ot(this),e(n)):t&&e(n)}var Or=n=>{let e=I();if(!e)return!1;let t=U.innerParams.get(n);if(!t||ye(e,t.hideClass.popup))return!1;he(e,t.showClass.popup),E(e,t.hideClass.popup);let i=ie();return he(i,t.showClass.backdrop),E(i,t.hideClass.backdrop),Ar(n,e,t),!0};function ki(n){let e=ze.swalPromiseReject.get(this);ot(this),e&&e(n)}var ot=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,U.innerParams.get(n)||n._destroy())},kr=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),Ar=(n,e,t)=>{var i;let r=ie(),d=pi(e);typeof t.willClose=="function"&&t.willClose(e),(i=P.eventEmitter)===null||i===void 0||i.emit("willClose",e),d?Ir(n,e,r,t.returnFocus,t.didClose):Oi(n,r,t.returnFocus,t.didClose)},Ir=(n,e,t,i,r)=>{P.swalCloseEventFinishedCallback=Oi.bind(null,n,t,i,r);let d=function(m){if(m.target===e){var _;(_=P.swalCloseEventFinishedCallback)===null||_===void 0||_.call(P),delete P.swalCloseEventFinishedCallback,e.removeEventListener("animationend",d),e.removeEventListener("transitionend",d)}};e.addEventListener("animationend",d),e.addEventListener("transitionend",d)},Jn=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=P.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},We=n=>{let e=I();if(e||new Ue,e=I(),!e)return;let t=Ye();It()?te(qe()):Er(e,n),X(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Er=(n,e)=>{let t=tt(),i=Ye();!t||!i||(!e&&re(xe())&&(e=xe()),X(t),e&&(te(e),i.setAttribute("data-button-to-replace",e.className),t.insertBefore(i,e)),E([n,t],g.loading))},Tr=(n,e)=>{e.input==="select"||e.input==="radio"?Nr(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(on(e.inputValue)||rn(e.inputValue))&&(We(xe()),jr(n,e))},Dr=(n,e)=>{let t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return Vr(t);case"radio":return Lr(t);case"file":return Ur(t);default:return e.inputAutoTrim?t.value.trim():t.value}},Vr=n=>n.checked?1:0,Lr=n=>n.checked?n.value:null,Ur=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,Nr=(n,e)=>{let t=I();if(!t)return;let i=r=>{e.input==="select"?Fr(t,yt(r),e):e.input==="radio"&&Br(t,yt(r),e)};on(e.inputOptions)||rn(e.inputOptions)?(We(xe()),Je(e.inputOptions).then(r=>{n.hideLoading(),i(r)})):typeof e.inputOptions=="object"?i(e.inputOptions):Ne(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},jr=(n,e)=>{let t=n.getInput();t&&(te(t),Je(e.inputValue).then(i=>{t.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,X(t),t.focus(),n.hideLoading()}).catch(i=>{Ne(`Error in inputValue promise: ${i}`),t.value="",X(t),t.focus(),n.hideLoading()}))};function Fr(n,e,t){let i=Oe(n,g.select);if(!i)return;let r=(d,m,_)=>{let O=document.createElement("option");O.value=_,me(O,m),O.selected=Ai(_,t.inputValue),d.appendChild(O)};e.forEach(d=>{let m=d[0],_=d[1];if(Array.isArray(_)){let O=document.createElement("optgroup");O.label=m,O.disabled=!1,i.appendChild(O),_.forEach(A=>r(O,A[1],A[0]))}else r(i,_,m)}),i.focus()}function Br(n,e,t){let i=Oe(n,g.radio);if(!i)return;e.forEach(d=>{let m=d[0],_=d[1],O=document.createElement("input"),A=document.createElement("label");O.type="radio",O.name=g.radio,O.value=m,Ai(m,t.inputValue)&&(O.checked=!0);let ae=document.createElement("span");me(ae,_),ae.className=g.label,A.appendChild(O),A.appendChild(ae),i.appendChild(A)});let r=i.querySelectorAll("input");r.length&&r[0].focus()}var yt=n=>{let e=[];return n instanceof Map?n.forEach((t,i)=>{let r=t;typeof r=="object"&&(r=yt(r)),e.push([i,r])}):Object.keys(n).forEach(t=>{let i=n[t];typeof i=="object"&&(i=yt(i)),e.push([t,i])}),e},Ai=(n,e)=>!!e&&e.toString()===n.toString(),Rr=n=>{let e=U.innerParams.get(n);n.disableButtons(),e.input?Ii(n,"confirm"):bn(n,!0)},zr=n=>{let e=U.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?Ii(n,"deny"):hn(n,!1)},Wr=(n,e)=>{n.disableButtons(),e(He.cancel)},Ii=(n,e)=>{let t=U.innerParams.get(n);if(!t.input){Ne(`The "input" parameter is needed to be set when using returnInputValueOn${nn(e)}`);return}let i=n.getInput(),r=Dr(n,t);t.inputValidator?qr(n,r,e):i&&!i.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||i.validationMessage)):e==="deny"?hn(n,r):bn(n,r)},qr=(n,e,t)=>{let i=U.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>Je(i.inputValidator(e,i.validationMessage))).then(d=>{n.enableButtons(),n.enableInput(),d?n.showValidationMessage(d):t==="deny"?hn(n,e):bn(n,e)})},hn=(n,e)=>{let t=U.innerParams.get(n||void 0);t.showLoaderOnDeny&&We(je()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>Je(t.preDeny(e,t.validationMessage))).then(r=>{r===!1?(n.hideLoading(),ot(n)):n.close({isDenied:!0,value:typeof r>"u"?e:r})}).catch(r=>Ei(n||void 0,r))):n.close({isDenied:!0,value:e})},ei=(n,e)=>{n.close({isConfirmed:!0,value:e})},Ei=(n,e)=>{n.rejectPromise(e)},bn=(n,e)=>{let t=U.innerParams.get(n||void 0);t.showLoaderOnConfirm&&We(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>Je(t.preConfirm(e,t.validationMessage))).then(r=>{re(kt())||r===!1?(n.hideLoading(),ot(n)):ei(n,typeof r>"u"?e:r)}).catch(r=>Ei(n||void 0,r))):ei(n,e)};function Mt(){let n=U.innerParams.get(this);if(!n)return;let e=U.domCache.get(this);te(e.loader),It()?n.icon&&X(qe()):$r(e),he([e.popup,e.actions],g.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}var $r=n=>{let e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?X(e[0],"inline-block"):wo()&&te(n.actions)};function Ti(){let n=U.innerParams.get(this),e=U.domCache.get(this);return e?Et(e.popup,n.input):null}function Di(n,e,t){let i=U.domCache.get(n);e.forEach(r=>{i[r].disabled=t})}function Vi(n,e){let t=I();if(!(!t||!n))if(n.type==="radio"){let i=t.querySelectorAll(`[name="${g.radio}"]`);for(let r=0;r<i.length;r++)i[r].disabled=e}else n.disabled=e}function Li(){Di(this,["confirmButton","denyButton","cancelButton"],!1)}function Ui(){Di(this,["confirmButton","denyButton","cancelButton"],!0)}function Ni(){Vi(this.getInput(),!1)}function ji(){Vi(this.getInput(),!0)}function Fi(n){let e=U.domCache.get(this),t=U.innerParams.get(this);me(e.validationMessage,n),e.validationMessage.className=g["validation-message"],t.customClass&&t.customClass.validationMessage&&E(e.validationMessage,t.customClass.validationMessage),X(e.validationMessage);let i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",g["validation-message"]),mi(i),E(i,g.inputerror))}function Bi(){let n=U.domCache.get(this);n.validationMessage&&te(n.validationMessage);let e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),he(e,g.inputerror))}var Re={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Yr=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Hr={allowEnterKey:void 0},Qr=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ri=n=>Object.prototype.hasOwnProperty.call(Re,n),zi=n=>Yr.indexOf(n)!==-1,Wi=n=>Hr[n],Gr=n=>{Ri(n)||ne(`Unknown parameter "${n}"`)},Zr=n=>{Qr.includes(n)&&ne(`The parameter "${n}" is incompatible with toasts`)},Kr=n=>{let e=Wi(n);e&&si(n,e)},qi=n=>{n.backdrop===!1&&n.allowOutsideClick&&ne('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),n.theme&&!["light","dark","auto","borderless","embed-iframe"].includes(n.theme)&&ne(`Invalid theme "${n.theme}". Expected "light", "dark", "auto", "borderless", or "embed-iframe"`);for(let e in n)Gr(e),n.toast&&Zr(e),Kr(e)};function $i(n){let e=ie(),t=I(),i=U.innerParams.get(this);if(!t||ye(t,i.hideClass.popup)){ne("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let r=Xr(n),d=Object.assign({},i,r);qi(d),e.dataset.swal2Theme=d.theme,xi(this,d),U.innerParams.set(this,d),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}var Xr=n=>{let e={};return Object.keys(n).forEach(t=>{zi(t)?e[t]=n[t]:ne(`Invalid parameter to update: ${t}`)}),e};function Yi(){let n=U.domCache.get(this),e=U.innerParams.get(this);if(!e){Hi(this);return}n.popup&&P.swalCloseEventFinishedCallback&&(P.swalCloseEventFinishedCallback(),delete P.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),P.eventEmitter.emit("didDestroy"),Jr(this)}var Jr=n=>{Hi(n),delete n.params,delete P.keydownHandler,delete P.keydownTarget,delete P.currentInstance},Hi=n=>{n.isAwaitingPromise?(Kt(U,n),n.isAwaitingPromise=!0):(Kt(ze,n),Kt(U,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},Kt=(n,e)=>{for(let t in n)n[t].delete(e)},ea=Object.freeze({__proto__:null,_destroy:Yi,close:ke,closeModal:ke,closePopup:ke,closeToast:ke,disableButtons:Ui,disableInput:ji,disableLoading:Mt,enableButtons:Li,enableInput:Ni,getInput:Ti,handleAwaitingPromise:ot,hideLoading:Mt,rejectPromise:ki,resetValidationMessage:Bi,showValidationMessage:Fi,update:$i}),ta=(n,e,t)=>{n.toast?na(n,e,t):(oa(e),ra(e),aa(n,e,t))},na=(n,e,t)=>{e.popup.onclick=()=>{n&&(ia(n)||n.timer||n.input)||t(He.close)}},ia=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton),Pt=!1,oa=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(Pt=!0)}}},ra=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(Pt=!0)}}},aa=(n,e,t)=>{e.container.onclick=i=>{if(Pt){Pt=!1;return}i.target===e.container&&Ot(n.allowOutsideClick)&&t(He.backdrop)}},sa=n=>typeof n=="object"&&n.jquery,ti=n=>n instanceof Element||sa(n),la=n=>{let e={};return typeof n[0]=="object"&&!ti(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,i)=>{let r=n[i];typeof r=="string"||ti(r)?e[t]=r:r!==void 0&&Ne(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof r}`)}),e};function da(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return new this(...e)}function ca(n){class e extends this{_main(i,r){return super._main(i,Object.assign({},n,r))}}return e}var ma=()=>P.timeout&&P.timeout.getTimerLeft(),Qi=()=>{if(P.timeout)return _o(),P.timeout.stop()},Gi=()=>{if(P.timeout){let n=P.timeout.start();return un(n),n}},ua=()=>{let n=P.timeout;return n&&(n.running?Qi():Gi())},pa=n=>{if(P.timeout){let e=P.timeout.increase(n);return un(e,!0),e}},ga=()=>!!(P.timeout&&P.timeout.isRunning()),ni=!1,Jt={};function fa(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Jt[n]=this,ni||(document.body.addEventListener("click",ha),ni=!0)}var ha=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(let t in Jt){let i=e.getAttribute(t);if(i){Jt[t].fire({template:i});return}}},en=class{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){let i=this._getHandlersByEventName(e);i.includes(t)||i.push(t)}once(e,t){var i=this;let r=function(){i.removeListener(e,r);for(var d=arguments.length,m=new Array(d),_=0;_<d;_++)m[_]=arguments[_];t.apply(i,m)};this.on(e,r)}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];this._getHandlersByEventName(e).forEach(d=>{try{d.apply(this,i)}catch(m){console.error(m)}})}removeListener(e,t){let i=this._getHandlersByEventName(e),r=i.indexOf(t);r>-1&&i.splice(r,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}};P.eventEmitter=new en;var ba=(n,e)=>{P.eventEmitter.on(n,e)},va=(n,e)=>{P.eventEmitter.once(n,e)},wa=(n,e)=>{if(!n){P.eventEmitter.reset();return}e?P.eventEmitter.removeListener(n,e):P.eventEmitter.removeAllListeners(n)},_a=Object.freeze({__proto__:null,argsToParams:la,bindClickHandler:fa,clickCancel:lr,clickConfirm:Ci,clickDeny:sr,enableLoading:We,fire:da,getActions:tt,getCancelButton:$e,getCloseButton:ln,getConfirmButton:xe,getContainer:ie,getDenyButton:je,getFocusableElements:dn,getFooter:ci,getHtmlContainer:an,getIcon:qe,getIconContent:go,getImage:di,getInputLabel:fo,getLoader:Ye,getPopup:I,getProgressSteps:sn,getTimerLeft:ma,getTimerProgressBar:At,getTitle:li,getValidationMessage:kt,increaseTimer:pa,isDeprecatedParameter:Wi,isLoading:bo,isTimerRunning:ga,isUpdatableParameter:zi,isValidParameter:Ri,isVisible:ar,mixin:ca,off:wa,on:ba,once:va,resumeTimer:Gi,showLoading:We,stopTimer:Qi,toggleTimer:ua}),tn=class{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){let t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}},Zi=["swal-title","swal-html","swal-footer"],xa=n=>{let e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};let t=e.content;return Aa(t),Object.assign(Ca(t),ya(t),Ma(t),Pa(t),Sa(t),Oa(t),ka(t,Zi))},Ca=n=>{let e={};return Array.from(n.querySelectorAll("swal-param")).forEach(i=>{Le(i,["name","value"]);let r=i.getAttribute("name"),d=i.getAttribute("value");!r||!d||(typeof Re[r]=="boolean"?e[r]=d!=="false":typeof Re[r]=="object"?e[r]=JSON.parse(d):e[r]=d)}),e},ya=n=>{let e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(i=>{let r=i.getAttribute("name"),d=i.getAttribute("value");!r||!d||(e[r]=new Function(`return ${d}`)())}),e},Ma=n=>{let e={};return Array.from(n.querySelectorAll("swal-button")).forEach(i=>{Le(i,["type","color","aria-label"]);let r=i.getAttribute("type");!r||!["confirm","cancel","deny"].includes(r)||(e[`${r}ButtonText`]=i.innerHTML,e[`show${nn(r)}Button`]=!0,i.hasAttribute("color")&&(e[`${r}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${r}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},Pa=n=>{let e={},t=n.querySelector("swal-image");return t&&(Le(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},Sa=n=>{let e={},t=n.querySelector("swal-icon");return t&&(Le(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},Oa=n=>{let e={},t=n.querySelector("swal-input");t&&(Le(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));let i=Array.from(n.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(r=>{Le(r,["value"]);let d=r.getAttribute("value");if(!d)return;let m=r.innerHTML;e.inputOptions[d]=m})),e},ka=(n,e)=>{let t={};for(let i in e){let r=e[i],d=n.querySelector(r);d&&(Le(d,[]),t[r.replace(/^swal-/,"")]=d.innerHTML.trim())}return t},Aa=n=>{let e=Zi.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{let i=t.tagName.toLowerCase();e.includes(i)||ne(`Unrecognized element <${i}>`)})},Le=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&ne([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},Ki=10,Ia=n=>{let e=ie(),t=I();typeof n.willOpen=="function"&&n.willOpen(t),P.eventEmitter.emit("willOpen",t);let r=window.getComputedStyle(document.body).overflowY;Da(e,t,n),setTimeout(()=>{Ea(e,t)},Ki),cn()&&(Ta(e,n.scrollbarPadding,r),hr()),!It()&&!P.previousActiveElement&&(P.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),P.eventEmitter.emit("didOpen",t),he(e,g["no-transition"])},St=n=>{let e=I();if(n.target!==e)return;let t=ie();e.removeEventListener("animationend",St),e.removeEventListener("transitionend",St),t.style.overflowY="auto"},Ea=(n,e)=>{pi(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",St),e.addEventListener("transitionend",St)):n.style.overflowY="auto"},Ta=(n,e,t)=>{br(),e&&t!=="hidden"&&Mr(t),setTimeout(()=>{n.scrollTop=0})},Da=(n,e,t)=>{E(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),X(e,"grid"),setTimeout(()=>{E(e,t.showClass.popup),e.style.removeProperty("opacity")},Ki)):X(e,"grid"),E([document.documentElement,document.body],g.shown),t.heightAuto&&t.backdrop&&!t.toast&&E([document.documentElement,document.body],g["height-auto"])},ii={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Va(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=ii.email),n.input==="url"&&(n.inputValidator=ii.url))}function La(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(ne('Target parameter is not valid, defaulting to "body"'),n.target="body")}function Ua(n){Va(n),n.showLoaderOnConfirm&&!n.preConfirm&&ne(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),La(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),ko(n)}var _e,bt=new WeakMap,N=class{constructor(){if(ro(this,bt,void 0),typeof window>"u")return;_e=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];let r=Object.freeze(this.constructor.argsToParams(t));this.params=r,this.isAwaitingPromise=!1,ao(bt,this,this._main(_e.params))}_main(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(qi(Object.assign({},t,e)),P.currentInstance){let d=ze.swalPromiseResolve.get(P.currentInstance),{isAwaitingPromise:m}=P.currentInstance;P.currentInstance._destroy(),m||d({isDismissed:!0}),cn()&&Pi()}P.currentInstance=_e;let i=ja(e,t);Ua(i),Object.freeze(i),P.timeout&&(P.timeout.stop(),delete P.timeout),clearTimeout(P.restoreFocusTimeout);let r=Fa(_e);return xi(_e,i),U.innerParams.set(_e,i),Na(_e,r,i)}then(e){return Yn(bt,this).then(e)}finally(e){return Yn(bt,this).finally(e)}},Na=(n,e,t)=>new Promise((i,r)=>{let d=m=>{n.close({isDismissed:!0,dismiss:m})};ze.swalPromiseResolve.set(n,i),ze.swalPromiseReject.set(n,r),e.confirmButton.onclick=()=>{Rr(n)},e.denyButton.onclick=()=>{zr(n)},e.cancelButton.onclick=()=>{Wr(n,d)},e.closeButton.onclick=()=>{d(He.close)},ta(t,e,d),dr(P,t,d),Tr(n,t),Ia(t),Ba(P,t,d),Ra(e,t),setTimeout(()=>{e.container.scrollTop=0})}),ja=(n,e)=>{let t=xa(n),i=Object.assign({},Re,e,t,n);return i.showClass=Object.assign({},Re.showClass,i.showClass),i.hideClass=Object.assign({},Re.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},Fa=n=>{let e={popup:I(),container:ie(),actions:tt(),confirmButton:xe(),denyButton:je(),cancelButton:$e(),loader:Ye(),closeButton:ln(),validationMessage:kt(),progressSteps:sn()};return U.domCache.set(n,e),e},Ba=(n,e,t)=>{let i=At();te(i),e.timer&&(n.timeout=new tn(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(X(i),de(i,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&un(e.timer)})))},Ra=(n,e)=>{if(!e.toast){if(!Ot(e.allowEnterKey)){si("allowEnterKey"),qa();return}za(n)||Wa(n,e)||Xt(-1,1)}},za=n=>{let e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(let t of e)if(t instanceof HTMLElement&&re(t))return t.focus(),!0;return!1},Wa=(n,e)=>e.focusDeny&&re(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&re(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&re(n.confirmButton)?(n.confirmButton.focus(),!0):!1,qa=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let n=new Date,e=localStorage.getItem("swal-initiation");e?(n.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout(()=>{t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${n}`)}N.prototype.disableButtons=Ui;N.prototype.enableButtons=Li;N.prototype.getInput=Ti;N.prototype.disableInput=ji;N.prototype.enableInput=Ni;N.prototype.hideLoading=Mt;N.prototype.disableLoading=Mt;N.prototype.showValidationMessage=Fi;N.prototype.resetValidationMessage=Bi;N.prototype.close=ke;N.prototype.closePopup=ke;N.prototype.closeModal=ke;N.prototype.closeToast=ke;N.prototype.rejectPromise=ki;N.prototype.update=$i;N.prototype._destroy=Yi;Object.assign(N,_a);Object.keys(ea).forEach(n=>{N[n]=function(){return _e&&_e[n]?_e[n](...arguments):null}});N.DismissReason=He;N.version="11.19.1";var Ue=N;Ue.default=Ue;typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.1s, box-shadow 0.1s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-confirm-button-background-color: #7066e0;--swal2-deny-button-background-color: #dc3741;--swal2-cancel-button-background-color: #6e7881}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:var(--swal2-confirm-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:var(--swal2-deny-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:var(--swal2-cancel-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-outline)}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function $a(n,e){if(n&1){let t=S();a(0,"div",22)(1,"button",23),b("click",function(){f(t);let r=u();return h(r.switchTab("all"))}),p(2,"i",24),a(3,"span"),s(4,"All Advertisements"),o()(),a(5,"button",23),b("click",function(){f(t);let r=u();return h(r.switchTab("my"))}),p(6,"i",25),a(7,"span"),s(8,"My Advertisements"),o()()()}if(n&2){let t=u();l(),se("active",t.activeTab==="all"),l(4),se("active",t.activeTab==="my")}}function Ya(n,e){if(n&1){let t=S();a(0,"button",44),b("click",function(){f(t);let r=u().$implicit,d=u();return h(d.confirmArchive(r._id))}),p(1,"i",45),o()}}function Ha(n,e){if(n&1&&(a(0,"div",39)(1,"label"),s(2,"Created By"),o(),a(3,"p"),s(4),o(),a(5,"span",46),s(6),o()()),n&2){let t=u().$implicit;l(4),k((t.userId==null?null:t.userId.username)||"N/A"),l(2),k((t.userId==null?null:t.userId.email)||"N/A")}}function Qa(n,e){if(n&1){let t=S();a(0,"div",26)(1,"div",27)(2,"span",28),s(3),o(),a(4,"div",29)(5,"button",30),b("click",function(){let r=f(t).$implicit,d=u();return h(d.openEditModal(r))}),p(6,"i",31),o(),v(7,Ya,2,0,"button",32),a(8,"button",33),b("click",function(){let r=f(t).$implicit,d=u();return h(d.deleteAdvertisement(r._id))}),p(9,"i",34),o()()(),a(10,"div",35)(11,"h3",36),s(12),o(),a(13,"div",37),v(14,Ha,7,2,"div",38),a(15,"div",39)(16,"label"),s(17,"Description"),o(),a(18,"p"),s(19),o()(),a(20,"div",40)(21,"div",39)(22,"label"),s(23,"Orientation"),o(),a(24,"span",41),s(25),R(26,"titlecase"),o()(),a(27,"div",39)(28,"label"),s(29,"Video"),o(),a(30,"button",42),b("click",function(){let r=f(t).$implicit,d=u();return h(d.openModal(r.videoUrl))}),p(31,"i",43),a(32,"span"),s(33,"Preview"),o()()()()()()()}if(n&2){let t=e.$implicit,i=e.index,r=u();l(3),w("#",i+1,""),l(4),c("ngIf",!t.archived),l(5),k(t.name),l(2),c("ngIf",(r.userRole==="admin"||r.userRole==="SUPERADMIN")&&r.activeTab==="all"),l(5),k(t.description),l(6),k(Y(26,6,t.orientation))}}function Ga(n,e){if(n&1&&p(0,"video",55),n&2){let t=u(2);c("src",t.selectedVideoUrl,Me)}}function Za(n,e){if(n&1){let t=S();a(0,"div",47)(1,"div",48),b("click",function(){f(t);let r=u();return h(r.closeModal())}),o(),a(2,"div",49)(3,"button",50),b("click",function(){f(t);let r=u();return h(r.closeModal())}),p(4,"i",51),o(),a(5,"h5",52),s(6,"Advertisement Preview"),o(),a(7,"div",53),v(8,Ga,1,1,"video",54),o()()()}if(n&2){let t=u();l(8),c("ngIf",t.selectedVideoUrl)}}function Ka(n,e){if(n&1&&(a(0,"div",81)(1,"span",82),s(2),o()()),n&2){let t=u(3);l(2),w("Selected file: ",t.selectedFile.name,"")}}function Xa(n,e){if(n&1){let t=S();a(0,"div",57)(1,"label",76),p(2,"i",77),s(3,"Choose Video File "),o(),a(4,"input",78,1),b("change",function(r){f(t);let d=u(2);return h(d.onFileSelected(r))}),o(),a(6,"small",79),s(7,"Maximum file size: 100MB"),o(),v(8,Ka,3,1,"div",80),o()}if(n&2){let t=u(2);l(8),c("ngIf",t.selectedFile)}}function Ja(n,e){if(n&1){let t=S();a(0,"div",57)(1,"label",83),s(2,"YouTube URL"),o(),a(3,"div",84)(4,"input",85),M("ngModelChange",function(r){f(t);let d=u(2);return y(d.youtubeUrl,r)||(d.youtubeUrl=r),h(r)}),o()()()}if(n&2){let t=u(2);l(4),C("ngModel",t.youtubeUrl)}}function es(n,e){if(n&1&&(a(0,"option",86),s(1),R(2,"titlecase"),o()),n&2){let t=e.$implicit;c("value",t),l(),w(" ",Y(2,2,t)," ")}}function ts(n,e){if(n&1&&(a(0,"div",87),s(1),o()),n&2){let t=u(2);l(),k(t.errorMessage)}}function ns(n,e){if(n&1&&(a(0,"div",88),s(1),o()),n&2){let t=u(2);l(),k(t.successMessage)}}function is(n,e){if(n&1&&(a(0,"div",89)(1,"div",90)(2,"div",91),s(3),o()(),a(4,"small",92),s(5),o()()),n&2){let t=u(2);l(2),Ee("width",t.uploadProgress,"%"),Ge("aria-valuenow",t.uploadProgress),l(),w(" ",t.uploadProgress,"% "),l(2),w(" ",t.uploadProgress<100?"Updating content...":"Processing..."," ")}}function os(n,e){if(n&1){let t=S();a(0,"button",93),b("click",function(){f(t);let r=u(2);return h(r.updateAdvertisement())}),p(1,"i",94),s(2),o()}if(n&2){let t=u(2);c("disabled",t.isUploading),l(2),w(" ",t.isUploading?"Updating...":"Update with New Video"," ")}}function rs(n,e){if(n&1){let t=S();a(0,"button",95),b("click",function(){f(t);let r=u(2);return h(r.updateAdvertisement())}),p(1,"i",96),s(2),o()}if(n&2){let t=u(2);c("disabled",t.isUploading),l(2),w(" ",t.isUploading?"Updating...":"Update Details"," ")}}function as(n,e){if(n&1){let t=S();a(0,"div",47)(1,"div",48),b("click",function(){f(t);let r=u();return h(r.closeEditModal())}),o(),a(2,"div",49)(3,"button",50),b("click",function(){f(t);let r=u();return h(r.closeEditModal())}),p(4,"i",51),o(),a(5,"h2",52),s(6,"Edit Advertisement"),o(),a(7,"form",56,0),b("ngSubmit",function(){f(t);let r=u();return h(r.updateAdvertisement())}),a(9,"div",57)(10,"label",58),s(11,"Name"),o(),a(12,"input",59),M("ngModelChange",function(r){f(t);let d=u();return y(d.editAdvertisementObject.name,r)||(d.editAdvertisementObject.name=r),h(r)}),o()(),a(13,"div",57)(14,"label",60),s(15,"Description"),o(),a(16,"textarea",61),M("ngModelChange",function(r){f(t);let d=u();return y(d.editAdvertisementObject.description,r)||(d.editAdvertisementObject.description=r),h(r)}),o()(),a(17,"div",57)(18,"label",62),s(19,"Video Source"),o(),a(20,"select",63),M("ngModelChange",function(r){f(t);let d=u();return y(d.selectedVideoSource,r)||(d.selectedVideoSource=r),h(r)}),a(21,"option",64),s(22,"Upload from Computer"),o(),a(23,"option",65),s(24,"YouTube Video"),o()()(),v(25,Xa,9,1,"div",66)(26,Ja,5,1,"div",66),a(27,"div",57)(28,"label",67),s(29,"Orientation"),o(),a(30,"select",68),M("ngModelChange",function(r){f(t);let d=u();return y(d.editAdvertisementObject.orientation,r)||(d.editAdvertisementObject.orientation=r),h(r)}),v(31,es,3,4,"option",69),o()(),v(32,ts,2,1,"div",70)(33,ns,2,1,"div",71)(34,is,6,5,"div",72),a(35,"div",73),v(36,os,3,2,"button",74)(37,rs,3,2,"button",75),o()()()()}if(n&2){let t=u();l(12),C("ngModel",t.editAdvertisementObject.name),l(4),C("ngModel",t.editAdvertisementObject.description),l(4),C("ngModel",t.selectedVideoSource),l(5),c("ngIf",t.selectedVideoSource==="local"),l(),c("ngIf",t.selectedVideoSource==="youtube"),l(4),C("ngModel",t.editAdvertisementObject.orientation),l(),c("ngForOf",t.orientations),l(),c("ngIf",t.errorMessage),l(),c("ngIf",t.successMessage),l(),c("ngIf",t.isUploading),l(2),c("ngIf",t.selectedVideoSource==="local"&&t.selectedFile||t.selectedVideoSource==="youtube"&&t.youtubeUrl),l(),c("ngIf",!(t.selectedVideoSource==="local"&&t.selectedFile)&&!(t.selectedVideoSource==="youtube"&&t.youtubeUrl))}}function ss(n,e){if(n&1){let t=S();a(0,"div",47)(1,"div",48),b("click",function(){f(t);let r=u();return h(r.closeConfirmDialog())}),o(),a(2,"div",49)(3,"h5",52),s(4,"Confirm Archive"),o(),a(5,"p"),s(6,"Are you sure you want to archive this advertisement?"),o(),a(7,"div",97)(8,"button",98),b("click",function(){f(t);let r=u();return h(r.archiveAd(r.archivingAdId))}),s(9,"Yes"),o(),a(10,"button",99),b("click",function(){f(t);let r=u();return h(r.closeConfirmDialog())}),s(11,"No"),o()()()()}}var Tt=class n{constructor(e,t,i){this.adminService=e;this.router=t;this.authService=i;this.userRole=this.authService.userRole||"user",this.userId=this.authService.userId||"",this.userRole!=="admin"&&this.userRole!=="SUPERADMIN"&&(this.activeTab="my")}advertisements=[];successMessage="";searchTerm="";errorMessage="";selectedVideoUrl="";isModalOpen=!1;isEditModalOpen=!1;isConfirmDialogOpen=!1;archivingAdId="";editAdvertisementObject={};orientations=["portrait","landscape"];currentPage=1;itemsPerPage=5;filteredAds=[];userRole;userId;selectedVideoSource="local";videoSources=["local","youtube"];selectedFile=null;youtubeUrl="";isUploading=!1;uploadProgress=0;videoResolutionError="";activeTab="all";allAdvertisements=[];myAdvertisements=[];ngOnInit(){this.loadAdvertisements()}switchTab(e){this.activeTab=e,this.currentPage=1,this.searchTerm="",this.filterAdvertisements()}loadAdvertisements(){this.userRole==="admin"||this.userRole==="SUPERADMIN"?this.adminService.getAds().subscribe(e=>{this.allAdvertisements=(e.data||[]).filter(t=>!t.isDeleted),this.adminService.getAdvertisementsByUserId(this.userId).subscribe(t=>{this.myAdvertisements=(t.data||[]).filter(i=>!i.isDeleted),this.filterAdvertisements()},t=>{this.errorMessage=t.error?.message||"Failed to load user advertisements."})},e=>{this.errorMessage=e.error?.message||"Failed to load advertisements."}):this.adminService.getAdvertisementsByUserId(this.userId).subscribe(e=>{this.myAdvertisements=(e.data||[]).filter(t=>!t.isDeleted),this.filterAdvertisements()},e=>{this.errorMessage=e.error?.message||"Failed to load advertisements."})}filterAdvertisements(){let e=this.activeTab==="all"?this.allAdvertisements:this.myAdvertisements;if(!this.searchTerm){this.filteredAds=[...e];return}let t=this.searchTerm.toLowerCase();this.filteredAds=e.filter(i=>i.name.toLowerCase().includes(t)||i.description.toLowerCase().includes(t)||i.userId?.username&&i.userId.username.toLowerCase().includes(t)||i.userId?.email&&i.userId.email.toLowerCase().includes(t))}filteredAdvertisements(){this.filterAdvertisements();let e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.filteredAds.slice(e,t)}paginatedAdvertisements(){let e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.filteredAds.slice(e,t)}get totalPages(){return Math.ceil(this.filteredAds.length/this.itemsPerPage)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}previousPage(){this.currentPage>1&&this.currentPage--}openModal(e){this.selectedVideoUrl=e,this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}openEditModal(e){this.editAdvertisementObject=J({},e),this.selectedVideoSource="local",this.selectedFile=null,this.youtubeUrl="",this.uploadProgress=0,this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1}onFileSelected(e){let t=e.target.files[0];if(t){if(!t.type.startsWith("video/")){this.errorMessage="Please select a valid video file.";return}if(t.size>100*1024*1024){this.errorMessage="File size should not exceed 100MB.";return}this.selectedFile=t,this.errorMessage=""}}processYoutubeUrl(){return Ie(this,null,function*(){if(!this.youtubeUrl){this.errorMessage="Please enter a YouTube URL";return}if(!this.validateYoutubeUrl(this.youtubeUrl)){this.errorMessage="Please enter a valid YouTube URL";return}try{this.isUploading=!0,this.errorMessage="",this.isUploading=!1}catch{this.errorMessage="Failed to process YouTube URL",this.isUploading=!1}})}updateAdvertisement(){return Ie(this,null,function*(){try{if(this.isUploading=!0,this.errorMessage="",this.successMessage="",this.selectedVideoSource==="local"&&this.selectedFile||this.selectedVideoSource==="youtube"&&this.youtubeUrl){let t=new FormData;t.append("name",this.editAdvertisementObject.name),t.append("description",this.editAdvertisementObject.description),t.append("orientation",this.editAdvertisementObject.orientation),this.selectedVideoSource==="local"&&this.selectedFile?t.append("video",this.selectedFile):this.selectedVideoSource==="youtube"&&this.youtubeUrl&&t.append("youtubeUrl",this.youtubeUrl),yield this.adminService.updateAdComplex(this.editAdvertisementObject._id,t).toPromise()}else{let t={name:this.editAdvertisementObject.name,description:this.editAdvertisementObject.description,orientation:this.editAdvertisementObject.orientation};yield this.adminService.updateAdSimple(this.editAdvertisementObject._id,t).toPromise()}this.successMessage="Advertisement updated successfully!",this.isEditModalOpen=!1,this.loadAdvertisements()}catch(e){console.error("Error updating advertisement:",e),this.errorMessage=e.message||"Failed to update advertisement."}finally{this.isUploading=!1}})}confirmArchive(e){this.archivingAdId=e,this.isConfirmDialogOpen=!0}archiveAd(e){this.adminService.archiveAds(e).subscribe(()=>{this.successMessage="Advertisement archived successfully!",this.loadAdvertisements(),this.closeConfirmDialog()},t=>{console.error("Error archiving advertisement:",t),this.errorMessage=t.error?.message||"Failed to archive advertisement."})}closeConfirmDialog(){this.isConfirmDialogOpen=!1,this.archivingAdId=""}navigateToAddAdvertisement(){this.router.navigate(["/admin/newAds"])}checkVideoResolution(e){let t={width:1920,height:1080},i=this.getVideoResolution(e);return i.width<=t.width&&i.height<=t.height}getVideoResolution(e){return{width:1280,height:720}}deleteAdvertisement(e){Ue.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(t=>{t.isConfirmed&&this.adminService.deleteAdById(e).subscribe(()=>{Ue.fire("Deleted!","Advertisement has been deleted.","success"),this.loadAdvertisements()},i=>{Ue.fire("Error!",i.error?.message||"Failed to delete advertisement.","error")})})}updateUploadProgress(e){e.lengthComputable&&(this.uploadProgress=Math.round(e.loaded/e.total*100))}validateYoutubeUrl(e){return/^(https?\:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/.test(e)}static \u0275fac=function(t){return new(t||n)(x(L),x(V),x(pe))};static \u0275cmp=T({type:n,selectors:[["app-advertisement"]],standalone:!1,decls:29,vars:10,consts:[["editForm","ngForm"],["fileInput",""],[1,"page-wrapper"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"header-actions"],[1,"btn-add",3,"click"],[1,"fas","fa-plus-circle"],[1,"search-box"],[1,"fas","fa-search","search-icon"],["type","text","placeholder","Search advertisements...",3,"ngModelChange","ngModel"],["class","tabs-container",4,"ngIf"],[1,"content-wrapper"],[1,"ads-grid"],["class","ad-card",4,"ngFor","ngForOf"],[1,"pagination"],[1,"pagination-btn",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"pagination-info"],[1,"fas","fa-chevron-right"],["class","custom-modal",4,"ngIf"],[1,"tabs-container"],[1,"tab-btn",3,"click"],[1,"fas","fa-list"],[1,"fas","fa-user-circle"],[1,"ad-card"],[1,"ad-card-header"],[1,"ad-number"],[1,"ad-actions"],[1,"action-btn","edit",3,"click"],[1,"fas","fa-edit"],["class","action-btn archive",3,"click",4,"ngIf"],[1,"action-btn","delete",3,"click"],[1,"fas","fa-trash-alt"],[1,"ad-card-content"],[1,"ad-name"],[1,"ad-info"],["class","info-group",4,"ngIf"],[1,"info-group"],[1,"info-row"],[1,"orientation-badge"],[1,"video-preview-btn",3,"click"],[1,"fas","fa-play-circle"],[1,"action-btn","archive",3,"click"],[1,"fas","fa-archive"],[1,"user-email"],[1,"custom-modal"],[1,"modal-overlay",3,"click"],[1,"modal-content"],[1,"modal-close",3,"click"],[1,"fas","fa-times"],[1,"modal-title"],[1,"video-container"],["controls","","class","modal-video","autoplay","",3,"src",4,"ngIf"],["controls","","autoplay","",1,"modal-video",3,"src"],[3,"ngSubmit"],[1,"form-group"],["for","name"],["id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","videoSource"],["id","videoSource","name","videoSource","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","local"],["value","youtube"],["class","form-group",4,"ngIf"],["for","orientation"],["id","orientation","name","orientation","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","upload-status",4,"ngIf"],[1,"mt-3"],["type","button","class","btn btn-primary me-2",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-secondary",3,"disabled","click",4,"ngIf"],["for","videoFile",1,"file-upload-label"],[1,"fas","fa-cloud-upload-alt","me-2"],["type","file","id","videoFile","accept","video/*",1,"d-none",3,"change"],[1,"text-muted","d-block"],["class","mt-2",4,"ngIf"],[1,"mt-2"],[1,"text-success"],["for","youtubeUrl"],[1,"input-group"],["type","text","id","youtubeUrl","name","youtubeUrl","placeholder","Enter YouTube URL",1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"upload-status"],[1,"progress","mt-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"],[1,"text-muted"],["type","button",1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"fas","fa-sync-alt","me-2"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"fas","fa-save","me-2"],[1,"dialog-actions"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(t,i){t&1&&(a(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1",5),s(4,"Advertisement Management"),o(),a(5,"div",6)(6,"button",7),b("click",function(){return i.navigateToAddAdvertisement()}),p(7,"i",8),a(8,"span"),s(9,"New Advertisement"),o()(),a(10,"div",9),p(11,"i",10),a(12,"input",11),M("ngModelChange",function(d){return y(i.searchTerm,d)||(i.searchTerm=d),d}),o()()()(),v(13,$a,9,4,"div",12),o(),a(14,"div",13)(15,"div",14),v(16,Qa,34,8,"div",15),o(),a(17,"div",16)(18,"button",17),b("click",function(){return i.previousPage()}),p(19,"i",18),s(20," Previous "),o(),a(21,"span",19),s(22),o(),a(23,"button",17),b("click",function(){return i.nextPage()}),s(24," Next "),p(25,"i",20),o()()(),v(26,Za,9,1,"div",21)(27,as,38,12,"div",21)(28,ss,12,0,"div",21),o()),t&2&&(l(12),C("ngModel",i.searchTerm),l(),c("ngIf",i.userRole==="admin"||i.userRole==="SUPERADMIN"),l(3),c("ngForOf",i.filteredAdvertisements()),l(2),c("disabled",i.currentPage===1),l(4),ue("Page ",i.currentPage," of ",i.totalPages,""),l(),c("disabled",i.currentPage===i.totalPages),l(3),c("ngIf",i.isModalOpen),l(),c("ngIf",i.isEditModalOpen),l(),c("ngIf",i.isConfirmDialogOpen))},dependencies:[j,D,$,G,Z,F,Q,B,W,K,q,H,oe],styles:[".page-wrapper[_ngcontent-%COMP%]{min-height:100vh;background:#f8fafc;padding:2rem}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1e293b;margin:0}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.btn-add[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none;border-radius:8px;font-weight:500;cursor:pointer;transition:all .3s ease}.btn-add[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #2563eb33}.search-box[_ngcontent-%COMP%]{position:relative;width:300px}.search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#64748b}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.5rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;transition:all .3s ease}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.tabs-container[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.tab-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:#fff;border:1px solid #e2e8f0;border-radius:8px;color:#64748b;font-weight:500;cursor:pointer;transition:all .2s ease}.tab-btn.active[_ngcontent-%COMP%]{background:#f1f5f9;color:#1e293b;border-color:#cbd5e1}.ads-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem;margin-bottom:2rem}.ad-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;overflow:hidden;transition:all .3s ease}.ad-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 20px #0000001a}.ad-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#f8fafc;border-bottom:1px solid #e2e8f0}.ad-number[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#64748b}.ad-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-btn[_ngcontent-%COMP%]{padding:.5rem;border:none;border-radius:6px;cursor:pointer;transition:all .2s ease}.action-btn.edit[_ngcontent-%COMP%]{background:#e0f2fe;color:#0284c7}.action-btn.archive[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.action-btn.delete[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.ad-card-content[_ngcontent-%COMP%]{padding:1.5rem}.ad-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1e293b;margin:0 0 1rem}.ad-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.info-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.info-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;color:#64748b;letter-spacing:.5px}.info-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#334155;line-height:1.5}.user-email[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem}.orientation-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;background:#f1f5f9;color:#475569;border-radius:20px;font-size:.875rem}.video-preview-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#eff6ff;color:#3b82f6;border:none;border-radius:6px;cursor:pointer;transition:all .2s ease}.video-preview-btn[_ngcontent-%COMP%]:hover{background:#dbeafe}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;margin-top:2rem}.pagination-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:#fff;border:1px solid #e2e8f0;border-radius:8px;color:#64748b;font-weight:500;cursor:pointer;transition:all .2s ease}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f1f5f9;color:#1e293b}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.custom-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000bf;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:2rem;border-radius:16px;width:90%;max-width:800px;z-index:1001;box-shadow:0 4px 20px #0003}.modal-close[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background:none;border:none;color:#64748b;cursor:pointer;font-size:1.5rem;padding:.5rem;transition:all .2s ease}.modal-close[_ngcontent-%COMP%]:hover{color:#1e293b}.modal-title[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#1e293b}.video-container[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:56.25%;margin-bottom:1rem}.modal-video[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:8px}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.file-upload-label[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;background:#e2e8f0;border-radius:6px;cursor:pointer;transition:background .2s ease}.file-upload-label[_ngcontent-%COMP%]:hover{background:#cbd5e1}@media (max-width: 768px){.page-wrapper[_ngcontent-%COMP%]{padding:1rem}.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.header-actions[_ngcontent-%COMP%]{flex-direction:column}.search-box[_ngcontent-%COMP%]{width:100%}.tabs-container[_ngcontent-%COMP%]{overflow-x:auto;padding-bottom:.5rem}.tab-btn[_ngcontent-%COMP%]{white-space:nowrap}.ads-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.info-row[_ngcontent-%COMP%]{flex-direction:column}.pagination[_ngcontent-%COMP%]{flex-wrap:wrap}.modal-container[_ngcontent-%COMP%]{width:95%;padding:1rem}}@media (max-width: 480px){.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.ad-card-header[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.ad-actions[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}"]})};function ls(n,e){if(n&1&&(a(0,"div",40)(1,"span",41),s(2),o()()),n&2){let t=u(2);l(2),w("Selected file: ",t.selectedFile.name,"")}}function ds(n,e){if(n&1){let t=S();a(0,"div",8)(1,"label",35),p(2,"i",36),s(3,"Choose Video File "),o(),a(4,"input",37,1),b("change",function(r){f(t);let d=u();return h(d.onFileSelected(r))}),o(),a(6,"small",38),s(7,"Maximum file size: 100MB"),o(),v(8,ls,3,1,"div",39),o()}if(n&2){let t=u();l(8),c("ngIf",t.selectedFile)}}function cs(n,e){if(n&1&&(a(0,"option",49),s(1),o()),n&2){let t=e.$implicit;c("value",t.quality),l(),w(" ",t.quality,"p ")}}function ms(n,e){if(n&1){let t=S();a(0,"div",14)(1,"label",47),s(2,"Select Video Quality:"),o(),a(3,"select",48),M("ngModelChange",function(r){f(t);let d=u(2);return y(d.selectedQuality,r)||(d.selectedQuality=r),h(r)}),b("ngModelChange",function(){f(t);let r=u(2);return h(r.onQualitySelected())}),a(4,"option",31),s(5,"Choose quality"),o(),v(6,cs,2,2,"option",32),o()()}if(n&2){let t=u(2);l(3),C("ngModel",t.selectedQuality),l(3),c("ngForOf",t.availableQualities)}}function us(n,e){if(n&1){let t=S();a(0,"div",8)(1,"label",42),p(2,"i",43),s(3,"YouTube Video URL "),o(),a(4,"div",44)(5,"input",45),M("ngModelChange",function(r){f(t);let d=u();return y(d.youtubeUrl,r)||(d.youtubeUrl=r),h(r)}),o()(),v(6,ms,7,2,"div",46),o()}if(n&2){let t=u();l(5),C("ngModel",t.youtubeUrl),l(),c("ngIf",t.showQualitySelector&&t.availableQualities.length>0)}}function ps(n,e){if(n&1&&(a(0,"div",50)(1,"div",51),s(2),o()()),n&2){let t=u();l(),Ee("width",t.uploadProgress,"%"),Ge("aria-valuenow",t.uploadProgress),l(),w(" ",t.uploadProgress,"% ")}}function gs(n,e){if(n&1){let t=S();a(0,"div",52),p(1,"i",53),s(2),a(3,"button",54),b("click",function(){f(t);let r=u();return h(r.successMessage="")}),o()()}if(n&2){let t=u();l(2),w("",t.successMessage," ")}}function fs(n,e){if(n&1){let t=S();a(0,"div",55),p(1,"i",56),s(2),a(3,"button",54),b("click",function(){f(t);let r=u();return h(r.errorMessage="")}),o()()}if(n&2){let t=u();l(2),w("",t.errorMessage," ")}}function hs(n,e){if(n&1&&(a(0,"div",57)(1,"div",58),s(2),o()()),n&2){let t=u();l(),Ee("width",t.uploadProgress,"%"),Ge("aria-valuenow",t.uploadProgress),l(),w(" ",t.uploadProgress,"% ")}}function bs(n,e){if(n&1&&(a(0,"option",49),s(1),o()),n&2){let t=e.$implicit;c("value",t),l(),w(" ",t," ")}}var Dt=class n{constructor(e,t,i){this.adminService=e;this.videoDownloadService=t;this.router=i}advertisementObject={name:"",description:"",videoUrl:"",orientation:""};orientations=["portrait","landscape"];videoSources=["local","youtube"];selectedVideoSource="local";selectedFile=null;isSubmitting=!1;successMessage="";errorMessage="";videoResolutionError="";youtubeUrl="";availableQualities=[];showQualitySelector=!1;selectedQuality=null;videoInfo=null;uploadProgress=0;isUploading=!1;isVideoProcessed=!1;uploadedVideoUrl=null;advertisementId=null;onFileSelected(e){let t=e.target.files[0];if(t){if(!t.type.startsWith("video/")){this.errorMessage="Please select a valid video file.";return}if(t.size>100*1024*1024){this.errorMessage="File size should not exceed 100MB.";return}this.selectedFile=t,this.errorMessage=""}}processYoutubeUrl(){return Ie(this,null,function*(){if(!this.youtubeUrl){this.errorMessage="Please enter a YouTube URL";return}if(!this.videoDownloadService.isValidYoutubeUrl(this.youtubeUrl)){this.errorMessage="Please enter a valid YouTube URL";return}try{this.isSubmitting=!0,this.successMessage="Processing YouTube video...",this.errorMessage="",this.showQualitySelector=!1,this.availableQualities=[];let e=yield this.videoDownloadService.downloadYoutubeVideo(this.youtubeUrl).toPromise();if(e&&Array.isArray(e)&&e.length>0)if(this.videoInfo=e[0],this.videoInfo.urls&&Array.isArray(this.videoInfo.urls))if(this.availableQualities=this.videoInfo.urls.filter(t=>t.extension==="mp4").sort((t,i)=>{let r=parseInt(t.quality)||0;return(parseInt(i.quality)||0)-r}),this.availableQualities.length>0)this.showQualitySelector=!0,this.successMessage=`${this.videoInfo.meta.title} - Select a video quality`;else throw new Error("No MP4 formats available for this video");else throw new Error("Invalid video URLs in response");else throw new Error("Invalid response from YouTube API")}catch(e){console.error("Error processing YouTube URL:",e),this.errorMessage=e.message||"Failed to process YouTube video. Please try again.",this.successMessage=""}finally{this.isSubmitting=!1}})}onQualitySelected(){if(this.selectedQuality){let e=this.availableQualities.find(t=>t.quality===this.selectedQuality);e&&(this.advertisementObject.videoUrl=e.url,this.successMessage=`Selected quality: ${e.quality}p - Ready to submit`)}}downloadVideo(){if(this.selectedQuality){let e=this.availableQualities.find(t=>t.quality===this.selectedQuality);if(e&&e.url){let t=document.createElement("a");t.href=e.url,t.target="_blank",t.download=`video_${this.selectedQuality}p.mp4`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}}}uploadVideo(){return Ie(this,null,function*(){if(!this.selectedFile&&!this.youtubeUrl){this.errorMessage="Please select a file or enter YouTube URL";return}this.isUploading=!0,this.uploadProgress=0,this.successMessage="",this.errorMessage="";let e=new FormData;this.selectedFile?e.append("video",this.selectedFile):this.youtubeUrl&&e.append("youtubeUrl",this.youtubeUrl);try{this.adminService.uploadVideo(e).subscribe({next:t=>{t.progress!==void 0?this.uploadProgress=t.progress:t.success&&(this.uploadedVideoUrl=t.data.fileInfo.url,this.advertisementId=t.data.advertisementId,this.isVideoProcessed=!0,this.successMessage=t.message||"Video uploaded successfully!",this.isUploading=!1)},error:t=>{console.error("Upload error:",t),this.errorMessage=t.error?.message||"Failed to process video. Please try again.",this.isUploading=!1,this.uploadProgress=0},complete:()=>{this.isUploading=!1}})}catch(t){this.errorMessage="Failed to process video. Please try again.",console.error("Upload error:",t),this.isUploading=!1,this.uploadProgress=0}})}addAdvertisement(){return Ie(this,null,function*(){if(!this.isVideoProcessed||!this.advertisementId){this.errorMessage="Please process the video first";return}this.isSubmitting=!0,this.successMessage="",this.errorMessage="";try{this.advertisementObject.videoUrl=this.uploadedVideoUrl;let e=yield this.adminService.completeAdvertisement(this.advertisementId,this.advertisementObject).toPromise();console.log("Advertisement added:",e),this.successMessage="Advertisement added successfully!",this.resetForm()}catch(e){console.error("Error adding advertisement:",e),this.errorMessage=e.error?.message||"Failed to add advertisement. Please try again."}finally{this.isSubmitting=!1}})}resetForm(){this.advertisementObject={name:"",description:"",videoUrl:"",orientation:""},this.selectedFile=null,this.youtubeUrl="",this.selectedVideoSource="local",this.availableQualities=[],this.showQualitySelector=!1,this.selectedQuality=null,this.videoInfo=null,this.advertisementId=null}static \u0275fac=function(t){return new(t||n)(x(L),x(Nn),x(V))};static \u0275cmp=T({type:n,selectors:[["app-add-advertisement"]],standalone:!1,decls:51,vars:21,consts:[["advertisementForm","ngForm"],["fileInput",""],[1,"page-container"],[1,"content-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],[1,"container","card","pt-5","mt-5","shadow"],[1,"form-group"],["for","videoSource"],[1,"fas","fa-film","me-2"],["id","videoSource","name","videoSource","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","local","selected",""],["class","form-group",4,"ngIf"],[1,"mt-3"],["class","progress mb-2",4,"ngIf"],["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],[1,"btn","btn-primary","upload-btn",3,"click","disabled"],[1,"fas",3,"ngClass"],[1,"ms-2"],["class","progress mt-3",4,"ngIf"],["for","name"],[1,"fas","fa-tag","me-2"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","description"],[1,"fas","fa-align-left","me-2"],["id","description","name","description","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","orientation"],[1,"fas","fa-mobile-alt","me-2"],["id","orientation","name","orientation","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success","mt-3",3,"click","disabled"],[1,"fas","fa-save","me-2"],["for","videoFile",1,"file-upload-label"],[1,"fas","fa-cloud-upload-alt","me-2"],["type","file","id","videoFile","accept","video/*",3,"change"],[1,"text-muted","d-block"],["class","mt-2",4,"ngIf"],[1,"mt-2"],[1,"text-success"],["for","youtubeUrl"],[1,"fab","fa-youtube","me-2"],[1,"input-group"],["type","text","id","youtubeUrl","name","youtubeUrl","placeholder","Enter YouTube URL","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","mt-3",4,"ngIf"],["for","quality"],["id","quality","name","quality",1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],[1,"progress","mb-2"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"fas","fa-check-circle","me-2"],["type","button",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-circle","me-2"],[1,"progress","mt-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"]],template:function(t,i){if(t&1){let r=S();a(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1",5),s(4,"Add New Advertisement"),o(),a(5,"p",6),s(6,"Upload and configure your advertisement details"),o()(),a(7,"div",7)(8,"form",null,0)(10,"div",8)(11,"label",9),p(12,"i",10),s(13,"Video Source "),o(),a(14,"select",11),M("ngModelChange",function(m){return f(r),y(i.selectedVideoSource,m)||(i.selectedVideoSource=m),h(m)}),a(15,"option",12),s(16,"Upload from Computer"),o()()(),v(17,ds,9,1,"div",13)(18,us,7,2,"div",13),a(19,"div",14),v(20,ps,3,4,"div",15)(21,gs,4,1,"div",16)(22,fs,4,1,"div",17),o(),a(23,"div",14)(24,"button",18),b("click",function(){return f(r),h(i.uploadVideo())}),p(25,"i",19),a(26,"span",20),s(27),o()(),v(28,hs,3,4,"div",21),o(),a(29,"div")(30,"div",8)(31,"label",22),p(32,"i",23),s(33,"Advertisement Name "),o(),a(34,"input",24),M("ngModelChange",function(m){return f(r),y(i.advertisementObject.name,m)||(i.advertisementObject.name=m),h(m)}),o()(),a(35,"div",8)(36,"label",25),p(37,"i",26),s(38,"Description "),o(),a(39,"textarea",27),M("ngModelChange",function(m){return f(r),y(i.advertisementObject.description,m)||(i.advertisementObject.description=m),h(m)}),o()(),a(40,"div",8)(41,"label",28),p(42,"i",29),s(43,"Orientation "),o(),a(44,"select",30),M("ngModelChange",function(m){return f(r),y(i.advertisementObject.orientation,m)||(i.advertisementObject.orientation=m),h(m)}),a(45,"option",31),s(46,"Select orientation"),o(),v(47,bs,2,2,"option",32),o()(),a(48,"button",33),b("click",function(){return f(r),h(i.addAdvertisement())}),p(49,"i",34),s(50),o()()()()()()}if(t&2){let r=ve(9);l(14),C("ngModel",i.selectedVideoSource),l(3),c("ngIf",i.selectedVideoSource==="local"),l(),c("ngIf",i.selectedVideoSource==="youtube"),l(2),c("ngIf",i.isUploading),l(),c("ngIf",i.successMessage),l(),c("ngIf",i.errorMessage),l(2),c("disabled",i.isUploading||!i.selectedFile&&!i.youtubeUrl),l(),c("ngClass",i.isUploading?"fa-spinner fa-spin":"fa-upload"),l(2),k(i.isUploading?"Uploading...":"Upload Video"),l(),c("ngIf",i.isUploading),l(),se("disabled-form",!i.isVideoProcessed),l(5),C("ngModel",i.advertisementObject.name),c("disabled",!i.isVideoProcessed),l(5),C("ngModel",i.advertisementObject.description),c("disabled",!i.isVideoProcessed),l(5),C("ngModel",i.advertisementObject.orientation),c("disabled",!i.isVideoProcessed),l(3),c("ngForOf",i.orientations),l(),c("disabled",!i.isVideoProcessed||i.isSubmitting||!r.form.valid),l(2),w(" ",i.isSubmitting?"Saving...":"Save Advertisement"," ")}},dependencies:[Pe,j,D,$,G,Z,F,Q,B,W,K,q,H],styles:['.confirmation-dialog[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.confirmation-content[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:4px;box-shadow:0 4px 20px #00000026;max-width:400px;width:90%;text-align:center;animation:_ngcontent-%COMP%_scaleIn .3s ease-out}.confirmation-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2d3748;margin-bottom:1rem}.confirmation-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;margin-bottom:1.5rem}.confirmation-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center}.confirmation-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:4px;border:none;cursor:pointer;font-weight:500;transition:all .3s ease}.confirmation-actions[_ngcontent-%COMP%]   button.confirm-btn[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.confirmation-actions[_ngcontent-%COMP%]   button.confirm-btn[_ngcontent-%COMP%]:hover{background:#bd2130}.confirmation-actions[_ngcontent-%COMP%]   button.cancel-btn[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.confirmation-actions[_ngcontent-%COMP%]   button.cancel-btn[_ngcontent-%COMP%]:hover{background:#545b62}.waiting-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#ffffffe6;display:flex;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.waiting-content[_ngcontent-%COMP%]{text-align:center;animation:_ngcontent-%COMP%_pulse 2s infinite}.waiting-content[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(0,123,255,.1);border-left-color:#007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.waiting-content[_ngcontent-%COMP%]   .waiting-text[_ngcontent-%COMP%]{color:#2d3748;font-weight:500;margin-top:1rem}.waiting-content[_ngcontent-%COMP%]   .waiting-subtext[_ngcontent-%COMP%]{color:#718096;font-size:.9rem;margin-top:.5rem}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(.95);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.progress-bar-container[_ngcontent-%COMP%]{width:100%;max-width:300px;margin:1rem auto;background:#007bff1a;border-radius:999px;overflow:hidden;height:6px}.progress-bar[_ngcontent-%COMP%]{height:100%;background:#007bff;transition:width .3s ease;border-radius:999px}.status-dot[_ngcontent-%COMP%]{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:.5rem}.status-dot.status-waiting[_ngcontent-%COMP%]{background:gold;animation:_ngcontent-%COMP%_blink 1s infinite}.status-dot.status-success[_ngcontent-%COMP%]{background:#28a745}.status-dot.status-error[_ngcontent-%COMP%]{background:#dc3545}@keyframes _ngcontent-%COMP%_blink{0%{opacity:.4}50%{opacity:1}to{opacity:.4}}.upload-alert[_ngcontent-%COMP%]{position:fixed;top:0;left:50%;transform:translate(-50%);z-index:1050;background:#fff;padding:1rem 2rem;border-radius:0 0 4px 4px;box-shadow:0 4px 20px #00000026;display:flex;align-items:center;gap:1rem;min-width:300px;animation:_ngcontent-%COMP%_slideDown .3s ease-out forwards;border:1px solid rgba(220,53,69,.2);border-top:none}.upload-alert[_ngcontent-%COMP%]:before{content:"\\f071";font-family:"Font Awesome 5 Free";font-weight:900;color:#dc3545;font-size:1.2rem}.upload-alert[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{color:#bd2130;font-weight:500;margin:0}.upload-alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:auto;background:transparent;border:none;color:#00000080;cursor:pointer;padding:.25rem;font-size:1.2rem;transition:all .3s ease}.upload-alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{color:#000c}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translate(-50%,-100%)}to{transform:translate(-50%)}}.page-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#e4e8eb);padding:2rem 1rem}.content-wrapper[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem;color:#2d3748;margin-bottom:.5rem;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{color:#718096;font-size:1.1rem}.container[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:4px;transition:all .3s ease}.container[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 15px 35px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:600;color:#2d3748;margin-bottom:.75rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;color:#007bff}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:4px;border:2px solid #e0e0e0;padding:.75rem;transition:all .3s ease}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.form-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.upload-btn-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%}.file-upload-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1.5rem;background:#f8f9fa;border:2px dashed #cfd8dc;border-radius:4px;cursor:pointer;transition:all .3s ease;width:100%}.file-upload-label[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#007bff0d}.file-upload-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:.75rem;color:#007bff}.file-upload-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#718096;font-weight:500}.selected-file-info[_ngcontent-%COMP%]{margin-top:.75rem;padding:.75rem;background:#28a7451a;border-radius:4px;display:flex;align-items:center;color:#28a745}.selected-file-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.progress[_ngcontent-%COMP%]{height:.75rem;border-radius:4px;background:#e9ecef;overflow:hidden;margin-top:1rem}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(45deg,#007bff,#6c757d);transition:width .3s ease}.alert[_ngcontent-%COMP%]{border-radius:4px;padding:1.25rem;margin-bottom:1.25rem;display:flex;align-items:center;position:relative;overflow:hidden}.alert[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:1rem;font-size:1.25rem}.alert.alert-success[_ngcontent-%COMP%]{background:#28a7451a;color:#1e7e34;border:1px solid rgba(40,167,69,.2)}.alert.alert-success[_ngcontent-%COMP%]:before{background:#28a745}.alert.alert-danger[_ngcontent-%COMP%]{background:#dc35451a;color:#bd2130;border:1px solid rgba(220,53,69,.2)}.alert.alert-danger[_ngcontent-%COMP%]:before{background:#dc3545}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:auto;padding:.5rem;background:transparent;border:none;color:inherit;opacity:.7;cursor:pointer;transition:all .3s ease}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.message[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1rem;border-radius:4px;display:flex;align-items:center;gap:.75rem}.message.info[_ngcontent-%COMP%]{background:#007bff1a;color:#0062cc;border:1px solid rgba(0,123,255,.2)}.message.warning[_ngcontent-%COMP%]{background:#ff98001a;color:#cc7a00;border:1px solid rgba(255,152,0,.2)}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:4px;font-weight:600;display:inline-flex;align-items:center;justify-content:center;transition:all .3s ease}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(45deg,#007bff,#6c757d);border:none;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 15px #007bff4d}.btn.btn-success[_ngcontent-%COMP%]{background:linear-gradient(45deg,#28a745,#1e7e34);border:none;color:#fff}.btn.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 15px #28a7454d}.btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.disabled-form[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}@keyframes _ngcontent-%COMP%_alertPulse{0%{transform:translate(-50%,-50%) scale(1);box-shadow:0 8px 25px #00000026}50%{transform:translate(-50%,-50%) scale(1.02);box-shadow:0 12px 30px #dc354533}to{transform:translate(-50%,-50%) scale(1);box-shadow:0 8px 25px #00000026}}.alert-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:5;opacity:0;animation:_ngcontent-%COMP%_fadeIn .3s forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem}.container[_ngcontent-%COMP%]{padding:1.5rem}.btn[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}}']})};function vs(n,e){if(n&1){let t=S();a(0,"tr")(1,"td"),s(2),o(),a(3,"td"),s(4),o(),a(5,"td"),s(6),o(),a(7,"td"),s(8),R(9,"titlecase"),o(),a(10,"td")(11,"a",13),b("click",function(){let r=f(t).$implicit,d=u();return h(d.openModal(r.videoUrl))}),p(12,"i",14),s(13," View Video "),o()(),a(14,"td")(15,"button",15),b("click",function(){let r=f(t).$implicit,d=u();return h(d.confirmArchive(r._id))}),p(16,"i",16),s(17," Unarchive "),o()()()}if(n&2){let t=e.$implicit,i=e.index,r=u();l(2),k(i+1+(r.currentPage-1)*r.itemsPerPage),l(2),k(t.name),l(2),k(t.description),l(2),k(Y(9,4,t.orientation))}}function ws(n,e){if(n&1&&p(0,"video",24),n&2){let t=u(2);c("src",t.selectedVideoUrl,Me)}}function _s(n,e){if(n&1){let t=S();a(0,"div",17)(1,"div",18),b("click",function(){f(t);let r=u();return h(r.closeModal())}),o(),a(2,"div",19)(3,"button",20),b("click",function(){f(t);let r=u();return h(r.closeModal())}),s(4,"\u2716"),o(),a(5,"h5",21),s(6,"Advertisement Video"),o(),a(7,"div",22),v(8,ws,1,1,"video",23),o()()()}if(n&2){let t=u();l(8),c("ngIf",t.selectedVideoUrl)}}function xs(n,e){if(n&1){let t=S();a(0,"div",17)(1,"div",18),b("click",function(){f(t);let r=u();return h(r.closeConfirmDialog())}),o(),a(2,"div",19)(3,"h5",21),s(4,"Confirm Unarchive"),o(),a(5,"p"),s(6,"Are you sure you want to unarchive this advertisement?"),o(),a(7,"div",25)(8,"button",15),b("click",function(){f(t);let r=u();return h(r.unarchiveAd(r.archivingAdId))}),s(9," Yes "),o(),a(10,"button",26),b("click",function(){f(t);let r=u();return h(r.closeConfirmDialog())}),s(11," No "),o()()()()}}var Vt=class n{constructor(e,t){this.adminService=e;this.authService=t;this.userRole=this.authService.userRole||"user",this.userId=this.authService.userId||""}advertisements=[];filteredAds=[];userRole="";userId="";successMessage="";errorMessage="";selectedVideoUrl="";isModalOpen=!1;isConfirmDialogOpen=!1;archivingAdId="";currentPage=1;itemsPerPage=5;searchTerm="";ngOnInit(){this.loadAdvertisements()}loadAdvertisements(){this.userRole==="admin"?this.adminService.getAds().subscribe(e=>{this.advertisements=(e.data||[]).filter(t=>t.isDeleted===!0),this.filteredAds=[...this.advertisements]},e=>{console.error("Error fetching advertisements:",e),this.errorMessage=e.error?.message||"Failed to load advertisements."}):this.adminService.getAdvertisementsByUserId(this.userId).subscribe(e=>{this.advertisements=(e.data||[]).filter(t=>t.isDeleted===!0),this.filteredAds=[...this.advertisements]},e=>{console.error("Error fetching advertisements:",e),this.errorMessage=e.error?.message||"Failed to load advertisements."})}filteredAdvertisements(){if(!this.searchTerm)this.filteredAds=this.advertisements;else{let e=this.searchTerm.toLowerCase();this.filteredAds=this.advertisements.filter(t=>t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.orientation.toLowerCase().includes(e))}return this.paginatedAdvertisements()}paginatedAdvertisements(){let e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.filteredAds.slice(e,t)}get totalPages(){return Math.ceil(this.filteredAds.length/this.itemsPerPage)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}previousPage(){this.currentPage>1&&this.currentPage--}openModal(e){this.selectedVideoUrl=e,this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}confirmArchive(e){this.archivingAdId=e,this.isConfirmDialogOpen=!0}unarchiveAd(e){this.adminService.unarchiveAds(e).subscribe(()=>{this.successMessage="Advertisement unarchived successfully!",this.loadAdvertisements(),this.closeConfirmDialog()},t=>{console.error("Error unarchiving advertisement:",t),this.errorMessage=t.error?.message||"Failed to unarchive advertisement."})}closeConfirmDialog(){this.isConfirmDialogOpen=!1,this.archivingAdId=""}static \u0275fac=function(t){return new(t||n)(x(L),x(pe))};static \u0275cmp=T({type:n,selectors:[["app-archiv-ads"]],standalone:!1,decls:34,vars:8,consts:[[1,"container","ad-list-container"],[1,"list-title"],[1,"row","mb-3"],[1,"col-md-6"],[1,"search-container"],["type","text","placeholder","Search advertisements...",1,"form-control","search-input",3,"ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","ad-table"],[4,"ngFor","ngForOf"],[1,"pagination-container"],[1,"btn","btn-secondary","me-2",3,"click","disabled"],[1,"btn","btn-secondary","ms-2",3,"click","disabled"],["class","custom-modal",4,"ngIf"],["href","javascript:void(0)",1,"video-link",3,"click"],[1,"fas","fa-video","me-2"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-undo","me-2"],[1,"custom-modal"],[1,"modal-overlay",3,"click"],[1,"modal-content"],[1,"modal-close",3,"click"],[1,"modal-title"],[1,"video-container"],["controls","","class","modal-video",3,"src",4,"ngIf"],["controls","",1,"modal-video",3,"src"],[1,"dialog-actions"],[1,"btn","btn-secondary",3,"click"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"h2",1),s(2,"Archived Advertisement List"),o(),a(3,"div",2)(4,"div",3)(5,"div",4)(6,"input",5),M("ngModelChange",function(d){return y(i.searchTerm,d)||(i.searchTerm=d),d}),o()()()(),a(7,"div",6)(8,"table",7)(9,"thead")(10,"tr")(11,"th"),s(12,"#"),o(),a(13,"th"),s(14,"Name"),o(),a(15,"th"),s(16,"Description"),o(),a(17,"th"),s(18,"Orientation"),o(),a(19,"th"),s(20,"Video URL"),o(),a(21,"th"),s(22,"Actions"),o()()(),a(23,"tbody"),v(24,vs,18,6,"tr",8),o()()(),a(25,"div",9)(26,"button",10),b("click",function(){return i.previousPage()}),s(27," Previous "),o(),a(28,"span"),s(29),o(),a(30,"button",11),b("click",function(){return i.nextPage()}),s(31," Next "),o()(),v(32,_s,9,1,"div",12)(33,xs,12,0,"div",12),o()),t&2&&(l(6),C("ngModel",i.searchTerm),l(18),c("ngForOf",i.filteredAdvertisements()),l(2),c("disabled",i.currentPage===1),l(3),ue("Page ",i.currentPage," of ",i.totalPages,""),l(),c("disabled",i.currentPage===i.totalPages),l(2),c("ngIf",i.isModalOpen),l(),c("ngIf",i.isConfirmDialogOpen))},dependencies:[j,D,F,B,q,oe],styles:[".ad-list-container[_ngcontent-%COMP%]{margin-top:30px;padding:20px;background:#f9f9f9;border-radius:15px;box-shadow:0 8px 20px #0003}.list-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;text-align:center;margin-bottom:20px;color:#333}.ad-table[_ngcontent-%COMP%]{width:100%;border-radius:15px;overflow:hidden;box-shadow:0 8px 15px #0000001a;margin-bottom:30px}.table-header[_ngcontent-%COMP%]{background:#007bff;color:#fff;font-size:1.2rem;text-transform:uppercase}.ad-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ad-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;padding:20px;vertical-align:middle;font-size:1rem}.ad-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .3s ease,box-shadow .3s ease;height:60px}.ad-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;box-shadow:0 5px 10px #0000001a}.video-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-weight:700}.video-link[_ngcontent-%COMP%]:hover{color:#0056b3;text-decoration:underline}.btn[_ngcontent-%COMP%]{padding:8px 15px;font-size:1rem;border-radius:50px;transition:background .3s ease,transform .2s ease}.btn-archive[_ngcontent-%COMP%]{background:#168c57;color:#fff;border:none}.btn-archive[_ngcontent-%COMP%]:hover{background:#0f6b42;transform:translateY(-2px)}.btn-unarchive[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none}.btn-unarchive[_ngcontent-%COMP%]:hover{background:#1e7e34;transform:translateY(-2px)}.alert[_ngcontent-%COMP%]{margin-bottom:15px;border-radius:5px;padding:10px 15px;text-align:center}@media (max-width: 768px){.ad-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ad-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;font-size:.9rem}.ad-list-container[_ngcontent-%COMP%]{padding:10px}}.custom-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1}.modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 10px #0000004d;z-index:2;text-align:center;width:70%;max-width:500px}.modal-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:15px;color:#333}.modal-video[_ngcontent-%COMP%]{width:100%;height:auto;max-height:400px;border-radius:10px}.modal-close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:transparent;border:none;font-size:1.5rem;cursor:pointer;color:#666}.modal-close[_ngcontent-%COMP%]:hover{color:#000}.confirmation-dialog[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.confirmation-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080}.confirmation-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 10px #0000004d;z-index:2;text-align:center;width:90%;max-width:400px}.confirmation-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px}.confirmation-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:20px}.btn-confirm-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:10px 15px;border-radius:5px;cursor:pointer}.btn-confirm-danger[_ngcontent-%COMP%]:hover{background-color:#a71d2a}.btn-confirm-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:10px 15px;border-radius:5px;cursor:pointer}.btn-confirm-secondary[_ngcontent-%COMP%]:hover{background-color:#545b62}.edit-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.edit-modal-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080}.edit-modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 10px #0000004d;z-index:2;width:90%;max-width:500px;text-align:center}.edit-modal[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:transparent;border:none;font-size:1.5rem;cursor:pointer}.edit-modal[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{color:#000}.edit-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{text-align:left}.edit-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.edit-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;color:#333;display:block;margin-bottom:5px}.edit-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .edit-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .edit-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;font-size:1rem}.edit-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}.edit-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;background:#fff}.edit-modal[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 15px;border-radius:5px;font-size:1rem;font-weight:700;cursor:pointer;transition:background-color .3s ease}.edit-modal[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};function Cs(n,e){if(n&1&&(a(0,"div",25),p(1,"i",26),s(2),o()),n&2){let t=u();l(2),w("",t.successMessage," ")}}function ys(n,e){if(n&1&&(a(0,"div",27),p(1,"i",28),s(2),o()),n&2){let t=u();l(2),w("",t.errorMessage," ")}}function Ms(n,e){if(n&1&&(a(0,"option",29),s(1),R(2,"titlecase"),o()),n&2){let t=e.$implicit;c("value",t),l(),w(" ",Y(2,2,t)," ")}}function Ps(n,e){n&1&&p(0,"span",30)}function Ss(n,e){n&1&&p(0,"i",31)}function Os(n,e){n&1&&(a(0,"span"),s(1,"Submit"),o())}var Lt=class n{constructor(e,t){this.adminService=e;this.router=t}deviceObject={name:"",description:"",orientation:""};orientations=["portrait","landscape"];isSubmitting=!1;successMessage="";errorMessage="";addDevice(){this.isSubmitting=!0,this.successMessage="",this.errorMessage="",this.adminService.addDevices(this.deviceObject).subscribe(e=>{console.log("Device added:",e),this.successMessage="Device added successfully!",this.isSubmitting=!1,this.deviceObject={name:"",description:"",orientation:""}},e=>{console.error("Error adding device:",e),this.errorMessage=e.error?.message||"Failed to add device. Please try again.",this.isSubmitting=!1})}navigateToList(){this.router.navigate(["/admin/Devices"])}static \u0275fac=function(t){return new(t||n)(x(L),x(V))};static \u0275cmp=T({type:n,selectors:[["app-add-devices"]],standalone:!1,decls:32,vars:10,consts:[[1,"container","device-form-container"],[1,"form-card"],[1,"back-button","mb-5"],[1,"btn-back",3,"click"],[1,"fas","fa-arrow-left","me-2"],[1,"form-title"],[1,"fas","fa-tablet-alt","me-2"],["class","alert alert-success","role","alert",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","name"],[1,"fas","fa-tag","me-2"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","description"],[1,"fas","fa-align-left","me-2"],["id","description","name","description","rows","3","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","orientation"],[1,"fas","fa-arrows-alt","me-2"],["id","orientation","name","orientation","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn-submit",3,"disabled"],["class","spinner",4,"ngIf"],["class","fas fa-paper-plane me-2",4,"ngIf"],[4,"ngIf"],["role","alert",1,"alert","alert-success"],[1,"fas","fa-check-circle","me-2"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-circle","me-2"],[3,"value"],[1,"spinner"],[1,"fas","fa-paper-plane","me-2"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),b("click",function(){return i.navigateToList()}),p(4,"i",4),s(5,"Back to List "),o()(),a(6,"h2",5),p(7,"i",6),s(8,"Add Device "),o(),v(9,Cs,3,1,"div",7)(10,ys,3,1,"div",8),a(11,"form",9),b("ngSubmit",function(){return i.addDevice()}),a(12,"div",10)(13,"label",11),p(14,"i",12),s(15,"Name "),o(),a(16,"input",13),M("ngModelChange",function(d){return y(i.deviceObject.name,d)||(i.deviceObject.name=d),d}),o()(),a(17,"div",10)(18,"label",14),p(19,"i",15),s(20,"Description "),o(),a(21,"textarea",16),M("ngModelChange",function(d){return y(i.deviceObject.description,d)||(i.deviceObject.description=d),d}),o()(),a(22,"div",10)(23,"label",17),p(24,"i",18),s(25,"Orientation "),o(),a(26,"select",19),M("ngModelChange",function(d){return y(i.deviceObject.orientation,d)||(i.deviceObject.orientation=d),d}),v(27,Ms,3,4,"option",20),o()(),a(28,"button",21),v(29,Ps,1,0,"span",22)(30,Ss,1,0,"i",23)(31,Os,2,0,"span",24),o()()()()),t&2&&(l(9),c("ngIf",i.successMessage),l(),c("ngIf",i.errorMessage),l(6),C("ngModel",i.deviceObject.name),l(5),C("ngModel",i.deviceObject.description),l(5),C("ngModel",i.deviceObject.orientation),l(),c("ngForOf",i.orientations),l(),c("disabled",i.isSubmitting),l(),c("ngIf",i.isSubmitting),l(),c("ngIf",!i.isSubmitting),l(),c("ngIf",!i.isSubmitting))},dependencies:[j,D,$,G,Z,F,Q,B,W,K,q,H,oe],styles:[".device-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px;color:#fff}.form-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 10px 30px #0003;padding:40px 30px;width:100%;max-width:500px;text-align:center;transition:transform .3s ease,box-shadow .3s ease}.form-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 35px #0000004d}.form-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin-bottom:20px;display:flex;align-items:center;justify-content:center;gap:10px}.form-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#007bff}.alert[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:10px;padding:10px 15px;font-size:1rem;text-align:center}.alert-success[_ngcontent-%COMP%]{background-color:#e6f7e6;color:#28a745;border:1px solid #28a745}.alert-danger[_ngcontent-%COMP%]{background-color:#fdeaea;color:#dc3545;border:1px solid #dc3545}.form-group[_ngcontent-%COMP%]{margin-bottom:20px;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:600;margin-bottom:5px;color:#555}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:2px solid #ddd;border-radius:10px;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease;background:#f9f9f9}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 8px #007bff4d;background:#fff}.btn-submit[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:12px 20px;border-radius:25px;font-size:1rem;font-weight:600;text-transform:uppercase;cursor:pointer;transition:all .3s ease;box-shadow:0 5px 15px #007bff66}.btn-submit[_ngcontent-%COMP%]:hover{background:#0056b3;box-shadow:0 10px 25px #0056b380;transform:translateY(-2px)}.btn-submit[_ngcontent-%COMP%]:active{transform:translateY(2px);box-shadow:0 3px 8px #007bff4d}.btn-submit[_ngcontent-%COMP%]:disabled{background:#ccc;color:#999;cursor:not-allowed;box-shadow:none}.spinner[_ngcontent-%COMP%]{width:18px;height:18px;border:3px solid #f3f3f3;border-top:3px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.back-button[_ngcontent-%COMP%]{margin-bottom:20px;text-align:left}.btn-back[_ngcontent-%COMP%]{background:#6c757d;color:#fff;border:none;padding:10px 20px;border-radius:50px;font-size:1rem;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px;box-shadow:0 8px 15px #6c757d66}.btn-back[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px);box-shadow:0 10px 20px #5a626880}.btn-back[_ngcontent-%COMP%]:active{transform:translateY(2px)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.form-card[_ngcontent-%COMP%]{padding:20px 30px}.btn-submit[_ngcontent-%COMP%], .btn-back[_ngcontent-%COMP%]{padding:10px 15px}}"]})};var ks=(n,e)=>({paired:n,unpaired:e}),As=(n,e)=>({"fa-solid fa-link":n,"fas fa-times-circle":e});function Is(n,e){if(n&1){let t=S();a(0,"ul",20)(1,"li",21)(2,"a",22),b("click",function(){f(t);let r=u();return h(r.switchTab("all"))}),p(3,"i",23),s(4,"All Devices "),o()(),a(5,"li",21)(6,"a",22),b("click",function(){f(t);let r=u();return h(r.switchTab("my"))}),p(7,"i",24),s(8,"My Devices "),o()()()}if(n&2){let t=u();l(2),se("active",t.activeTab==="all"),l(4),se("active",t.activeTab==="my")}}function Es(n,e){if(n&1){let t=S();a(0,"li")(1,"button",43),b("click",function(){f(t);let r=u().$implicit,d=u();return h(d.unpairageDevice(r.deviceId))}),p(2,"i",48),s(3," Unpair "),o()()}}function Ts(n,e){if(n&1){let t=S();a(0,"div",25)(1,"div",26)(2,"div",27),s(3),o(),a(4,"div",28),p(5,"i",29),a(6,"span"),s(7),o()()(),a(8,"div",30)(9,"div",31)(10,"div",32)(11,"label"),s(12,"Device ID"),o(),a(13,"h3"),s(14),o()(),a(15,"div",32)(16,"label"),s(17,"Name"),o(),a(18,"h4"),s(19),o()(),a(20,"div",32)(21,"label"),s(22,"Description"),o(),a(23,"p"),s(24),o()(),a(25,"div",32)(26,"label"),s(27,"Orientation"),o(),a(28,"span",33),s(29),R(30,"titlecase"),o()()()(),a(31,"div",34)(32,"button",35),b("click",function(){let r=f(t).$implicit,d=u();return h(d.openEditModal(r))}),p(33,"i",36),a(34,"span"),s(35,"Edit"),o()(),a(36,"button",37),b("click",function(){let r=f(t).$implicit,d=u();return h(d.openScheduleModal(r))}),p(37,"i",38),a(38,"span"),s(39,"Schedule"),o()(),a(40,"div",39)(41,"button",40),p(42,"i",41),o(),a(43,"ul",42)(44,"li")(45,"button",43),b("click",function(){let r=f(t).$implicit,d=u();return h(d.confirmArchive(r._id))}),p(46,"i",44),s(47," Archive "),o()(),v(48,Es,4,0,"li",45),a(49,"li")(50,"button",46),b("click",function(){let r=f(t).$implicit,d=u();return h(d.deleteDevice(r._id))}),p(51,"i",47),s(52," Delete "),o()()()()()()}if(n&2){let t=e.$implicit,i=e.index,r=u();l(3),w("#",(r.currentPage-1)*r.itemsPerPage+i+1,""),l(),c("ngClass",Ze(11,ks,t.isPaired,!t.isPaired)),l(),c("ngClass",Ze(14,As,t.isPaired===!0,t.isPaired===!1)),l(2),k(t.isPaired?"Paired":"Not Paired"),l(7),k(t.deviceId),l(5),k(t.name),l(5),k(t.description),l(5),k(Y(30,9,t.orientation)),l(19),c("ngIf",t.isPaired)}}function Ds(n,e){n&1&&(a(0,"div",60)(1,"p"),s(2,"No advertisements available to schedule."),o()())}function Vs(n,e){n&1&&(a(0,"div",73),p(1,"div",74),a(2,"span"),s(3,"Loading video..."),o()())}function Ls(n,e){if(n&1){let t=S();a(0,"video",75),b("loadeddata",function(){f(t);let r=u().$implicit;return h(r.videoLoaded=!0)}),o()}if(n&2){let t=u().$implicit;se("hidden",!t.videoLoaded),c("src",t.videoUrl,Me)}}function Us(n,e){if(n&1){let t=S();a(0,"div",63)(1,"div",64)(2,"div",65),v(3,Vs,4,0,"div",66)(4,Ls,1,3,"video",67),o(),a(5,"div",68)(6,"div",69)(7,"input",70,0),b("change",function(){let r=f(t).$implicit,d=ve(8),m=u(3);return h(m.toggleAdSelection(r._id,d.checked))}),o(),a(9,"label",71),s(10),o()(),a(11,"p",72),s(12),o()()()()}if(n&2){let t=e.$implicit;l(3),c("ngIf",!t.videoLoaded),l(),c("ngIf",t.videoUrl),l(3),c("id","checkbox-"+t._id)("value",t._id),l(2),c("for","checkbox-"+t._id),l(),w(" ",t.name," "),l(),yn("title",t.description),l(),w(" ",t.description," ")}}function Ns(n,e){if(n&1&&(a(0,"div",61),v(1,Us,13,8,"div",62),o()),n&2){let t=u(2);l(),c("ngForOf",t.ads)}}function js(n,e){if(n&1){let t=S();a(0,"div",49)(1,"div",50)(2,"div",51)(3,"div",52)(4,"h5",53),s(5,"Schedule Ads"),o(),a(6,"button",54),b("click",function(){f(t);let r=u();return h(r.isScheduleModalOpen=!1)}),o()(),a(7,"div",55),v(8,Ds,3,0,"div",56)(9,Ns,2,1,"div",57),o(),a(10,"div",58)(11,"button",59),b("click",function(){f(t);let r=u();return h(r.navigateToSchedule())}),s(12," Schedule "),o()()()()()}if(n&2){let t=u();l(8),c("ngIf",t.ads.length===0),l(),c("ngIf",t.ads.length>0)}}function Fs(n,e){if(n&1){let t=S();a(0,"div",49)(1,"div",76)(2,"div",51)(3,"div",77)(4,"h5",53),s(5,"Confirm Archive"),o(),a(6,"button",54),b("click",function(){f(t);let r=u();return h(r.closeConfirmDialog())}),o()(),a(7,"div",55)(8,"p"),s(9,"Are you sure you want to archive this device?"),o()(),a(10,"div",58)(11,"button",78),b("click",function(){f(t);let r=u();return h(r.closeConfirmDialog())}),s(12," Cancel "),o(),a(13,"button",79),b("click",function(){f(t);let r=u();return h(r.archiveDevice())}),s(14," Archive "),o()()()()()}}function Bs(n,e){if(n&1){let t=S();a(0,"div",49)(1,"div",76)(2,"div",51)(3,"div",77)(4,"h5",53),s(5,"Edit Device"),o(),a(6,"button",54),b("click",function(){f(t);let r=u();return h(r.closeEditModal())}),o()(),a(7,"div",55)(8,"form",null,1)(10,"div",80)(11,"label",81),s(12,"Device ID"),o(),a(13,"input",82),M("ngModelChange",function(r){f(t);let d=u();return y(d.editDeviceObject.deviceId,r)||(d.editDeviceObject.deviceId=r),h(r)}),o()(),a(14,"div",80)(15,"label",83),s(16,"Name"),o(),a(17,"input",84),M("ngModelChange",function(r){f(t);let d=u();return y(d.editDeviceObject.name,r)||(d.editDeviceObject.name=r),h(r)}),o()(),a(18,"div",80)(19,"label",85),s(20,"Description"),o(),a(21,"textarea",86),M("ngModelChange",function(r){f(t);let d=u();return y(d.editDeviceObject.description,r)||(d.editDeviceObject.description=r),h(r)}),o()(),a(22,"div",80)(23,"label",87),s(24,"Orientation"),o(),a(25,"select",88),M("ngModelChange",function(r){f(t);let d=u();return y(d.editDeviceObject.orientation,r)||(d.editDeviceObject.orientation=r),h(r)}),a(26,"option",89),s(27,"Landscape"),o(),a(28,"option",90),s(29,"Portrait"),o()()()()(),a(30,"div",58)(31,"button",78),b("click",function(){f(t);let r=u();return h(r.closeEditModal())}),s(32," Cancel "),o(),a(33,"button",91),b("click",function(){f(t);let r=u();return h(r.updateDevice())}),s(34," Save Changes "),o()()()()()}if(n&2){let t=ve(9),i=u();l(13),C("ngModel",i.editDeviceObject.deviceId),l(4),C("ngModel",i.editDeviceObject.name),l(4),C("ngModel",i.editDeviceObject.description),l(4),C("ngModel",i.editDeviceObject.orientation),l(8),c("disabled",!t.form.valid)}}var rt=class n{constructor(e,t,i,r){this.adminService=e;this.router=t;this.authService=i;this.route=r;this.userRole=this.authService.userRole||"user",this.userId=this.authService.userId||"",console.log("Constructor - User ID:",this.userId),console.log("Constructor - User Role:",this.userRole)}devices=[];filteredDevices=[];ads=[];searchTerm="";currentPage=1;itemsPerPage=5;totalPages=0;errorMessage="";editDeviceObject={};isEditModalOpen=!1;isConfirmDialogOpen=!1;archivingDeviceId="";selectedDevice=null;selectedAds=[];isScheduleModalOpen=!1;userId;filteredAds=[];userRole;activeTab="all";allDevices=[];myDevices=[];ngOnInit(){this.route.params.subscribe(e=>{this.loadDevices()})}loadDevices(){this.userRole==="admin"||this.userRole==="SUPERADMIN"?this.adminService.getDevices().subscribe(e=>{e&&Array.isArray(e.data)?(this.allDevices=e.data.filter(t=>t.isDeleted===!1),this.myDevices=this.allDevices.filter(t=>t.userId?._id===this.userId||t.userId===this.userId),console.log("All Devices:",this.allDevices),console.log("My Devices:",this.myDevices),console.log("Current User ID:",this.userId),this.devices=this.activeTab==="all"?this.allDevices:this.myDevices,this.filteredDevices=[...this.devices],this.calculatePagination()):console.error("Unexpected response format:",e)},e=>{this.errorMessage=e.error?.message||"Failed to load devices. Please try again."}):this.adminService.getDevices().subscribe(e=>{e&&Array.isArray(e.data)&&(this.devices=e.data.filter(t=>t.isDeleted===!1),this.myDevices=[...this.devices],this.allDevices=[...this.devices],this.filteredDevices=[...this.devices],this.calculatePagination())},e=>{this.errorMessage=e.error?.message||"Failed to load devices. Please try again."})}unpairageDevice(e){this.adminService.isPaired(e).subscribe(t=>{this.loadDevices()})}loadAds(){this.userRole==="admin"?this.adminService.getAds().subscribe(e=>{this.ads=(e.data||[]).filter(t=>t.isDeleted===!1),this.filteredAds=[...this.ads]},e=>{console.error("Error fetching advertisements:",e),this.errorMessage=e.error?.message||"Failed to load advertisements."}):this.adminService.getAdvertisementsByUserId(this.userId).subscribe(e=>{this.ads=(e.data||[]).filter(t=>t.isDeleted===!1),this.filteredAds=[...this.ads]},e=>{console.error("Error fetching advertisements:",e),this.errorMessage=e.error?.message||"Failed to load advertisements."})}onSearch(){let e=this.searchTerm.toLowerCase();this.filteredDevices=this.devices.filter(t=>t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.orientation.toLowerCase().includes(e)),this.calculatePagination()}calculatePagination(){this.totalPages=Math.ceil(this.filteredDevices.length/this.itemsPerPage),this.currentPage=Math.min(this.currentPage,this.totalPages||1)}getPaginatedDevices(){let e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.filteredDevices.slice(e,t)}previousPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}openEditModal(e){this.editDeviceObject=J({},e),this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1}updateDevice(){this.adminService.updateDevices(this.editDeviceObject._id,this.editDeviceObject).subscribe(()=>{this.loadDevices(),this.isEditModalOpen=!1},e=>{this.errorMessage=e.error?.message||"Failed to update device. Please try again."})}confirmArchive(e){this.archivingDeviceId=e,this.isConfirmDialogOpen=!0}archiveDevice(){this.adminService.archiveDevices(this.archivingDeviceId).subscribe(()=>{this.loadDevices(),this.isConfirmDialogOpen=!1},e=>{this.errorMessage=e.error?.message||"Failed to archive device. Please try again."})}closeConfirmDialog(){this.isConfirmDialogOpen=!1,this.archivingDeviceId=""}openScheduleModal(e){this.selectedDevice=e,this.loadAds(),this.isScheduleModalOpen=!0}navigateToSchedule(){this.isScheduleModalOpen=!1;let e={deviceId:this.selectedDevice._id,ads:this.selectedAds.join(",")};this.router.navigate(["/admin/Makeschedule"],{queryParams:e})}toggleAdSelection(e,t){t?this.selectedAds.push(e):this.selectedAds=this.selectedAds.filter(i=>i!==e)}navigateToAddDevice(){this.router.navigate(["/admin/addDevices"])}deleteDevice(e){this.adminService.deleteDeviceById(e).subscribe(()=>{this.loadDevices()},t=>{this.errorMessage=t.error?.message||"Failed to delete device."})}switchTab(e){this.activeTab=e,this.devices=e==="all"?this.allDevices:this.myDevices,this.filteredDevices=[...this.devices],this.calculatePagination(),this.currentPage=1,console.log("Switched to tab:",e),console.log("Current devices:",this.devices)}static \u0275fac=function(t){return new(t||n)(x(L),x(V),x(pe),x(Se))};static \u0275cmp=T({type:n,selectors:[["app-devices"]],standalone:!1,decls:26,vars:10,consts:[["adCheckbox",""],["editForm","ngForm"],[1,"container","py-4","ad-list-container"],[1,"list-title","text-center"],["class","nav nav-tabs mb-4",4,"ngIf"],[1,"row","align-items-center","mb-3"],[1,"col-md-6","text-start"],[1,"btn","btn-primary","add-ad-btn",3,"click"],[1,"fas","fa-plus-circle","me-2"],[1,"col-md-6"],[1,"input-group"],["type","text","placeholder","Search devices...",1,"form-control","search-input",3,"ngModelChange","input","ngModel"],[1,"devices-grid"],["class","device-card",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"fw-bold","text-primary"],[1,"fas","fa-chevron-right"],["class","modal fade show","style","display: block;",4,"ngIf"],[1,"nav","nav-tabs","mb-4"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"fas","fa-list","me-2"],[1,"fas","fa-user-circle","me-2"],[1,"device-card"],[1,"device-card-header"],[1,"device-number"],[1,"device-status",3,"ngClass"],[3,"ngClass"],[1,"device-card-body"],[1,"device-info"],[1,"info-group"],[1,"orientation-badge"],[1,"device-card-footer"],[1,"action-btn","edit",3,"click"],[1,"fas","fa-edit"],[1,"action-btn","schedule",3,"click"],[1,"fas","fa-tv"],[1,"dropdown"],["data-bs-toggle","dropdown",1,"action-btn","more"],[1,"fas","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"fas","fa-archive","me-2"],[4,"ngIf"],[1,"dropdown-item","text-danger",3,"click"],[1,"fas","fa-trash-alt","me-2"],[1,"fas","fa-unlink","me-2"],[1,"modal","fade","show",2,"display","block"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-info","text-white"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["class","text-center",4,"ngIf"],["class","row g-3",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"text-center"],[1,"row","g-3"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","h-100","shadow-sm"],[1,"video-container"],["class","loading-spinner",4,"ngIf"],["class","card-img-top rounded-top","controls","","muted","","preload","metadata",3,"src","hidden","loadeddata",4,"ngIf"],[1,"card-body"],[1,"form-check","mb-2"],["type","checkbox",1,"form-check-input",3,"change","id","value"],[1,"form-check-label","text-truncate",3,"for"],[1,"card-text","text-truncate",3,"title"],[1,"loading-spinner"],[1,"spinner"],["controls","","muted","","preload","metadata",1,"card-img-top","rounded-top",3,"loadeddata","src"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-header","bg-warning","text-white"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"mb-3"],["for","deviceId",1,"form-label"],["type","text","id","deviceId","name","deviceId","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","description",1,"form-label"],["id","description","name","description","required","","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","orientation",1,"form-label"],["id","orientation","name","orientation","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","landscape"],["value","portrait"],[1,"btn","btn-primary","btn-sm",3,"click","disabled"]],template:function(t,i){t&1&&(a(0,"div",2)(1,"h2",3),s(2,"Devices List"),o(),v(3,Is,9,4,"ul",4),a(4,"div",5)(5,"div",6)(6,"button",7),b("click",function(){return i.navigateToAddDevice()}),p(7,"i",8),s(8," Add Device "),o()(),a(9,"div",9)(10,"div",10)(11,"input",11),M("ngModelChange",function(d){return y(i.searchTerm,d)||(i.searchTerm=d),d}),b("input",function(){return i.onSearch()}),o()()()(),a(12,"div",12),v(13,Ts,53,17,"div",13),o(),a(14,"div",14)(15,"button",15),b("click",function(){return i.previousPage()}),p(16,"i",16),s(17," Previous "),o(),a(18,"span",17),s(19),o(),a(20,"button",15),b("click",function(){return i.nextPage()}),s(21," Next "),p(22,"i",18),o()(),v(23,js,13,2,"div",19)(24,Fs,15,0,"div",19)(25,Bs,35,5,"div",19),o()),t&2&&(l(3),c("ngIf",i.userRole==="admin"||i.userRole==="SUPERADMIN"),l(8),C("ngModel",i.searchTerm),l(2),c("ngForOf",i.getPaginatedDevices()),l(2),c("disabled",i.currentPage===1),l(4),ue(" Page ",i.currentPage," of ",i.totalPages," "),l(),c("disabled",i.currentPage===i.totalPages),l(3),c("ngIf",i.isScheduleModalOpen),l(),c("ngIf",i.isConfirmDialogOpen),l(),c("ngIf",i.isEditModalOpen))},dependencies:[Pe,j,D,$,G,Z,F,Q,B,W,K,q,H,oe],styles:[".devices-dashboard[_ngcontent-%COMP%]{min-height:100vh;background:#f8f9fa;padding:2rem}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:2rem}.dashboard-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#2c3e50;margin-bottom:.5rem;display:flex;align-items:center;gap:1rem}.dashboard-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3498db}.dashboard-subtitle[_ngcontent-%COMP%]{color:#6c757d;font-size:1rem}.control-panel[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 4px #0000000a;margin-bottom:2rem;display:flex;flex-wrap:wrap;gap:1.5rem}.panel-section[_ngcontent-%COMP%]{flex:1;min-width:300px}.custom-tabs[_ngcontent-%COMP%]{display:flex;gap:1rem;border-bottom:2px solid #e9ecef;padding-bottom:1rem}.tab-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.75rem 1.5rem;color:#6c757d;font-weight:500;border-radius:8px;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.tab-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;color:#3498db}.tab-btn.active[_ngcontent-%COMP%]{background:#e3f2fd;color:#2196f3}.actions-group[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.search-container[_ngcontent-%COMP%]{flex:1;min-width:200px}.search-wrapper[_ngcontent-%COMP%]{position:relative}.search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#6c757d}.search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.5rem;border:1px solid #e9ecef;border-radius:8px;font-size:.95rem;transition:all .3s ease}.search-input[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 3px #3498db1a;outline:none}.btn-add[_ngcontent-%COMP%]{background:#3498db;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:8px;font-weight:500;display:flex;align-items:center;gap:.5rem;transition:all .3s ease}.btn-add[_ngcontent-%COMP%]:hover{background:#2980b9;transform:translateY(-1px)}.devices-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem;padding:1rem 0}.device-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #0000000d;transition:all .3s ease;overflow:hidden;position:relative}.device-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #0000001a}.device-card-header[_ngcontent-%COMP%]{padding:1.25rem;display:flex;justify-content:space-between;align-items:center;background:linear-gradient(to right,#f8f9fa,#fff);border-bottom:1px solid #eef0f2}.device-number[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#6c757d}.device-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;font-size:.875rem;font-weight:500}.device-status.paired[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.device-status.unpaired[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.device-card-body[_ngcontent-%COMP%]{padding:1.5rem}.device-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.info-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.info-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;color:#6c757d;letter-spacing:.5px}.info-group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#2c3e50;margin:0}.info-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;color:#34495e;margin:0}.info-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;margin:0;line-height:1.5}.orientation-badge[_ngcontent-%COMP%]{display:inline-block;padding:.35rem .75rem;background-color:#e3f2fd;color:#1976d2;border-radius:12px;font-size:.875rem;font-weight:500}.device-card-footer[_ngcontent-%COMP%]{padding:1rem;display:flex;gap:.5rem;border-top:1px solid #eef0f2;background-color:#f8f9fa}.action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border:none;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease}.action-btn.edit[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.action-btn.edit[_ngcontent-%COMP%]:hover{background-color:#bbdefb}.action-btn.schedule[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.action-btn.schedule[_ngcontent-%COMP%]:hover{background-color:#e1bee7}.action-btn.more[_ngcontent-%COMP%]{padding:.5rem;background-color:#f5f5f5;color:#616161;margin-left:auto}.action-btn.more[_ngcontent-%COMP%]:hover{background-color:#eee}.dropdown-menu[_ngcontent-%COMP%]{border:none;border-radius:12px;box-shadow:0 4px 20px #0000001a;padding:.5rem}.dropdown-item[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:8px;transition:all .2s ease}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.dropdown-item.text-danger[_ngcontent-%COMP%]:hover{background-color:#ffebee}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem}.pagination-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid #e9ecef;border-radius:6px;background:#fff;color:#6c757d;transition:all .2s ease}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-btn[_ngcontent-%COMP%]:not(:disabled):hover{background:#f8f9fa;color:#3498db}.pagination-info[_ngcontent-%COMP%]{font-size:.95rem;color:#6c757d}@media (max-width: 1200px){.devices-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}}@media (max-width: 992px){.devices-dashboard[_ngcontent-%COMP%]{padding:1.5rem}.control-panel[_ngcontent-%COMP%]{flex-direction:column}.panel-section[_ngcontent-%COMP%]{width:100%}}@media (max-width: 768px){.devices-dashboard[_ngcontent-%COMP%]{padding:1rem}.dashboard-title[_ngcontent-%COMP%]{font-size:1.5rem}.actions-group[_ngcontent-%COMP%]{flex-direction:column}.btn-add[_ngcontent-%COMP%]{width:100%;justify-content:center}.card-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.action-btn[_ngcontent-%COMP%]{flex:1;justify-content:center}.action-btn.more[_ngcontent-%COMP%]{flex:0}}@media (max-width: 576px){.custom-tabs[_ngcontent-%COMP%]{flex-direction:column}.tab-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.status-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .75rem}}.modal-content[_ngcontent-%COMP%]{border:none;border-radius:15px;box-shadow:0 10px 30px #0000001a;background:linear-gradient(to bottom right,#fff,#f8f9fa);overflow:hidden}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(45deg,#3498db,#2980b9);padding:1.5rem;border:none}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:1.25rem;text-shadow:0 1px 2px rgba(0,0,0,.1)}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background-color:#fffc;border-radius:50%;padding:.75rem;transition:all .3s ease}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background-color:#fff;transform:rotate(90deg)}.modal-body[_ngcontent-%COMP%]{padding:2rem}.video-container[_ngcontent-%COMP%]{position:relative;border-radius:10px;overflow:hidden;background:#f8f9fa;margin-bottom:1rem}.video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;border-radius:10px;transition:opacity .3s ease}.loading-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.card[_ngcontent-%COMP%]{border:none;transition:transform .3s ease,box-shadow .3s ease;background:#fff}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000001a}.form-check[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;transition:background-color .3s ease}.form-check[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.form-check-input[_ngcontent-%COMP%]{width:1.2rem;height:1.2rem;margin-top:.2rem;cursor:pointer}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#3498db;border-color:#3498db}.form-check-label[_ngcontent-%COMP%]{font-weight:500;color:#2c3e50;margin-left:.5rem;cursor:pointer}.text-truncate[_ngcontent-%COMP%]{max-width:100%}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid #eee;padding:1.5rem;background:#fff}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;border-radius:10px;transition:all .3s ease}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background-color:#e9ecef;border:none;color:#495057}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background-color:#dee2e6;transform:translateY(-2px)}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(45deg,#3498db,#2980b9);border:none;box-shadow:0 4px 15px #3498db4d}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(45deg,#2980b9,#3498db);transform:translateY(-2px);box-shadow:0 6px 20px #3498db66}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{background:linear-gradient(45deg,#bdc3c7,#95a5a6);transform:none;box-shadow:none}.modal-backdrop.show[_ngcontent-%COMP%]{opacity:.7}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.modal-dialog[_ngcontent-%COMP%]{margin:.5rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.form-check[_ngcontent-%COMP%]{padding:.75rem}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin:.25rem 0}}"]})};var Rs=()=>["portrait","landscape"];function zs(n,e){if(n&1&&(a(0,"div",43),s(1),o()),n&2){let t=u();l(),w(" ",t.errorMessage," ")}}function Ws(n,e){if(n&1){let t=S();a(0,"tr")(1,"td"),s(2),o(),a(3,"td"),s(4),o(),a(5,"td"),s(6),o(),a(7,"td"),s(8),o(),a(9,"td"),s(10),R(11,"titlecase"),o(),a(12,"td")(13,"button",44),b("click",function(){let r=f(t).$implicit,d=u();return h(d.confirmArchive(r._id))}),p(14,"i",45),s(15," UnArchive "),o()()()}if(n&2){let t=e.$implicit,i=e.index,r=u();l(2),k((r.currentPage-1)*r.itemsPerPage+i+1),l(2),k(t.deviceId),l(2),k(t.name),l(2),k(t.description),l(2),k(Y(11,5,t.orientation))}}function qs(n,e){if(n&1&&(a(0,"option",46),s(1),R(2,"titlecase"),o()),n&2){let t=e.$implicit;c("value",t),l(),w(" ",Y(2,2,t)," ")}}var at=class n{constructor(e,t,i){this.adminService=e;this.route=t;this.router=i}devices=[];filteredDevices=[];ads=[];searchTerm="";currentPage=1;itemsPerPage=5;totalPages=0;errorMessage="";editDeviceObject={};isEditModalOpen=!1;isConfirmDialogOpen=!1;archivingDeviceId="";selectedDevice=null;selectedAds=[];isScheduleModalOpen=!1;userId;ngOnInit(){this.route.params.subscribe(e=>{this.userId=e.userId||"",this.loadDevices()})}loadDevices(){this.adminService.getDevices().subscribe(e=>{console.log(e),e&&Array.isArray(e.data)?(this.devices=e.data.filter(t=>t.isDeleted==!0),console.log(this.devices),this.filteredDevices=[...this.devices],this.calculatePagination()):console.error("Unexpected response format:",e)},e=>{this.errorMessage=e.error?.message||"Failed to load devices. Please try again."})}unpairageDevice(e){this.adminService.isPaired(e).subscribe(t=>{this.loadDevices()})}loadAds(){this.adminService.getAds().subscribe(e=>{this.ads=(e.data||[]).filter(t=>t.isDeleted===!1)},e=>{this.errorMessage=e.error?.message||"Failed to load advertisements."})}onSearch(){let e=this.searchTerm.toLowerCase();this.filteredDevices=this.devices.filter(t=>t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.orientation.toLowerCase().includes(e)),this.calculatePagination()}calculatePagination(){this.totalPages=Math.ceil(this.filteredDevices.length/this.itemsPerPage),this.currentPage=Math.min(this.currentPage,this.totalPages||1)}getPaginatedDevices(){let e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.filteredDevices.slice(e,t)}previousPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}openEditModal(e){this.editDeviceObject=J({},e),this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1}updateDevice(){this.adminService.updateDevices(this.editDeviceObject._id,this.editDeviceObject).subscribe(()=>{this.loadDevices(),this.isEditModalOpen=!1},e=>{this.errorMessage=e.error?.message||"Failed to update device. Please try again."})}confirmArchive(e){this.archivingDeviceId=e,this.isConfirmDialogOpen=!0}unarchiveDevices(){this.adminService.unarchiveDevices(this.archivingDeviceId).subscribe(()=>{this.loadDevices(),this.isConfirmDialogOpen=!1},e=>{console.error("Error archiving device:",e),this.errorMessage=e.error?.message||"Failed to archive device. Please try again."})}closeConfirmDialog(){this.isConfirmDialogOpen=!1,this.archivingDeviceId=""}openScheduleModal(e){this.selectedDevice=e,this.loadAds(),this.isScheduleModalOpen=!0}navigateToSchedule(){this.isScheduleModalOpen=!1;let e={deviceId:this.selectedDevice._id,ads:this.selectedAds.join(",")};this.router.navigate(["/admin/Makeschedule"],{queryParams:e})}toggleAdSelection(e,t){t?this.selectedAds.push(e):this.selectedAds=this.selectedAds.filter(i=>i!==e)}navigateToAddDevice(){this.router.navigate(["/admin/addDevices"])}deleteDevice(e){this.adminService.deleteDeviceById(e).subscribe(()=>{this.loadDevices()},t=>{this.errorMessage=t.error?.message||"Failed to delete device."})}static \u0275fac=function(t){return new(t||n)(x(L),x(Se),x(V))};static \u0275cmp=T({type:n,selectors:[["app-archive-dev"]],standalone:!1,decls:79,vars:12,consts:[[1,"container","py-4","ad-list-container"],[1,"list-title","text-center"],[1,"row","align-items-center","mb-3"],[1,"col-md-6"],[1,"input-group"],["type","text","placeholder","Search devices...",1,"form-control","search-input",3,"ngModelChange","input","ngModel"],[1,"input-group-text","bg-primary","text-white"],[1,"fas","fa-search"],["class","alert alert-danger",4,"ngIf"],[1,"table-responsive","shadow-sm","rounded"],[1,"table","table-striped","table-hover"],[1,"table-primary"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"fw-bold","text-primary"],[1,"fas","fa-chevron-right"],["id","editDeviceModal","tabindex","-1","aria-labelledby","editDeviceModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-primary","text-white"],["id","editDeviceModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],["id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","description",1,"form-label"],["id","description","name","description","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","orientation",1,"form-label"],["id","orientation","name","orientation","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","confirmArchiveModal","tabindex","-1","aria-labelledby","confirmArchiveModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-header","bg-success","text-white"],["id","confirmArchiveModalLabel",1,"modal-title"],[1,"fw-bold","text-danger"],["data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"alert","alert-danger"],["data-bs-toggle","modal","data-bs-target","#confirmArchiveModal",1,"btn","btn-success","btn-sm",3,"click"],[1,"fas","fa-archive"],[3,"value"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"h2",1),s(2,"Archived Devices List"),o(),a(3,"div",2)(4,"div",3)(5,"div",4)(6,"input",5),M("ngModelChange",function(d){return y(i.searchTerm,d)||(i.searchTerm=d),d}),b("input",function(){return i.onSearch()}),o(),a(7,"span",6),p(8,"i",7),o()()()(),v(9,zs,2,1,"div",8),a(10,"div",9)(11,"table",10)(12,"thead",11)(13,"tr")(14,"th"),s(15,"#"),o(),a(16,"th"),s(17,"Device ID"),o(),a(18,"th"),s(19,"Name"),o(),a(20,"th"),s(21,"Description"),o(),a(22,"th"),s(23,"Orientation"),o(),a(24,"th"),s(25,"Actions"),o()()(),a(26,"tbody"),v(27,Ws,16,7,"tr",12),o()()(),a(28,"div",13)(29,"button",14),b("click",function(){return i.previousPage()}),p(30,"i",15),s(31," Previous "),o(),a(32,"span",16),s(33),o(),a(34,"button",14),b("click",function(){return i.nextPage()}),s(35," Next "),p(36,"i",17),o()(),a(37,"div",18)(38,"div",19)(39,"div",20)(40,"div",21)(41,"h5",22),s(42,"Edit Device"),o(),p(43,"button",23),o(),a(44,"div",24)(45,"form",25),b("ngSubmit",function(){return i.updateDevice()}),a(46,"div",26)(47,"label",27),s(48,"Name"),o(),a(49,"input",28),M("ngModelChange",function(d){return y(i.editDeviceObject.name,d)||(i.editDeviceObject.name=d),d}),o()(),a(50,"div",26)(51,"label",29),s(52,"Description"),o(),a(53,"textarea",30),M("ngModelChange",function(d){return y(i.editDeviceObject.description,d)||(i.editDeviceObject.description=d),d}),o()(),a(54,"div",26)(55,"label",31),s(56,"Orientation"),o(),a(57,"select",32),M("ngModelChange",function(d){return y(i.editDeviceObject.orientation,d)||(i.editDeviceObject.orientation=d),d}),v(58,qs,3,4,"option",33),o()(),a(59,"div",34)(60,"button",35),s(61,"Save Changes"),o(),a(62,"button",36),s(63," Cancel "),o()()()()()()(),a(64,"div",37)(65,"div",19)(66,"div",20)(67,"div",38)(68,"h5",39),s(69," Confirm UnArchive "),o(),p(70,"button",23),o(),a(71,"div",24)(72,"p",40),s(73,"Are you sure you want to unarchive this device?"),o()(),a(74,"div",34)(75,"button",41),b("click",function(){return i.unarchiveDevices()}),s(76," Yes "),o(),a(77,"button",42),s(78," No "),o()()()()()()),t&2&&(l(6),C("ngModel",i.searchTerm),l(3),c("ngIf",i.errorMessage),l(18),c("ngForOf",i.getPaginatedDevices()),l(2),c("disabled",i.currentPage===1),l(4),ue(" Page ",i.currentPage," of ",i.totalPages," "),l(),c("disabled",i.currentPage===i.totalPages),l(15),C("ngModel",i.editDeviceObject.name),l(4),C("ngModel",i.editDeviceObject.description),l(4),C("ngModel",i.editDeviceObject.orientation),l(),c("ngForOf",mt(11,Rs)))},dependencies:[j,D,$,G,Z,F,Q,B,W,K,q,H,oe],encapsulation:2})};var Qe=class n{constructor(e){this.socket=e;this.setupConnectionListeners()}configureSocket(e){this.socket.ioSocket.io.opts=J(J({},this.socket.ioSocket.io.opts),e.options),e.url&&(this.socket.ioSocket.io.uri=e.url),console.log("Socket configured with URL:",e.url)}setupConnectionListeners(){this.socket.on("connect",()=>console.log("Connected to socket server")),this.socket.on("disconnect",e=>console.error("Disconnected:",e)),this.socket.on("connect_error",e=>console.error("Connect error:",e)),this.socket.on("reconnect",e=>console.log("Reconnected:",e)),this.socket.on("reconnect_attempt",e=>console.log("Reconnect attempt:",e)),this.socket.on("reconnect_error",e=>console.error("Reconnect error:",e)),this.socket.on("reconnect_failed",()=>console.error("Reconnect failed"))}isConnected(){return this.socket.ioSocket.connected}listen(e){return this.socket.fromEvent(e)}emit(e,t){this.socket.emit(e,t)}joinRoom(e){this.socket.emit("join",e),console.log("Joined room:",e)}leaveRoom(e){this.socket.emit("leave",e),console.log("Left room:",e)}getConnectionStatus(){return new Wt(e=>(this.socket.on("connect",()=>e.next(!0)),this.socket.on("disconnect",()=>e.next(!1)),e.next(this.isConnected()),()=>{this.socket.off("connect"),this.socket.off("disconnect")}))}disconnect(){this.socket.disconnect(),console.log("Socket disconnected")}connect(){this.socket.connect(),console.log("Socket connected")}onConnect(){return new Wt(e=>{this.isConnected()?(e.next(),e.complete()):this.socket.on("connect",()=>{e.next(),e.complete()})})}static \u0275fac=function(t){return new(t||n)(_n(jn))};static \u0275prov=wn({token:n,factory:n.\u0275fac,providedIn:"root"})};function $s(n,e){if(n&1&&(a(0,"div",6),s(1),o()),n&2){let t=u();l(),w(" ",t.success," ")}}function Ys(n,e){n&1&&(a(0,"div",7)(1,"div",8)(2,"span",9),s(3,"Loading..."),o()()())}function Hs(n,e){if(n&1&&(a(0,"div",34)(1,"div",16)(2,"h5",17),s(3),o(),a(4,"p",35),s(5),o(),a(6,"p",35),s(7),o()()()),n&2){let t=u(2);l(3),k(t.device.name),l(2),w("ID: ",t.device._id,""),l(2),w("Location: ",t.device.location||"Not specified","")}}function Qs(n,e){if(n&1&&(a(0,"div",36)(1,"h5",37),s(2),o(),a(3,"p",37),s(4),o()()),n&2){let t=e.$implicit;l(2),k(t.name),l(2),w("Duration: ",t.duration," seconds")}}function Gs(n,e){if(n&1){let t=S();a(0,"form",10),b("ngSubmit",function(){f(t);let r=u();return h(r.createSchedule())}),a(1,"div",11)(2,"h4"),s(3,"Device Information"),o(),v(4,Hs,8,3,"div",12),o(),a(5,"div",11)(6,"h4"),s(7,"Selected Advertisements"),o(),a(8,"div",13),v(9,Qs,5,2,"div",14),o()(),a(10,"div",15)(11,"div",16)(12,"h4",17),s(13,"Schedule Settings"),o(),a(14,"div",11)(15,"label",18),s(16,"Start Time"),o(),a(17,"input",19),M("ngModelChange",function(r){f(t);let d=u();return y(d.startTime,r)||(d.startTime=r),h(r)}),o()(),a(18,"div",11)(19,"label",20),s(20,"Play Time (minutes)"),o(),a(21,"input",21),M("ngModelChange",function(r){f(t);let d=u();return y(d.playTime,r)||(d.playTime=r),h(r)}),o()(),a(22,"div",11)(23,"label",22),s(24,"Repeat"),o(),a(25,"select",23),M("ngModelChange",function(r){f(t);let d=u();return y(d.repeat,r)||(d.repeat=r),h(r)}),a(26,"option",24),s(27,"Once"),o(),a(28,"option",25),s(29,"Daily"),o(),a(30,"option",26),s(31,"Weekly"),o()()(),a(32,"div",11)(33,"label",27),s(34,"Play Mode"),o(),a(35,"select",28),M("ngModelChange",function(r){f(t);let d=u();return y(d.playMode,r)||(d.playMode=r),h(r)}),a(36,"option",29),s(37,"Loop"),o(),a(38,"option",30),s(39,"Sequence"),o(),a(40,"option",31),s(41,"Random"),o()()()()(),a(42,"div",32)(43,"button",33),s(44),o()()()}if(n&2){let t=u();l(4),c("ngIf",t.device),l(5),c("ngForOf",t.ads),l(8),C("ngModel",t.startTime),l(4),C("ngModel",t.playTime),l(4),C("ngModel",t.repeat),l(10),C("ngModel",t.playMode),l(9),w(" ",t.loading?"Creating Schedule...":"Create Schedule"," ")}}var Ut=class n{constructor(e,t,i,r,d,m){this.route=e;this.router=t;this.adminService=i;this.socketService=r;this.platformId=d;this.authService=m}deviceId="";selectedAds=[];device=null;ads=[];loading=!1;error=null;success=null;startTime=new Date;playTime=60;repeat="once";playMode="loop";subscriptions=[];ngOnInit(){On(this.platformId)&&this.route.queryParams.subscribe(e=>{this.deviceId=e.deviceId,this.selectedAds=e.ads?e.ads.split(","):[],this.deviceId&&(this.loadDeviceAndAds(),this.socketService.joinRoom(this.deviceId))}),this.socketService.getConnectionStatus().pipe($t(3e4),Yt(e=>(this.error="Request timed out",this.loading=!1,qt(null)))).subscribe(e=>{e||(this.error="Disconnected from server")}),this.socketService.listen("scheduleError").subscribe(e=>{this.error=e.message||"Error creating schedule",this.loading=!1})}loadDeviceAndAds(){this.loading=!0,this.adminService.getDevicesById(this.deviceId).pipe($t(3e4),Yt(t=>(this.error="Request timed out",this.loading=!1,qt(null)))).subscribe(t=>{this.device=t.data,this.loading=!1},t=>{this.error="Error loading device details",this.loading=!1});let e=this.selectedAds.map(t=>this.adminService.getAdsById(t).toPromise());Promise.all(e).then(t=>{this.ads=t.map(i=>i.data).filter(i=>!i.archived)}).catch(()=>{this.error="Error loading advertisement details"})}createSchedule(){let e=this.authService.userId,t={advertisementIds:this.selectedAds,deviceId:this.deviceId,userId:e,startTime:this.startTime,playTime:this.playTime,repeat:this.repeat,playMode:this.playMode};this.socketService.emit("updateSchedule",t),this.adminService.createSchedule(t).subscribe(()=>{this.success="Schedule created successfully"},i=>{this.error=i.error?.message||"Error creating schedule"})}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.socketService.leaveRoom(this.deviceId)}static \u0275fac=function(t){return new(t||n)(x(Se),x(V),x(L),x(Qe),x(Cn),x(pe))};static \u0275cmp=T({type:n,selectors:[["app-makeschedule"]],standalone:!1,decls:8,vars:3,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","text-center my-3",4,"ngIf"],["class","needs-validation","novalidate","",3,"ngSubmit",4,"ngIf"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"text-center","my-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["novalidate","",1,"needs-validation",3,"ngSubmit"],[1,"mb-3"],["class","card",4,"ngIf"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-body"],[1,"card-title"],["for","startTime",1,"form-label"],["type","datetime-local","id","startTime","name","startTime","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","playTime",1,"form-label"],["type","number","id","playTime","name","playTime","min","1","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","repeat",1,"form-label"],["id","repeat","name","repeat","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","once"],["value","daily"],["value","weekly"],["for","playMode",1,"form-label"],["id","playMode","name","playMode","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","loop"],["value","sequence"],["value","random"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary"],[1,"card"],[1,"card-text"],[1,"list-group-item"],[1,"mb-1"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),s(4,"Create Schedule"),o(),v(5,$s,2,1,"div",3)(6,Ys,4,0,"div",4)(7,Gs,45,7,"form",5),o()()()),t&2&&(l(5),c("ngIf",i.success),l(),c("ngIf",i.loading),l(),c("ngIf",!i.loading))},dependencies:[j,D,$,G,Z,F,gt,Q,B,W,K,Dn,q,H],styles:['.container[_ngcontent-%COMP%]{padding:2rem;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}h2[_ngcontent-%COMP%]{color:#2c3e50;font-weight:700;margin-bottom:2rem;position:relative;padding-bottom:.5rem}h2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:60px;height:4px;background:linear-gradient(to right,#3498db,#2980b9);border-radius:2px}.card[_ngcontent-%COMP%]{background:#fff;border:none;border-radius:15px;box-shadow:0 4px 20px #00000014;transition:all .3s ease;margin-bottom:1.5rem}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #0000001f}.card-body[_ngcontent-%COMP%]{padding:1.5rem}.card-title[_ngcontent-%COMP%]{color:#34495e;font-size:1.25rem;font-weight:600;margin-bottom:1rem}.form-label[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600;margin-bottom:.5rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:10px;padding:.75rem 1rem;transition:all .3s ease;background-color:#f8f9fa}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 .2rem #3498db40;background-color:#fff}.list-group-item[_ngcontent-%COMP%]{border:none;border-radius:10px;margin-bottom:.5rem;background-color:#f8f9fa;padding:1rem;transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#e9ecef;transform:translate(5px)}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(45deg,#3498db,#2980b9);border:none;box-shadow:0 4px 15px #3498db4d}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(45deg,#2980b9,#3498db);transform:translateY(-2px);box-shadow:0 6px 20px #3498db66}.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(1px)}.alert[_ngcontent-%COMP%]{border-radius:10px;padding:1rem;margin-bottom:1.5rem;border:none;box-shadow:0 4px 15px #0000001a}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border-left:4px solid #28a745}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;color:#3498db}h4[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600;margin-bottom:1.5rem;position:relative;display:inline-block}h4[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-5px;left:0;width:100%;height:2px;background:linear-gradient(to right,#3498db,transparent)}.device-info[_ngcontent-%COMP%]{background:linear-gradient(45deg,#f8f9fa,#fff);border-left:4px solid #3498db}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem}.card[_ngcontent-%COMP%]{margin-bottom:1rem}.btn[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{font-size:16px}}input[type=datetime-local][_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;background-color:#f8f9fa;padding:.75rem 1rem;border:2px solid #e9ecef;border-radius:10px;color:#2c3e50}.schedule-settings[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#fff,#f8f9fa);border-radius:15px;padding:2rem}.selected-ads[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}.selected-ad-item[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:1rem;box-shadow:0 2px 10px #0000000d;transition:all .3s ease}.selected-ad-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 15px #0000001a}']})};var Zs=(n,e)=>({"text-success":n,"text-danger":e});function Ks(n,e){if(n&1&&(a(0,"span",36),p(1,"i",30),s(2),o()),n&2){let t=u().$implicit,i=u();l(),c("ngClass",i.getPlaylistColor(t,t.deviceId.deviceId)),l(),w(" N\xB0 ",(t.instantData==null?null:t.instantData.index)||""," ")}}function Xs(n,e){if(n&1&&(a(0,"span",36),p(1,"i",30),s(2," N/A "),o()),n&2){let t=u().$implicit,i=u();l(),c("ngClass",i.getPlaylistColor(t,t.deviceId.deviceId))}}function Js(n,e){if(n&1){let t=S();a(0,"tr")(1,"td"),s(2),o(),a(3,"td"),s(4),o(),a(5,"td"),s(6),o(),a(7,"td",27)(8,"table",28)(9,"thead")(10,"tr")(11,"th"),s(12,"App"),o(),a(13,"th"),s(14,"Playlist"),o(),a(15,"th"),s(16,"Views"),o()()(),a(17,"tbody")(18,"tr")(19,"td")(20,"span",29),p(21,"i",30),s(22," App "),o()(),a(23,"td"),v(24,Ks,3,2,"span",31)(25,Xs,3,1,"span",31),o(),a(26,"td",32)(27,"span",33),s(28),o()()()()()(),a(29,"td")(30,"button",34),b("click",function(){let r=f(t).$implicit,d=u();return h(d.viewSchedule(r._id))}),s(31," View "),o(),a(32,"button",35),b("click",function(){let r=f(t).$implicit,d=u();return h(d.deleteSchedule(r._id))}),s(33," Delete "),o()()()}if(n&2){let t=e.$implicit,i=u();l(2),k(t.deviceId.name),l(2),w("",t.advertisementIds.length," ads"),l(2),k((t.instantData==null?null:t.instantData.titleVideo)||"Waiting for data..."),l(15),c("ngClass",i.getAppStateColor(i.appState,t.deviceId.deviceId)),l(3),c("ngIf",t.instantData),l(),c("ngIf",!t.instantData),l(2),c("ngClass",Ze(8,Zs,i.deviceLogs[t.deviceId.deviceId]==="All Good!"||i.deviceLogs[t.deviceId.deviceId]==="Playlist updated",i.deviceLogs[t.deviceId.deviceId]!=="All Good!")),l(),w(" ",i.deviceLogs[t.deviceId.deviceId]," ")}}function el(n,e){n&1&&(a(0,"div",37)(1,"div",38)(2,"span",39),s(3,"Loading..."),o()()())}function tl(n,e){n&1&&(a(0,"div",37)(1,"p"),s(2,"No schedules found."),o()())}function nl(n,e){if(n&1&&(a(0,"div",40),s(1),o()),n&2){let t=u();l(),w(" ",t.error," ")}}var Ji=3e5;var vn=12e4,Nt=class n{constructor(e,t,i,r,d){this.adminService=e;this.router=t;this.socketService=i;this.cdr=r;this.ngZone=d}schedules=[];paginatedSchedules=[];loading=!1;error="";pageIndex=0;pageSize=5;totalPages=0;deviceUpdateSubscription;subscriptions=[];mismatchTimeouts={};sameIndexTimeouts={};lastIndices={};deviceLogs={};inactivityTimers={};deviceStates={};VariableTitleVd="Your Text Here";blockAppState={};blockAds={};intervalId;ngOnInit(){this.loadSchedules(),this.updatePagination(),this.socketService.onConnect().subscribe(()=>{console.log("Socket is connected, setting up subscriptions"),this.subscribeToDeviceUpdates(),this.StateApp()})}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),Object.values(this.mismatchTimeouts).forEach(e=>clearTimeout(e)),Object.values(this.sameIndexTimeouts).forEach(e=>clearTimeout(e))}appState="";StateApp(){if(!this.socketService.isConnected()){console.error("Socket is not connected");return}let e,t,i=()=>{e&&clearTimeout(e),t&&clearInterval(t),e=setTimeout(()=>{console.error("No response received for 5 minutes (AppStateWeb)");let d={lastUpdateTime:new Date().toISOString(),state:"red",deviceId:this.appState};localStorage.setItem("appStateUpdateState",JSON.stringify(d)),this.schedules=this.schedules.map(m=>{if(m.deviceId.deviceId===d.deviceId){let _=this.getAppStateColor(m.appState,m.deviceId.deviceId),O=this.getPlaylistColor(m,m.deviceId.deviceId),A;_==="dot-red"&&m.instantData?.titleVideo?A="App is in background and playlist is working":_==="dot-red"&&O==="dot-red"?A="ERROR: App is down, check the TV":_==="dot-green"&&O==="dot-red"?A="App is working but Playlist is Blocked, restart the playlist":_==="dot-green"&&O==="dot-green"?A="All Good!":A="No app state update for 5 minutes",this.logState(m.deviceId.deviceId,A)}return m}),this.updatePagination(),this.cdr.detectChanges(),clearInterval(t)},Ji);let r=Ji/1e3;t=setInterval(()=>{console.log(`Time remaining (AppStateWeb): ${r} seconds`),r--,r<0&&clearInterval(t)},1e3)};i(),this.socketService.listen("AppStateWeb").subscribe(r=>{console.log(`Received AppStateWeb for device ${r.deviceId}:`,r),this.appState=r.state;let d={lastUpdateTime:new Date().toISOString(),state:r.state==="foreground"?"green":"red",deviceId:r.deviceId};localStorage.setItem("appStateUpdateState",JSON.stringify(d)),this.schedules=this.schedules.map(m=>{if(m.deviceId.deviceId===r.deviceId){let _=this.getAppStateColor(m.appState,m.deviceId.deviceId),O=this.getPlaylistColor(m,m.deviceId.deviceId),A;_==="dot-red"&&m.instantData?.titleVideo?A="App is in background and playlist is working":_==="dot-red"&&O==="dot-red"?A="ERROR: App is down, check the TV":_==="dot-green"&&O==="dot-red"?A="App is working but Playlist is Blocked, restart the playlist":_==="dot-green"&&O==="dot-green"?A="All Good!":A="App state updated",this.logState(r.deviceId,A)}return m}),this.updatePagination(),this.cdr.detectChanges(),i()})}subscribeToDeviceUpdates(){if(!this.socketService.isConnected()){console.error("Socket is not connected");return}let e,t,i=()=>{e&&clearTimeout(e),t&&clearInterval(t),e=setTimeout(()=>{console.error("No response received for 2 minutes");let m=localStorage.getItem("PlaylistUpdateState"),_=m?JSON.parse(m):{};_.lastUpdateTime=new Date().toISOString(),_.state="red",localStorage.setItem("PlaylistUpdateState",JSON.stringify(_)),this.schedules=this.schedules.map(O=>{if(O.deviceId.deviceId===_.deviceId){let A=Fe(J({},O),{instantData:O.instantData?Fe(J({},O.instantData),{index:null}):null}),ae=this.getAppStateColor(O.appState,O.deviceId.deviceId),be=this.getPlaylistColor(A,O.deviceId.deviceId),Ae;return ae==="dot-red"&&A.instantData?.index===null?Ae="ERROR: App is down, check the TV":ae==="dot-red"&&A.instantData?.titleVideo?Ae="App is in background and playlist is working":ae==="dot-red"&&be==="dot-red"?Ae="ERROR: App is down, check the TV":ae==="dot-green"&&be==="dot-red"?Ae="App is working but Playlist is Blocked, restart the playlist":ae==="dot-green"&&be==="dot-green"?Ae="All Good!":Ae="No playlist update for 2 minutes",this.logState(O.deviceId.deviceId,Ae),A}return O}),this.updatePagination(),this.cdr.detectChanges(),clearInterval(t)},vn);let d=vn/1e3;t=setInterval(()=>{console.log(`Time remaining: ${d} seconds`),d--,d<0&&clearInterval(t)},1e3)};(()=>{let d=localStorage.getItem("PlaylistUpdateState");if(d){let m=JSON.parse(d),_=new Date(m.lastUpdateTime).getTime();new Date().getTime()-_>vn?m.state="red":m.state="orange",localStorage.setItem("PlaylistUpdateState",JSON.stringify(m))}})(),i(),this.socketService.listen("currentAdWeb").subscribe(d=>{console.log(`Received PLAAAYLISTT for device ${d.deviceId}:`,d),this.schedules=this.schedules.map(_=>{if(_.deviceId.deviceId===d.deviceId){let O=Fe(J({},_),{instantData:{titleVideo:d.title||"No title available for this device",index:d.index+1,error:!1}}),A=this.getAppStateColor(_.appState,_.deviceId.deviceId),ae=this.getPlaylistColor(O,_.deviceId.deviceId),be;return A==="dot-red"&&O.instantData?.index===null?be="ERROR: App is down, check the TV":A==="dot-red"&&O.instantData?.titleVideo?be="App is in background and playlist is working":A==="dot-red"&&ae==="dot-red"?be="ERROR: App is down, check the TV":A==="dot-green"&&ae==="dot-red"?be="App is working but Playlist is Blocked, restart the playlist":A==="dot-green"&&ae==="dot-green"?be="All Good!":be="Playlist updated",this.logState(d.deviceId,be),O}return _}),this.updatePagination(),this.cdr.detectChanges();let m={lastUpdateTime:new Date().toISOString(),state:"green",deviceId:d.deviceId};localStorage.setItem("PlaylistUpdateState",JSON.stringify(m)),i()})}loadSchedules(){this.loading=!0,this.adminService.getAllSchedule().subscribe({next:e=>{console.log(e),this.schedules=e.data.filter(i=>i.deviceId&&!i.deviceId.isDeleted).map(i=>Fe(J({},i),{advertisementIds:i.advertisementIds.filter(r=>!r.isDeleted),videoLoaded:!1}));let t=this.schedules.map(i=>i.deviceId?.deviceId).filter(i=>!!i);this.socketService.emit("checkStates",{devices:t}),this.loading=!1,this.updatePagination()},error:e=>{this.error=e.error?.message||"Error loading schedules",this.loading=!1}})}SecondLoad(){this.loading=!0,this.adminService.getAllSchedule().subscribe({next:e=>{console.log(e),this.schedules=e.data.filter(i=>i.deviceId&&!i.deviceId.isDeleted).map(i=>Fe(J({},i),{advertisementIds:i.advertisementIds.filter(r=>!r.isDeleted),endTime:this.calculateEndTime(i.startTime,i.playTime)}));let t=this.schedules.map(i=>i.deviceId?.deviceId).filter(i=>!!i);this.socketService.emit("checkStates",{devices:t}),this.loading=!1,this.updatePagination()},error:e=>{this.error=e.error?.message||"Error loading schedules",this.loading=!1}})}calculateEndTime(e,t){return new Date(new Date(e).getTime()+t*1e3)}createSchedule(){this.router.navigate(["/admin/schedule/create"])}editSchedule(e){this.router.navigate(["/admin/schedule/edit",e._id])}viewSchedule(e){this.router.navigate(["/admin/schedule/view/"],{queryParams:{scheduleId:e}})}deleteSchedule(e){this.adminService.deleteScheduleById(e).subscribe({next:()=>{this.loadSchedules()},error:t=>{console.error("Error deleting schedule:",t)}})}selectedDeviceId;openModalGods(e){this.selectedDeviceId=e;let t=this.schedules.find(i=>i.deviceId.deviceId===e);this.VariableTitleVd=t?.instantData?.titleVideo||"No title available for this device",this.cdr.detectChanges()}logState(e,t){console.log(`Device ${e}: ${t}`),this.deviceLogs[e]=t,this.cdr.detectChanges()}updatePagination(){this.totalPages=Math.ceil(this.schedules.length/this.pageSize);let e=this.pageIndex*this.pageSize,t=e+this.pageSize;this.paginatedSchedules=this.schedules.slice(e,t)}nextPage(){this.pageIndex<this.totalPages-1&&(this.pageIndex++,this.updatePagination())}previousPage(){this.pageIndex>0&&(this.pageIndex--,this.updatePagination())}getAppStateColor(e,t){let i=localStorage.getItem("appStateUpdateState");if(i){let r=JSON.parse(i),d=r.deviceId,m=r.state;if(t===d)return m==="green"?"dot-green":"dot-red"}return"dot-red"}getPlaylistColor(e,t){if(this.getAppStateColor(e.appState,e.deviceId.deviceId)==="dot-red")return"dot-red";let r=localStorage.getItem("PlaylistUpdateState");if(r){let d=JSON.parse(r),m=d.deviceId,_=d.state;if(e.deviceId.deviceId===m)switch(_){case"green":return"dot-green";case"red":return"dot-red";case"orange":return"dot-orange";default:return"dot-orange"}}return e.instantData?.titleVideo&&!e.instantData?.error?"dot-green":e.instantData?.titleVideo?"dot-red":"dot-orange"}onVideoLoaded(e){e.videoLoaded=!0}static \u0275fac=function(t){return new(t||n)(x(L),x(V),x(Qe),x(Mn),x(xn))};static \u0275cmp=T({type:n,selectors:[["app-schedule"]],standalone:!1,decls:53,vars:9,consts:[[1,"container","mt-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["routerLink","/admin/Devices",1,"btn","btn-primary"],["href","https://cloud.perfumatic.es/login",1,"btn","btn-warning"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","table-hover"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"pagination-controls"],[3,"click","disabled"],["class","text-center mt-4",4,"ngIf"],["class","alert alert-danger mt-4","role","alert",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-6","mb-3"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[2,"overflow-x","auto !important"],[1,"table","table-bordered",2,"overflow-x","auto !important"],["title","App",1,"mx-2"],[1,"fas","fa-circle",3,"ngClass"],["class","mx-2","title","Playlist",4,"ngIf"],[2,"width","150px","word-wrap","break-word"],[1,"mx-2",3,"ngClass"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"btn","btn-sm","btn-danger","ml-2",3,"click"],["title","Playlist",1,"mx-2"],[1,"text-center","mt-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger","mt-4"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1)(2,"h2"),s(3,"Schedule List"),o(),a(4,"button",2),s(5," Create New Schedule from Device "),o(),a(6,"a",3),s(7," Perfumatic "),o()(),a(8,"div",4)(9,"table",5)(10,"thead",6)(11,"tr")(12,"th"),s(13,"Device Name"),o(),a(14,"th"),s(15,"Advertisements"),o(),a(16,"th"),s(17,"Current Ads"),o(),a(18,"th"),s(19,"God's Eye"),o(),a(20,"th"),s(21,"Actions"),o()()(),a(22,"tbody"),v(23,Js,34,11,"tr",7),o()(),a(24,"div",8)(25,"button",9),b("click",function(){return i.previousPage()}),s(26,"Previous"),o(),a(27,"span"),s(28),o(),a(29,"button",9),b("click",function(){return i.nextPage()}),s(30,"Next"),o()()(),v(31,el,4,0,"div",10)(32,tl,3,0,"div",10)(33,nl,2,1,"div",11),a(34,"div",12)(35,"div",13)(36,"div",14)(37,"div",15)(38,"h5",16),s(39,"God's Eye View"),o(),p(40,"button",17),o(),a(41,"div",18)(42,"div",19)(43,"div",20)(44,"div",21)(45,"div",22)(46,"h5",23),s(47,"Device Log"),o(),a(48,"p",24),s(49),o()()()()()(),a(50,"div",25)(51,"button",26),s(52," Close "),o()()()()()()),t&2&&(l(23),c("ngForOf",i.paginatedSchedules),l(2),c("disabled",i.pageIndex===0),l(3),ue("Page ",i.pageIndex+1," of ",i.totalPages,""),l(),c("disabled",i.pageIndex>=i.totalPages-1),l(2),c("ngIf",i.loading),l(),c("ngIf",!i.loading&&i.schedules.length===0),l(),c("ngIf",i.error),l(16),k(i.deviceLogs[i.selectedDeviceId]||"No log available"))},dependencies:[Pe,j,D,ut],styles:[".table[_ngcontent-%COMP%]{width:100%;margin-bottom:5rem;border-collapse:collapse}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;padding:12px;background-color:#fff;color:#150101;font-size:16px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:center;font-size:14px;word-break:break-word}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:60px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.btn[_ngcontent-%COMP%]{font-size:14px;padding:5px 10px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn[_ngcontent-%COMP%]:hover{opacity:.9}.dot-green[_ngcontent-%COMP%]{color:#0f0}.dot-red[_ngcontent-%COMP%]{color:red}.dot-blinking[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blinking 1s infinite}.dot-orange[_ngcontent-%COMP%]{color:#ff9800!important}@keyframes _ngcontent-%COMP%_blinking{0%{color:#0f0}50%{color:red}to{color:#0f0}}.video-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;min-height:150px}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;background-color:#fffc;z-index:1}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}video[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto}.d-none[_ngcontent-%COMP%]{display:none!important}"]})};function il(n,e){if(n&1){let t=S();a(0,"button",10),b("click",function(){f(t);let r=u();return h(r.toggleEdit())}),s(1,"Edit Schedule"),o()}}function ol(n,e){n&1&&(a(0,"div",11)(1,"div",12)(2,"span",13),s(3,"Loading..."),o()()())}function rl(n,e){if(n&1&&(a(0,"div",14),s(1),o()),n&2){let t=u();l(),w(" ",t.error," ")}}function al(n,e){if(n&1&&(a(0,"div",15),s(1),o()),n&2){let t=u();l(),w(" ",t.success," ")}}function sl(n,e){if(n&1&&(a(0,"option",40),s(1),o()),n&2){let t=e.$implicit;c("value",t._id),l(),w(" ",t.name," ")}}function ll(n,e){n&1&&(a(0,"div",41),s(1," Device is required "),o())}function dl(n,e){if(n&1){let t=S();a(0,"div",42)(1,"input",43),b("change",function(){let r=f(t).$implicit,d=u(3);return h(d.toggleAdvertisement(r._id))}),o(),a(2,"label",44),s(3),o()()}if(n&2){let t=e.$implicit,i=u(3);l(),c("id","ad_"+t._id)("checked",i.isAdvertisementSelected(t._id)),l(),c("for","ad_"+t._id),l(),w(" ",t.name," ")}}function cl(n,e){n&1&&(a(0,"div",41),s(1," Start time is required "),o())}function ml(n,e){n&1&&(a(0,"span"),s(1,"Play time is required"),o())}function ul(n,e){n&1&&(a(0,"span"),s(1,"Play time must be greater than 0"),o())}function pl(n,e){if(n&1&&(a(0,"div",41),v(1,ml,2,0,"span",19)(2,ul,2,0,"span",19),o()),n&2){let t,i,r=u(3);l(),c("ngIf",(t=r.updateForm.get("playTime"))==null||t.errors==null?null:t.errors.required),l(),c("ngIf",(i=r.updateForm.get("playTime"))==null||i.errors==null?null:i.errors.min)}}function gl(n,e){n&1&&(a(0,"div",41),s(1," Play mode is required "),o())}function fl(n,e){if(n&1){let t=S();a(0,"form",20),b("ngSubmit",function(){f(t);let r=u(2);return h(r.updateSchedule())}),a(1,"div",1)(2,"div",21)(3,"label",22),s(4,"Device"),o(),a(5,"select",23)(6,"option",24),s(7,"Select Device"),o(),v(8,sl,2,2,"option",25),o(),v(9,ll,2,0,"div",26),o(),a(10,"div",21)(11,"label",22),s(12,"Advertisements"),o(),a(13,"div",16)(14,"div",27),v(15,dl,4,4,"div",28),o()()(),a(16,"div",21)(17,"label",22),s(18,"Start Time"),o(),p(19,"input",29),v(20,cl,2,0,"div",26),o(),a(21,"div",21)(22,"label",22),s(23,"Play Time (seconds)"),o(),p(24,"input",30),v(25,pl,3,2,"div",26),o(),a(26,"div",21)(27,"label",22),s(28,"Play Mode"),o(),a(29,"select",31)(30,"option",32),s(31,"Sequence"),o(),a(32,"option",33),s(33,"Random"),o()(),v(34,gl,2,0,"div",26),o(),a(35,"div",21)(36,"div",34),p(37,"input",35),a(38,"label",36),s(39,"Repeat"),o()()()(),a(40,"div",37)(41,"button",38),b("click",function(){f(t);let r=u(2);return h(r.toggleEdit())}),s(42,"Cancel"),o(),a(43,"button",39),s(44),o()()()}if(n&2){let t,i,r,d,m=u(2);c("formGroup",m.updateForm),l(8),c("ngForOf",m.devices),l(),c("ngIf",((t=m.updateForm.get("deviceId"))==null?null:t.touched)&&((t=m.updateForm.get("deviceId"))==null?null:t.invalid)),l(6),c("ngForOf",m.advertisements),l(5),c("ngIf",((i=m.updateForm.get("startTime"))==null?null:i.touched)&&((i=m.updateForm.get("startTime"))==null?null:i.invalid)),l(5),c("ngIf",((r=m.updateForm.get("playTime"))==null?null:r.touched)&&((r=m.updateForm.get("playTime"))==null?null:r.invalid)),l(9),c("ngIf",((d=m.updateForm.get("playMode"))==null?null:d.touched)&&((d=m.updateForm.get("playMode"))==null?null:d.invalid)),l(10),w(" ",m.loading?"Updating...":"Update Schedule"," ")}}function hl(n,e){if(n&1&&(a(0,"video",51),p(1,"source",52),s(2," Your browser does not support the video tag. "),o()),n&2){let t=u().$implicit;l(),c("src",t.videoUrl,Me)}}function bl(n,e){if(n&1&&(a(0,"tr")(1,"td"),s(2),o(),a(3,"td"),s(4),o(),a(5,"td"),s(6),o(),a(7,"td"),v(8,hl,3,1,"video",50),o()()),n&2){let t=e.$implicit;l(2),k(t.name),l(2),k(t.description),l(2),k(t.orientation),l(2),c("ngIf",t.videoUrl)}}function vl(n,e){if(n&1&&(a(0,"div")(1,"div",45)(2,"div",46)(3,"h4"),s(4,"Device Information"),o(),a(5,"p")(6,"strong"),s(7,"Device Name:"),o(),s(8),o(),a(9,"p")(10,"strong"),s(11,"Description:"),o(),s(12),o()(),a(13,"div",46)(14,"h4"),s(15,"Schedule Information"),o(),a(16,"p")(17,"strong"),s(18,"Start Time:"),o(),s(19),R(20,"date"),o(),a(21,"p")(22,"strong"),s(23,"End Time:"),o(),s(24),R(25,"date"),o(),a(26,"p")(27,"strong"),s(28,"Play Mode:"),o(),s(29),o(),a(30,"p")(31,"strong"),s(32,"Repeat:"),o(),s(33),o()()(),a(34,"div",1)(35,"div",2)(36,"h4"),s(37,"Advertisements"),o(),a(38,"div",47)(39,"table",48)(40,"thead")(41,"tr")(42,"th"),s(43,"Name"),o(),a(44,"th"),s(45,"Description"),o(),a(46,"th"),s(47,"Orientation"),o(),a(48,"th"),s(49,"Video"),o()()(),a(50,"tbody"),v(51,bl,9,4,"tr",49),o()()()()()()),n&2){let t=u(2);l(8),w(" ",t.schedule.deviceId==null?null:t.schedule.deviceId.name,""),l(4),w(" ",t.schedule.deviceId==null?null:t.schedule.deviceId.description,""),l(7),w(" ",Qt(20,7,t.schedule.startTime,"medium"),""),l(5),w(" ",Qt(25,10,t.schedule.endTime,"medium"),""),l(5),w(" ",t.schedule.playMode,""),l(4),w(" ",t.schedule.repeat?"Yes":"No",""),l(18),c("ngForOf",t.schedule.advertisementIds)}}function wl(n,e){if(n&1&&(a(0,"div",16)(1,"div",17),v(2,fl,45,8,"form",18)(3,vl,52,13,"div",19),o()()),n&2){let t=u();l(2),c("ngIf",t.isEditing),l(),c("ngIf",!t.isEditing)}}var jt=class n{constructor(e,t,i,r,d){this.route=e;this.adminService=t;this.router=i;this.fb=r;this.authService=d;this.updateForm=this.fb.group({deviceId:["",Te.required],advertisementIds:[[],Te.required],startTime:["",Te.required],playTime:["",[Te.required,Te.min(1)]],playMode:["sequence",Te.required],repeat:[!1]})}schedule=null;loading=!1;error="";success="";schedulednewId="";devices=[];advertisements=[];updateForm;isEditing=!1;deviceId="";subscriptions=[];ngOnInit(){this.jibId(),this.loadScheduleDetails(),this.loadDevices(),this.loadAdvertisements()}jibId(){this.subscriptions.push(this.route.queryParams.subscribe(e=>{this.schedulednewId=e.scheduleId,console.log("scheduleId",this.schedulednewId)}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadScheduleDetails(){let e=this.schedulednewId;if(!e){this.error="Schedule ID not found";return}this.loading=!0,this.subscriptions.push(this.adminService.getScheduleById(e).subscribe({next:t=>{console.log(t),this.schedule=t.data,Array.isArray(this.schedule.advertisementIds)?this.schedule.advertisementIds=this.schedule.advertisementIds.filter(i=>!i.isDeleted):this.schedule.advertisementIds=[],this.populateForm(),this.loading=!1},error:t=>{this.error=t.error?.message||"Error loading schedule details",this.loading=!1}}))}loadDevices(){this.subscriptions.push(this.adminService.getDevices().subscribe({next:e=>{this.devices=e.data.filter(t=>t.isDeleted===!1),this.deviceId=e.data._id},error:e=>{console.error("Error loading devices:",e)}}))}loadAdvertisements(){let e=this.authService.userId;this.adminService.getAdvertisementsByUserId(e).subscribe({next:t=>{console.log("ADS",t),this.advertisements=t.data.filter(i=>i.isDeleted==!1)},error:t=>{console.error("Error loading advertisements:",t)}})}populateForm(){if(this.schedule){console.log("deviceID",this.schedule.deviceId);let e;try{let t=new Date(this.schedule.startTime);isNaN(t.getTime())?(e=new Date().toISOString().slice(0,16),console.warn("Invalid start time received, using current time as fallback")):e=t.toISOString().slice(0,16)}catch{e=new Date().toISOString().slice(0,16),console.warn("Error parsing start time, using current time as fallback")}this.updateForm.patchValue({deviceId:this.schedule.deviceId,advertisementIds:this.schedule.advertisementIds?.map(t=>t._id)||[],startTime:e,playTime:this.schedule.playTime,playMode:this.schedule.playMode||"sequence",repeat:this.schedule.repeat||!1})}}isAdvertisementSelected(e){return(this.updateForm.get("advertisementIds")?.value||[]).includes(e)}toggleAdvertisement(e){let t=this.updateForm.get("advertisementIds")?.value||[],i;t.includes(e)?i=t.filter(r=>r!==e):i=[...t,e],this.updateForm.patchValue({advertisementIds:i}),this.updateForm.get("advertisementIds")?.markAsTouched()}toggleEdit(){this.isEditing=!this.isEditing,this.isEditing||this.populateForm()}updateSchedule(){let e=this.schedulednewId,t=this.authService.userId;this.loading=!0;let i=this.updateForm.value;console.log(i);let r={deviceId:i.deviceId._id,advertisementIds:i.advertisementIds,userId:t,startTime:new Date(i.startTime).toISOString(),playTime:parseInt(i.playTime),playMode:i.playMode,repeat:i.repeat};this.subscriptions.push(this.adminService.updateSchedule(e,r).subscribe({next:d=>{this.success="Schedule updated successfully",this.schedule=d.data,this.loading=!1,this.isEditing=!1,this.loadScheduleDetails()},error:d=>{this.error=d.error?.message||"Error updating schedule",this.loading=!1}}))}goBack(){this.router.navigate(["/admin/Schedules"])}static \u0275fac=function(t){return new(t||n)(x(Se),x(L),x(V),x(Vn),x(pe))};static \u0275cmp=T({type:n,selectors:[["app-view-schedule"]],standalone:!1,decls:14,vars:5,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["class","btn btn-primary me-2",3,"click",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],["class","text-center",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],["class","card",4,"ngIf"],[1,"btn","btn-primary","me-2",3,"click"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-success"],[1,"card"],[1,"card-body"],["class","mb-4",3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"mb-4",3,"ngSubmit","formGroup"],[1,"col-md-6","mb-3"],[1,"form-label"],["formControlName","deviceId",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"card-body",2,"max-height","200px","overflow-y","auto"],["class","form-check",4,"ngFor","ngForOf"],["type","datetime-local","formControlName","startTime",1,"form-control"],["type","number","formControlName","playTime",1,"form-control"],["formControlName","playMode",1,"form-select"],["value","sequence"],["value","random"],[1,"form-check","mt-4"],["type","checkbox","formControlName","repeat","id","repeat",1,"form-check-input"],["for","repeat",1,"form-check-label"],[1,"d-flex","justify-content-end","gap-2"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[3,"value"],[1,"text-danger"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","id","checked"],[1,"form-check-label",3,"for"],[1,"row","mb-4"],[1,"col-md-6"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["width","200","controls","",4,"ngIf"],["width","200","controls",""],["type","video/mp4",3,"src"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),s(5,"Schedule Details"),o(),a(6,"div"),v(7,il,2,0,"button",4),a(8,"button",5),b("click",function(){return i.goBack()}),s(9,"Back to List"),o()()(),v(10,ol,4,0,"div",6)(11,rl,2,1,"div",7)(12,al,2,1,"div",8)(13,wl,4,2,"div",9),o()()()),t&2&&(l(7),c("ngIf",!i.isEditing),l(3),c("ngIf",i.loading),l(),c("ngIf",i.error),l(),c("ngIf",i.success),l(),c("ngIf",!i.loading&&i.schedule))},dependencies:[j,D,$,G,Z,F,gt,pt,Q,B,W,En,Tn,Pn],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000001a}.card-body[_ngcontent-%COMP%]{padding:2rem}h4[_ngcontent-%COMP%]{color:#333;margin-bottom:1.5rem}.table[_ngcontent-%COMP%]{margin-top:1rem}video[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 2px 4px #0000001a}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.form-check[_ngcontent-%COMP%]{margin-bottom:.5rem;padding:.5rem;border-radius:4px;transition:background-color .2s}.form-check[_ngcontent-%COMP%]:hover{background-color:#0000000d}.form-check-input[_ngcontent-%COMP%]{cursor:pointer}.form-check-label[_ngcontent-%COMP%]{cursor:pointer;margin-left:.5rem;-webkit-user-select:none;user-select:none}.scrollable-checkboxes[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;padding-right:.5rem}.scrollable-checkboxes[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.scrollable-checkboxes[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.scrollable-checkboxes[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:3px}.scrollable-checkboxes[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}"]})};function _l(n,e){if(n&1&&(a(0,"div",54),s(1),o()),n&2){let t=u();l(),w(" ",t.errorMessage," ")}}function xl(n,e){if(n&1&&(a(0,"div",55),s(1),o()),n&2){let t=u();l(),w(" ",t.successMessage," ")}}function Cl(n,e){if(n&1){let t=S();a(0,"button",64),b("click",function(){f(t);let r=u().$implicit,d=u().$implicit,m=u();return h(m.changeRole(d._id,r))}),p(1,"i",43),s(2),R(3,"titlecase"),o()}if(n&2){let t=u().$implicit;l(2),w(" Change Role to ",Y(3,1,t)," ")}}function yl(n,e){if(n&1&&(dt(0),v(1,Cl,4,3,"button",68),ct()),n&2){let t=e.$implicit,i=u().$implicit;l(),c("ngIf",t!==i.role)}}function Ml(n,e){if(n&1){let t=S();a(0,"tr")(1,"td"),s(2),o(),a(3,"td"),s(4),o(),a(5,"td"),s(6),o(),a(7,"td")(8,"span"),s(9),R(10,"titlecase"),o()(),a(11,"td")(12,"span",56),s(13),o()(),a(14,"td")(15,"div",57)(16,"div",58)(17,"button",59),p(18,"i",60),s(19," Actions "),o(),a(20,"div",61)(21,"button",62),b("click",function(){let r=f(t).$implicit,d=u();return h(d.toggleUserStatus(r._id))}),p(22,"i",63),s(23),o(),a(24,"button",64),b("click",function(){let r=f(t).$implicit,d=u();return h(d.resetUserPassword(r._id,r.email))}),p(25,"i",65),s(26," Reset Password "),o(),a(27,"button",64),b("click",function(){let r=f(t).$implicit,d=u();return h(d.openEditModal(r))}),p(28,"i",66),s(29," Edit User "),o(),p(30,"div",67),v(31,yl,2,1,"ng-container",14),o()()()()()}if(n&2){let t=e.$implicit,i=u();l(2),k(t.username),l(2),k(t.email),l(2),k(t.phoneNumber),l(2),Ht(i.getRoleBadgeClass(t.role)),l(),w(" ",Y(10,19,t.role)," "),l(3),se("bg-success",t.isActive)("bg-danger",!t.isActive),l(),w(" ",t.isActive?"Active":"Inactive"," "),l(8),Ht("dropdown-item "+(t.isActive?"deactivate":"activate")),l(),se("fa-lock",!t.isActive)("fa-unlock",t.isActive),l(),w(" ",t.isActive?"Deactivate User":"Activate User"," "),l(8),c("ngForOf",i.availableRoles)}}function Pl(n,e){if(n&1&&(a(0,"option",69),s(1),R(2,"titlecase"),o()),n&2){let t=e.$implicit;c("value",t),l(),w(" ",Y(2,2,t)," ")}}function Sl(n,e){if(n&1&&(a(0,"div",70),s(1),o()),n&2){let t=u();l(),w(" ",t.errorMessage," ")}}function Ol(n,e){n&1&&p(0,"div",71)}var Ft=class n{constructor(e,t){this.adminService=e;this.router=t}users=[];filteredUsers=[];searchTerm="";currentPage=1;itemsPerPage=5;totalPages=0;errorMessage="";successMessage="";availableRoles=["client","admin"];isEditModalOpen=!1;isSubmitting=!1;editUserObject={username:"",email:"",phoneNumber:"",role:"",isActive:!0};ngOnInit(){this.loadUsers()}loadUsers(){this.adminService.getUsers().subscribe(e=>{this.users=e.data||[],this.filteredUsers=[...this.users],this.calculatePagination()},e=>{this.errorMessage=e.error?.message||"Failed to load users. Please try again."})}toggleUserStatus(e){confirm("Are you sure you want to change this user's status?")&&this.adminService.toggleUserStatus(e).subscribe(()=>{this.loadUsers()},t=>{this.errorMessage=t.error?.message||"Failed to update user status."})}onSearch(){if(!this.searchTerm.trim())this.filteredUsers=[...this.users];else{let e=this.searchTerm.toLowerCase().trim();this.filteredUsers=this.users.filter(t=>t.username?.toLowerCase().includes(e)||t.email?.toLowerCase().includes(e)||t.phoneNumber?.toString().includes(e)||t.role?.toLowerCase().includes(e))}this.currentPage=1,this.calculatePagination()}calculatePagination(){this.totalPages=Math.ceil(this.filteredUsers.length/this.itemsPerPage)}getCurrentPageUsers(){let e=(this.currentPage-1)*this.itemsPerPage;return this.filteredUsers.slice(e,e+this.itemsPerPage)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}previousPage(){this.currentPage>1&&this.currentPage--}navigateToAddUser(){this.router.navigate(["/admin/addUser"])}deleteUser(e){confirm("Are you sure you want to delete this user?")&&this.adminService.deleteUser(e).subscribe(()=>{this.loadUsers()},t=>{this.errorMessage=t.error?.message||"Failed to delete user."})}getRoleBadgeClass(e){return e.toLowerCase()==="admin"?"badge bg-primary":"badge bg-secondary"}resetUserPassword(e,t){confirm(`Are you sure you want to reset the password for user with email ${t}?`)&&this.adminService.resetUserAccount({userId:e,email:t}).subscribe(()=>{this.successMessage="Password reset successful. User will receive new credentials via email.",setTimeout(()=>this.successMessage="",3e3)},i=>{this.errorMessage=i.error?.message||"Failed to reset password."})}changeRole(e,t){confirm(`Are you sure you want to change this user's role to ${t}?`)&&this.adminService.changeUserRole(e,t).subscribe(()=>{this.loadUsers(),this.successMessage=`User role successfully changed to ${t}`,setTimeout(()=>this.successMessage="",3e3)},i=>{this.errorMessage=i.error?.message||"Failed to change user role."})}openEditModal(e){this.editUserObject=J({},e),this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1,this.editUserObject={username:"",email:"",phoneNumber:"",role:"",isActive:!0},this.errorMessage=""}updateUser(){if(!this.editUserObject._id){this.errorMessage="Invalid user data";return}this.isSubmitting=!0,this.errorMessage="",this.adminService.updateUser(this.editUserObject._id,this.editUserObject).subscribe({next:e=>{this.isSubmitting=!1,this.closeEditModal(),this.loadUsers(),this.successMessage="User updated successfully",setTimeout(()=>{this.successMessage=""},3e3)},error:e=>{this.isSubmitting=!1,this.errorMessage=e.error?.message||"Failed to update user"}})}static \u0275fac=function(t){return new(t||n)(x(L),x(V))};static \u0275cmp=T({type:n,selectors:[["app-list-users"]],standalone:!1,decls:90,vars:22,consts:[["editForm","ngForm"],[1,"container"],[1,"list-title"],[1,"row","g-3","align-items-center"],[1,"col-md-6"],[1,"input-group"],["type","text","placeholder","Search users...",1,"form-control","search-input",3,"ngModelChange","input","ngModel"],[1,"col-md-6","text-md-end"],[1,"add-user-btn",3,"click"],[1,"fas","fa-user-plus","me-2"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"pagination-controls"],[1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fas","fa-chevron-left","me-1"],[1,"page-info"],[1,"fas","fa-chevron-right","ms-1"],[1,"modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"fas","fa-user-edit"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-group"],["for","username"],[1,"input-wrapper"],["type","text","id","username","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-user"],["for","editEmail"],["type","email","id","editEmail","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-envelope"],["for","editPhone"],["type","tel","id","editPhone","name","phoneNumber","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-phone"],["for","editRole"],["id","editRole","name","role","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"fas","fa-user-shield"],[1,"form-check"],["type","checkbox","id","editStatus","name","isActive",1,"form-check-input",3,"ngModelChange","ngModel"],["for","editStatus",1,"form-check-label"],["class","alert alert-danger",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"],["class","modal-backdrop fade show",4,"ngIf"],["role","alert",1,"alert","alert-danger"],[1,"success-message"],[1,"badge"],[1,"action-dropdown"],["ngbDropdown","",1,"d-inline-block"],["id","actionDropdown","ngbDropdownToggle","",1,"action-btn"],[1,"fas","fa-ellipsis-v"],["ngbDropdownMenu","","aria-labelledby","actionDropdown",1,"dropdown-menu"],["ngbDropdownItem","",3,"click"],[1,"fas"],["ngbDropdownItem","",1,"dropdown-item",3,"click"],[1,"fas","fa-key"],[1,"fas","fa-edit"],[1,"dropdown-divider"],["ngbDropdownItem","","class","dropdown-item",3,"click",4,"ngIf"],[3,"value"],[1,"alert","alert-danger"],[1,"modal-backdrop","fade","show"]],template:function(t,i){if(t&1){let r=S();a(0,"div",1)(1,"h2",2),s(2,"Users Management"),o(),a(3,"div",3)(4,"div",4)(5,"div",5)(6,"input",6),M("ngModelChange",function(m){return f(r),y(i.searchTerm,m)||(i.searchTerm=m),h(m)}),b("input",function(){return f(r),h(i.onSearch())}),o()()(),a(7,"div",7)(8,"button",8),b("click",function(){return f(r),h(i.navigateToAddUser())}),p(9,"i",9),s(10,"Add User "),o()()(),v(11,_l,2,1,"div",10)(12,xl,2,1,"div",11),a(13,"div",12)(14,"table",13)(15,"thead")(16,"tr")(17,"th"),s(18,"Name"),o(),a(19,"th"),s(20,"Email"),o(),a(21,"th"),s(22,"Phone Number"),o(),a(23,"th"),s(24,"Role"),o(),a(25,"th"),s(26,"Status"),o(),a(27,"th"),s(28,"Actions"),o()()(),a(29,"tbody"),v(30,Ml,32,21,"tr",14),o()()(),a(31,"div",15)(32,"button",16),b("click",function(){return f(r),h(i.previousPage())}),p(33,"i",17),s(34," Previous "),o(),a(35,"span",18),s(36),o(),a(37,"button",16),b("click",function(){return f(r),h(i.nextPage())}),s(38," Next "),p(39,"i",19),o()()(),a(40,"div",20)(41,"div",21)(42,"div",22)(43,"div",23)(44,"h5",24),p(45,"i",25),s(46," Edit User "),o(),a(47,"button",26),b("click",function(){return f(r),h(i.closeEditModal())}),o()(),a(48,"div",27)(49,"form",28,0),b("ngSubmit",function(){return f(r),h(i.updateUser())}),a(51,"div",29)(52,"label",30),s(53,"Username"),o(),a(54,"div",31)(55,"input",32),M("ngModelChange",function(m){return f(r),y(i.editUserObject.username,m)||(i.editUserObject.username=m),h(m)}),o(),p(56,"i",33),o()(),a(57,"div",29)(58,"label",34),s(59,"Email"),o(),a(60,"div",31)(61,"input",35),M("ngModelChange",function(m){return f(r),y(i.editUserObject.email,m)||(i.editUserObject.email=m),h(m)}),o(),p(62,"i",36),o()(),a(63,"div",29)(64,"label",37),s(65,"Phone Number"),o(),a(66,"div",31)(67,"input",38),M("ngModelChange",function(m){return f(r),y(i.editUserObject.phoneNumber,m)||(i.editUserObject.phoneNumber=m),h(m)}),o(),p(68,"i",39),o()(),a(69,"div",29)(70,"label",40),s(71,"Role"),o(),a(72,"div",31)(73,"select",41),M("ngModelChange",function(m){return f(r),y(i.editUserObject.role,m)||(i.editUserObject.role=m),h(m)}),v(74,Pl,3,4,"option",42),o(),p(75,"i",43),o()(),a(76,"div",29)(77,"div",44)(78,"input",45),M("ngModelChange",function(m){return f(r),y(i.editUserObject.isActive,m)||(i.editUserObject.isActive=m),h(m)}),o(),a(79,"label",46),s(80," Active Account "),o()()(),v(81,Sl,2,1,"div",47),a(82,"div",48)(83,"button",49),b("click",function(){return f(r),h(i.closeEditModal())}),p(84,"i",50),s(85," Cancel "),o(),a(86,"button",51),p(87,"i",52),s(88),o()()()()()()(),v(89,Ol,1,0,"div",53)}if(t&2){let r=ve(50);l(6),C("ngModel",i.searchTerm),l(5),c("ngIf",i.errorMessage),l(),c("ngIf",i.successMessage),l(18),c("ngForOf",i.getCurrentPageUsers()),l(2),c("disabled",i.currentPage===1),l(4),ue("Page ",i.currentPage," of ",i.totalPages,""),l(),c("disabled",i.currentPage===i.totalPages),l(3),Ee("display",i.isEditModalOpen?"block":"none"),se("show",i.isEditModalOpen),l(15),C("ngModel",i.editUserObject.username),l(6),C("ngModel",i.editUserObject.email),l(6),C("ngModel",i.editUserObject.phoneNumber),l(6),C("ngModel",i.editUserObject.role),l(),c("ngForOf",i.availableRoles),l(4),C("ngModel",i.editUserObject.isActive),l(3),c("ngIf",i.errorMessage),l(5),c("disabled",!r.form.valid||i.isSubmitting),l(2),w(" ",i.isSubmitting?"Saving...":"Save Changes"," "),l(),c("ngIf",i.isEditModalOpen)}},dependencies:[j,D,$,G,Z,F,pt,Q,B,W,K,q,H,Wn,zn,Rn,Fn,Bn,oe],styles:[".container[_ngcontent-%COMP%]{padding:2rem 1rem}.list-title[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.8rem;font-weight:600;margin-bottom:2rem;position:relative}.search-input[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:6px;padding:.5rem 1rem;transition:all .3s ease}.search-input[_ngcontent-%COMP%]:focus{border-color:#4a90e2;box-shadow:0 0 0 2px #4a90e21a}.add-user-btn[_ngcontent-%COMP%]{background-color:#4a90e2;border:none;border-radius:6px;color:#fff;padding:.5rem 1rem;transition:all .2s ease}.add-user-btn[_ngcontent-%COMP%]:hover{background-color:#357abd;transform:translateY(-1px)}.table-responsive[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000000d;margin-top:1.5rem}.table[_ngcontent-%COMP%]{margin-bottom:0}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8fafc;border-bottom:2px solid #e2e8f0;color:#64748b;font-weight:600;padding:1rem;text-transform:uppercase;font-size:.875rem}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #f1f5f9;color:#334155;padding:1rem;vertical-align:middle}.badge[_ngcontent-%COMP%]{font-weight:500;padding:.5rem .75rem;border-radius:6px;font-size:.75rem}.bg-primary[_ngcontent-%COMP%]{background-color:#4a90e2!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#64748b!important}.btn[_ngcontent-%COMP%]{border-radius:6px;font-weight:500;padding:.5rem 1rem;transition:all .2s ease}.btn-sm[_ngcontent-%COMP%]{font-size:.875rem;padding:.4rem .8rem}.btn-warning[_ngcontent-%COMP%]{background-color:#f59e0b;border:none;color:#fff}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#d97706}.btn-danger[_ngcontent-%COMP%]{background-color:#ef4444;border:none}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#dc2626}.status-toggle-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem .8rem;border-radius:6px;font-size:.75rem;font-weight:500;transition:all .2s ease;border:1px solid transparent}.status-toggle-btn.active[_ngcontent-%COMP%]{background-color:#f8fafc;border-color:#dc2626;color:#dc2626}.status-toggle-btn.active[_ngcontent-%COMP%]:hover{background-color:#dc2626;color:#fff}.status-toggle-btn.inactive[_ngcontent-%COMP%]{background-color:#f8fafc;border-color:#16a34a;color:#16a34a}.status-toggle-btn.inactive[_ngcontent-%COMP%]:hover{background-color:#16a34a;color:#fff}.status-toggle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem;transition:transform .2s ease}.status-toggle-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:rotate(180deg)}.delete-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.5rem;border-radius:6px;background-color:#f8fafc;border:1px solid #dc2626;color:#dc2626;transition:all .2s ease}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#dc2626;color:#fff}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:1.5rem;padding:1rem 0}.btn-outline-primary[_ngcontent-%COMP%]{border:1px solid #4a90e2;color:#4a90e2}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#4a90e2;color:#fff}.page-info[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem}.alert[_ngcontent-%COMP%]{border-radius:6px;margin-bottom:1rem;padding:1rem}.alert-danger[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fee2e2;color:#991b1b}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem}.list-title[_ngcontent-%COMP%]{font-size:1.5rem}.table-responsive[_ngcontent-%COMP%]{margin-top:1rem}.btn-sm[_ngcontent-%COMP%]{padding:.3rem .6rem}}.action-dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.action-btn[_ngcontent-%COMP%]{background-color:#f8fafc;border:1px solid #e2e8f0;color:#475569;padding:.5rem 1rem;border-radius:6px;cursor:pointer;display:flex;align-items:center;gap:.5rem;font-size:.875rem;transition:all .2s ease}.action-btn[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;border-color:#cbd5e1}.dropdown-menu[_ngcontent-%COMP%]{min-width:200px;padding:.5rem 0;border:1px solid #e2e8f0;border-radius:6px;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;color:#475569;transition:all .2s ease;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8fafc;color:#2563eb}.dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1rem;text-align:center}.dropdown-item.activate[_ngcontent-%COMP%]{color:#16a34a}.dropdown-item.deactivate[_ngcontent-%COMP%]{color:#dc2626}.dropdown-item.activate[_ngcontent-%COMP%]:hover{background-color:#f0fdf4}.dropdown-item.deactivate[_ngcontent-%COMP%]:hover{background-color:#fef2f2}.dropdown-divider[_ngcontent-%COMP%]{height:1px;background-color:#e2e8f0;margin:.5rem 0}.success-message[_ngcontent-%COMP%]{background-color:#f0fdf4;border:1px solid #bbf7d0;color:#16a34a;padding:1rem;border-radius:6px;margin-bottom:1rem}.error-message[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:1rem;border-radius:6px;margin-bottom:1rem}.modal-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #dee2e6}.modal-title[_ngcontent-%COMP%]{color:#495057;font-size:1.25rem}.modal-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;color:#6c757d}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.input-wrapper[_ngcontent-%COMP%]{position:relative}.input-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);color:#6c757d}.form-control[_ngcontent-%COMP%]{padding-right:30px}.form-check[_ngcontent-%COMP%]{margin-top:1rem}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid #dee2e6;padding:1rem}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0062cc}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;border-color:#6c757d}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268;border-color:#545b62}.alert[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;z-index:1040}.modal[_ngcontent-%COMP%]{z-index:1050}"]})};function kl(n,e){if(n&1&&(a(0,"div",28),p(1,"i",29),s(2),o()),n&2){let t=u();l(2),w(" ",t.successMessage," ")}}function Al(n,e){if(n&1&&(a(0,"div",30),p(1,"i",31),s(2),o()),n&2){let t=u();l(2),w(" ",t.errorMessage," ")}}function Il(n,e){if(n&1&&(a(0,"option",32),s(1),R(2,"titlecase"),o()),n&2){let t=e.$implicit;c("value",t),l(),w(" ",Y(2,2,t)," ")}}function El(n,e){n&1&&(a(0,"span"),s(1,"Add User"),o())}function Tl(n,e){n&1&&p(0,"div",33)}var Bt=class n{constructor(e,t){this.adminService=e;this.router=t}userObject={username:"",email:"",phoneNumber:"",role:"client"};roles=["client","admin"];isSubmitting=!1;successMessage="";errorMessage="";addUser(){this.isSubmitting=!0,this.successMessage="",this.errorMessage="",this.adminService.createClient(this.userObject).subscribe(e=>{console.log("User created:",e),this.successMessage="User created successfully! Login credentials have been sent to the user's email.",this.isSubmitting=!1,this.userObject={username:"",email:"",phoneNumber:"",role:"client"},setTimeout(()=>{this.navigateToList()},2e3)},e=>{console.error("Error creating user:",e),this.errorMessage=e.error?.message||"Failed to create user. Please try again.",this.isSubmitting=!1})}navigateToList(){this.router.navigate(["/admin/users"])}static \u0275fac=function(t){return new(t||n)(x(L),x(V))};static \u0275cmp=T({type:n,selectors:[["app-add-user"]],standalone:!1,decls:38,vars:10,consts:[["userForm","ngForm"],[1,"form-container"],[1,"form-card"],[1,"back-button"],[1,"btn-back",3,"click"],[1,"fas","fa-arrow-left"],[1,"form-title"],[1,"fas","fa-user-plus"],["class","alert alert-success","role","alert",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required","","placeholder","Enter full name",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-user"],["for","email"],["type","email","id","email","name","email","required","","placeholder","Enter email address",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-envelope"],["for","phone"],["type","tel","id","phone","name","phoneNumber","required","","placeholder","Enter phone number",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-phone"],["for","role"],["id","role","name","role","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"fas","fa-user-shield"],["type","submit",1,"btn-submit",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],["role","alert",1,"alert","alert-success"],[1,"fas","fa-check-circle"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-circle"],[3,"value"],[1,"spinner"]],template:function(t,i){if(t&1){let r=S();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),b("click",function(){return f(r),h(i.navigateToList())}),p(4,"i",5),a(5,"span"),s(6,"Back to List"),o()()(),a(7,"h2",6),p(8,"i",7),s(9," Add New User "),o(),v(10,kl,3,1,"div",8)(11,Al,3,1,"div",9),a(12,"form",10,0),b("ngSubmit",function(){return f(r),h(i.addUser())}),a(14,"div",11)(15,"label",12),s(16,"Full Name"),o(),a(17,"input",13),M("ngModelChange",function(m){return f(r),y(i.userObject.username,m)||(i.userObject.username=m),h(m)}),o(),p(18,"i",14),o(),a(19,"div",11)(20,"label",15),s(21,"Email Address"),o(),a(22,"input",16),M("ngModelChange",function(m){return f(r),y(i.userObject.email,m)||(i.userObject.email=m),h(m)}),o(),p(23,"i",17),o(),a(24,"div",11)(25,"label",18),s(26,"Phone Number"),o(),a(27,"input",19),M("ngModelChange",function(m){return f(r),y(i.userObject.phoneNumber,m)||(i.userObject.phoneNumber=m),h(m)}),o(),p(28,"i",20),o(),a(29,"div",11)(30,"label",21),s(31,"Role"),o(),a(32,"select",22),M("ngModelChange",function(m){return f(r),y(i.userObject.role,m)||(i.userObject.role=m),h(m)}),v(33,Il,3,4,"option",23),o(),p(34,"i",24),o(),a(35,"button",25),v(36,El,2,0,"span",26)(37,Tl,1,0,"div",27),o()()()()}if(t&2){let r=ve(13);l(10),c("ngIf",i.successMessage),l(),c("ngIf",i.errorMessage),l(6),C("ngModel",i.userObject.username),l(5),C("ngModel",i.userObject.email),l(5),C("ngModel",i.userObject.phoneNumber),l(5),C("ngModel",i.userObject.role),l(),c("ngForOf",i.roles),l(2),c("disabled",!r.form.valid||i.isSubmitting),l(),c("ngIf",!i.isSubmitting),l(),c("ngIf",i.isSubmitting)}},dependencies:[j,D,$,G,Z,F,Q,B,W,K,q,H,oe],styles:[`.form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px}.form-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:20px;box-shadow:0 15px 35px #0003;padding:40px;width:100%;max-width:550px;position:relative;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .5s ease-out}.form-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,#ffffff1a,#fff3);pointer-events:none;border-radius:20px}.back-button[_ngcontent-%COMP%]{margin-bottom:30px}.btn-back[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:12px 24px;border-radius:50px;font-size:1rem;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px;box-shadow:0 4px 15px #0003}.btn-back[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #0000004d}.form-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#2d3748;margin-bottom:30px;text-align:center;display:flex;align-items:center;justify-content:center;gap:12px}.form-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4c1d95;font-size:2rem}.form-group[_ngcontent-%COMP%]{margin-bottom:25px;position:relative}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:600;color:#4a5568;margin-bottom:8px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 20px;border:2px solid #e2e8f0;border-radius:12px;font-size:1rem;transition:all .3s ease;background:#ffffffe6}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#6a11cb;box-shadow:0 0 0 3px #6a11cb1a;outline:none}.form-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:15px;top:45px;color:#a0aec0}.form-group[_ngcontent-%COMP%]   select.form-control[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none;padding-right:40px;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%23a0aec0' d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 10px center}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:14px 30px;background:linear-gradient(135deg,#6a11cb,#2575fc);color:#fff;border:none;border-radius:12px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #6a11cb66;position:relative;overflow:hidden}.btn-submit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #6a11cb99}.btn-submit[_ngcontent-%COMP%]:active{transform:translateY(1px)}.btn-submit[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#cbd5e0,#a0aec0);cursor:not-allowed}.spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto}.alert[_ngcontent-%COMP%]{padding:15px 20px;border-radius:12px;margin-bottom:20px;display:flex;align-items:center;gap:10px;animation:_ngcontent-%COMP%_slideDown .4s ease-out}.alert-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#84fab0,#8fd3f4);color:#1a4731;border:none}.alert-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#feb692,#ea5455);color:#fff;border:none}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.form-card[_ngcontent-%COMP%]{padding:30px 20px}.form-title[_ngcontent-%COMP%]{font-size:1.75rem}.btn-submit[_ngcontent-%COMP%]{padding:12px 24px}}.form-group[_ngcontent-%COMP%]{position:relative}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{transform:translateY(-25px) scale(.8);color:#6a11cb}.form-group[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%]{border-color:#6a11cb}.form-group[_ngcontent-%COMP%]:focus-within{transform:scale(1.01)}`]})};function Dl(n,e){if(n&1&&(a(0,"div",25),p(1,"i",26),s(2),o()),n&2){let t=u();l(2),w(" ",t.successMessage," ")}}function Vl(n,e){if(n&1&&(a(0,"div",27),p(1,"i",28),s(2),o()),n&2){let t=u();l(2),w(" ",t.errorMessage," ")}}function Ll(n,e){if(n&1){let t=S();dt(0),a(1,"button",29),b("click",function(){f(t);let r=u();return h(r.resetPassword())}),p(2,"i",30),s(3," Reset Password "),o(),a(4,"button",31),p(5,"i",32),s(6),o(),ct()}if(n&2){let t=u(),i=ve(8);l(4),c("disabled",!i.form.valid||t.isSubmitting),l(2),w(" ",t.isSubmitting?"Saving...":"Save Changes"," ")}}var Rt=class n{constructor(e,t){this.adminService=e;this.router=t}userProfile={name:"",email:"",phoneNumber:"",role:""};isEditing=!1;successMessage="";errorMessage="";isSubmitting=!1;ngOnInit(){this.loadUserProfile()}loadUserProfile(){this.adminService.getCurrentUserProfile().subscribe(e=>{if(e.success&&e.data){let t=e.data;this.userProfile={name:t.username,email:t.email,phoneNumber:t.phoneNumber||"",role:t.role}}},e=>{this.errorMessage="Failed to load profile data",e.status===401&&this.router.navigate(["/login"])})}resetPassword(){confirm("Are you sure you want to reset your password? A new password will be sent to your email.")&&this.adminService.resetOwnAccount(this.userProfile.email).subscribe(e=>{this.successMessage="Password reset successful. Please check your email for the new password.",setTimeout(()=>this.successMessage="",5e3)},e=>{this.errorMessage=e.error?.message||"Failed to reset password",setTimeout(()=>this.errorMessage="",5e3)})}toggleEdit(){this.isEditing=!this.isEditing,this.isEditing||this.loadUserProfile()}updateProfile(){this.isSubmitting=!0,this.successMessage="",this.errorMessage="";let e={username:this.userProfile.name,email:this.userProfile.email,phoneNumber:this.userProfile.phoneNumber};this.adminService.updateProfile(e).subscribe(t=>{t.success?(this.successMessage=t.message||"Profile updated successfully!",this.isSubmitting=!1,this.isEditing=!1,this.loadUserProfile()):(this.errorMessage=t.message||"Update failed",this.isSubmitting=!1)},t=>{this.errorMessage=t.error?.message||"Failed to update profile",this.isSubmitting=!1})}goBack(){this.router.navigate(["/admin/Schedules"])}static \u0275fac=function(t){return new(t||n)(x(L),x(V))};static \u0275cmp=T({type:n,selectors:[["app-profile"]],standalone:!1,decls:36,vars:12,consts:[["profileForm","ngForm"],[1,"profile-container"],[1,"profile-header"],[1,"fas","fa-user-circle"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit"],[1,"profile-content"],[1,"role-badge"],[1,"fas","fa-user-tag"],[1,"form-group"],["for","name"],[1,"input-wrapper"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel","readonly"],[1,"fas","fa-user"],["for","email"],["type","email","id","email","name","email",1,"form-control",3,"ngModelChange","ngModel","readonly"],[1,"fas","fa-envelope"],["for","phone"],["type","tel","id","phone","name","phoneNumber","required","",1,"form-control",3,"ngModelChange","ngModel","readonly"],[1,"fas","fa-phone"],[1,"action-buttons"],["type","button",1,"btn-edit",3,"click"],[1,"fas",3,"ngClass"],[4,"ngIf"],[1,"alert","alert-success"],[1,"fas","fa-check-circle"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-circle"],["type","button",1,"btn-reset",3,"click"],[1,"fas","fa-key"],["type","submit",1,"btn-save",3,"disabled"],[1,"fas","fa-save"]],template:function(t,i){if(t&1){let r=S();a(0,"div",1)(1,"div",2)(2,"h2"),p(3,"i",3),s(4," My Profile"),o()(),v(5,Dl,3,1,"div",4)(6,Vl,3,1,"div",5),a(7,"form",6,0),b("ngSubmit",function(){return f(r),h(i.updateProfile())}),a(9,"div",7)(10,"div",8),p(11,"i",9),s(12),o(),a(13,"div",10)(14,"label",11),s(15,"Username"),o(),a(16,"div",12)(17,"input",13),M("ngModelChange",function(m){return f(r),y(i.userProfile.name,m)||(i.userProfile.name=m),h(m)}),o(),p(18,"i",14),o()(),a(19,"div",10)(20,"label",15),s(21,"Email"),o(),a(22,"div",12)(23,"input",16),M("ngModelChange",function(m){return f(r),y(i.userProfile.email,m)||(i.userProfile.email=m),h(m)}),o(),p(24,"i",17),o()(),a(25,"div",10)(26,"label",18),s(27,"Phone Number"),o(),a(28,"div",12)(29,"input",19),M("ngModelChange",function(m){return f(r),y(i.userProfile.phoneNumber,m)||(i.userProfile.phoneNumber=m),h(m)}),o(),p(30,"i",20),o()(),a(31,"div",21)(32,"button",22),b("click",function(){return f(r),h(i.toggleEdit())}),p(33,"i",23),s(34),o(),v(35,Ll,7,2,"ng-container",24),o()()()()}t&2&&(l(5),c("ngIf",i.successMessage),l(),c("ngIf",i.errorMessage),l(6),w(" ",i.userProfile.role," "),l(5),C("ngModel",i.userProfile.name),c("readonly",!i.isEditing),l(6),C("ngModel",i.userProfile.email),c("readonly",!i.isEditing),l(6),C("ngModel",i.userProfile.phoneNumber),c("readonly",!i.isEditing),l(4),c("ngClass",i.isEditing?"fa-times":"fa-edit"),l(),w(" ",i.isEditing?"Cancel":"Edit Profile"," "),l(),c("ngIf",i.isEditing))},dependencies:[Pe,D,$,F,B,W,K,q,H],styles:[".profile-container[_ngcontent-%COMP%]{max-width:700px;margin:2rem auto;padding:2.5rem;background:#fff;border-radius:15px;box-shadow:0 8px 30px #0000001f}.profile-header[_ngcontent-%COMP%]{margin-bottom:2.5rem;text-align:center}.profile-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2d3748;font-size:2rem;font-weight:600;display:flex;align-items:center;justify-content:center;gap:1rem}.profile-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.2rem;color:#4299e1}.profile-content[_ngcontent-%COMP%]{position:relative}.role-badge[_ngcontent-%COMP%]{position:absolute;top:-15px;right:0;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:.5rem 1rem;border-radius:20px;font-size:.9rem;font-weight:500;display:flex;align-items:center;gap:.5rem;box-shadow:0 4px 6px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:2rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.95rem;font-weight:500;color:#4a5568;margin-bottom:.5rem}.input-wrapper[_ngcontent-%COMP%]{position:relative}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 2.5rem .75rem 1rem;border:2px solid #e2e8f0;border-radius:10px;font-size:1rem;transition:all .3s ease;background:#fff}.form-control[_ngcontent-%COMP%]:focus{border-color:#4299e1;box-shadow:0 0 0 3px #4299e126;outline:none}.form-control[_ngcontent-%COMP%]:read-only{background-color:#f7fafc;border-color:#edf2f7}.input-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:#a0aec0}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem;justify-content:flex-end}.btn-edit[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%], .btn-reset[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:500;cursor:pointer;transition:all .3s ease}.btn-edit[_ngcontent-%COMP%]{background:#4299e1;color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{background:#3182ce;transform:translateY(-2px)}.btn-save[_ngcontent-%COMP%]{background:#48bb78;color:#fff}.btn-save[_ngcontent-%COMP%]:hover{background:#38a169;transform:translateY(-2px)}.btn-reset[_ngcontent-%COMP%]{background:#f56565;color:#fff}.btn-reset[_ngcontent-%COMP%]:hover{background:#e53e3e;transform:translateY(-2px)}.alert[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1.5rem;border-radius:8px;display:flex;align-items:center;gap:.5rem}.alert-success[_ngcontent-%COMP%]{background-color:#c6f6d5;color:#2f855a;border:1px solid #9ae6b4}.alert-danger[_ngcontent-%COMP%]{background-color:#fed7d7;color:#c53030;border:1px solid #feb2b2}button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none!important}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%]{margin:1rem;padding:1.5rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.btn-edit[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%], .btn-reset[_ngcontent-%COMP%]{width:100%;justify-content:center}.role-badge[_ngcontent-%COMP%]{position:relative;top:0;margin-bottom:1.5rem;justify-content:center}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.form-control[_ngcontent-%COMP%], .btn-edit[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%], .btn-reset[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}"]})};var Ul=[{path:"",component:ht,children:[{path:"ads",component:Tt},{path:"newAds",component:Dt},{path:"archivedAds",component:Vt},{path:"addDevices",component:Lt},{path:"Devices",component:rt},{path:"Devices/:userId",component:rt},{path:"archivedDevices",component:at},{path:"archivedDevices/:userId",component:at},{path:"Makeschedule",component:Ut},{path:"Schedules",component:Nt},{path:"schedule/view",component:jt},{path:"",redirectTo:"Schedules",pathMatch:"full"},{path:"users",component:Ft},{path:"addUser",component:Bt},{path:"profile",component:Rt}]}],zt=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=lt({type:n});static \u0275inj=st({imports:[Ke.forChild(Ul),Ke]})};var eo=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=lt({type:n});static \u0275inj=st({providers:[L],imports:[Sn,zt,Ln,Ke,Un,kn,$n,qn]})};export{eo as AdminModule};
